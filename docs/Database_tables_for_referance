[
  {
    "ai": {
      "gen_at": "2025-10-31T13:08:08.938991+00:00",
      "schemas": {
        "auth": {
          "enums": {
            "action": [
              "INSERT",
              "UPDATE",
              "DELETE",
              "TRUNCATE",
              "ERROR"
            ],
            "aal_level": [
              "aal1",
              "aal2",
              "aal3"
            ],
            "buckettype": [
              "STANDARD",
              "ANALYTICS"
            ],
            "equality_op": [
              "eq",
              "neq",
              "lt",
              "lte",
              "gt",
              "gte",
              "in"
            ],
            "factor_type": [
              "totp",
              "webauthn",
              "phone"
            ],
            "factor_status": [
              "unverified",
              "verified"
            ],
            "oauth_client_type": [
              "public",
              "confidential"
            ],
            "oauth_response_type": [
              "code"
            ],
            "one_time_token_type": [
              "confirmation_token",
              "reauthentication_token",
              "recovery_token",
              "email_change_token_new",
              "email_change_token_current",
              "phone_change_token"
            ],
            "code_challenge_method": [
              "s256",
              "plain"
            ],
            "oauth_registration_type": [
              "dynamic",
              "manual"
            ],
            "oauth_authorization_status": [
              "pending",
              "approved",
              "denied",
              "expired"
            ]
          },
          "tables": {
            "users": {
              "fk": [],
              "pk": [
                [
                  "id"
                ],
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((email_change_confirm_status >= 0) AND (email_change_confirm_status <= 2)))",
                  "n": "users_email_change_confirm_status_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "confirmation_token"
                  ],
                  "n": "confirmation_token_idx",
                  "pr": "((confirmation_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email_change_token_current"
                  ],
                  "n": "email_change_token_current_idx",
                  "pr": "((email_change_token_current)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email_change_token_new"
                  ],
                  "n": "email_change_token_new_idx",
                  "pr": "((email_change_token_new)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "reauthentication_token"
                  ],
                  "n": "reauthentication_token_idx",
                  "pr": "((reauthentication_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "recovery_token"
                  ],
                  "n": "recovery_token_idx",
                  "pr": "((recovery_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email"
                  ],
                  "n": "users_email_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "email"
                  ],
                  "n": "users_email_partial_key",
                  "pr": "(is_sso_user = false)",
                  "uq": true
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "users_instance_id_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "users_instance_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "is_anonymous"
                  ],
                  "n": "users_is_anonymous_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "phone"
                  ],
                  "n": "users_phone_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "users_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "users_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Superadmins can view all users",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "User can edit own account",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(id = auth.uid())"
                  },
                  {
                    "n": "User can view own account",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(id = auth.uid())"
                  },
                  {
                    "n": "Users can update their own user record",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = id)"
                  },
                  {
                    "n": "Users can view their own user record",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "password_hash",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "aud",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "'email'::text",
                  "n": "auth_provider",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "is_email_verified",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "encrypted_password",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email_confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "invited_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "confirmation_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "confirmation_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "recovery_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "recovery_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email_change_token_new",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "email_change",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "email_change_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "last_sign_in_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "raw_app_meta_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "raw_user_meta_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "is_super_admin",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "NULL::character varying",
                  "n": "phone",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone_confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "phone_change",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "''::character varying",
                  "n": "phone_change_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "phone_change_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "email_change_token_current",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "0",
                  "n": "email_change_confirm_status",
                  "id": false,
                  "nl": true,
                  "ty": "int2"
                },
                {
                  "d": null,
                  "n": "banned_until",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "reauthentication_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "reauthentication_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "is_sso_user",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "deleted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "is_anonymous",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                }
              ]
            },
            "topics": {
              "fk": [
                {
                  "n": "topics_module_id_fkey",
                  "map": [
                    {
                      "c": "module_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "modules"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "module_id"
                  ],
                  "n": "idx_topics_module_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "topics_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "module_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "buckets": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "bname",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "buckets_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "public",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "false",
                  "n": "avif_autodetection",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "file_size_limit",
                  "id": false,
                  "nl": true,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "allowed_mime_types",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'STANDARD'::storage.buckettype",
                  "n": "type",
                  "id": false,
                  "nl": false,
                  "ty": "buckettype"
                }
              ]
            },
            "lessons": {
              "fk": [
                {
                  "n": "lessons_topic_id_fkey",
                  "map": [
                    {
                      "c": "topic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "topics"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "category"
                  ],
                  "n": "idx_lessons_category",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "topic_id"
                  ],
                  "n": "idx_lessons_topic_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "lessons_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "video_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "audio_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'text'::character varying",
                  "n": "lesson_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "80",
                  "n": "passing_score_percentage",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "0",
                  "n": "duration",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "modules": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "modules_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "thumbnail_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "objects": {
              "fk": [
                {
                  "n": "objects_bucketId_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "name"
                  ],
                  "n": "bucketid_objname",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "name",
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_name_bucket_level_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "bucket_id",
                    "name"
                  ],
                  "n": "idx_objects_bucket_id_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_objects_lower_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "name"
                  ],
                  "n": "name_prefix_search",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level",
                    "name"
                  ],
                  "n": "objects_bucket_id_level_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "objects_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "last_accessed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "path_tokens",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "user_metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "level",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                }
              ]
            },
            "secrets": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "secrets_name_idx",
                  "pr": "(name IS NOT NULL)",
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "secrets_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "''::text",
                  "n": "description",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "secret",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "vault._crypto_aead_det_noncegen()",
                  "n": "nonce",
                  "id": false,
                  "nl": true,
                  "ty": "bytea"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "prefixes": {
              "fk": [
                {
                  "n": "prefixes_bucketId_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "bucket_id",
                  "level",
                  "name"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_prefixes_lower_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level",
                    "name"
                  ],
                  "n": "prefixes_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "level",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "sessions": {
              "fk": [
                {
                  "n": "sessions_oauth_client_id_fkey",
                  "map": [
                    {
                      "c": "oauth_client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "not_after"
                  ],
                  "n": "sessions_not_after_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "oauth_client_id"
                  ],
                  "n": "sessions_oauth_client_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "sessions_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "created_at"
                  ],
                  "n": "user_id_created_at_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "factor_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "aal",
                  "id": false,
                  "nl": true,
                  "ty": "aal_level"
                },
                {
                  "d": null,
                  "n": "not_after",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "refreshed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "user_agent",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "ip",
                  "id": false,
                  "nl": true,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "tag",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "oauth_client_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "instances": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "instances_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "uuid",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "raw_base_config",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "questions": {
              "fk": [
                {
                  "n": "questions_lesson_id_fkey",
                  "map": [
                    {
                      "c": "lesson_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "lessons"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "module_type",
                    "category",
                    "subdivision"
                  ],
                  "n": "idx_questions_filters",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_questions_lesson_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "questions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "question_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'multiple_choice'::character varying",
                  "n": "question_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "difficulty",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "1",
                  "n": "points",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "explanation",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "module_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "subdivision",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "exam_part",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "subtopics": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "subtopics_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "topic_id",
                    "name"
                  ],
                  "n": "subtopics_topic_id_name_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Anyone can view subtopics",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('subtopics_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "position",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "flashcards": {
              "fk": [
                {
                  "n": "flashcards_topic_id_fkey",
                  "map": [
                    {
                      "c": "topic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "topics"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "flashcards_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "category"
                  ],
                  "n": "idx_flashcards_category",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "topic_id"
                  ],
                  "n": "idx_flashcards_topic_id",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "front_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "back_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "flow_state": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "flow_state_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "flow_state_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "auth_code"
                  ],
                  "n": "idx_auth_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "authentication_method"
                  ],
                  "n": "idx_user_id_auth_method",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "auth_code",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge_method",
                  "id": false,
                  "nl": false,
                  "ty": "code_challenge_method"
                },
                {
                  "d": null,
                  "n": "code_challenge",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_access_token",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_refresh_token",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "authentication_method",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "auth_code_issued_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "identities": {
              "fk": [
                {
                  "n": "identities_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "identities_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "identities_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "provider_id",
                    "provider"
                  ],
                  "n": "identities_provider_id_provider_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "identities_user_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "identity_data",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "provider",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "last_sign_in_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "migrations": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "migrations_name_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "migrations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "hash",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "executed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "mock_exams": {
              "fk": [
                {
                  "n": "mock_exams_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_exams_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own mock exam",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can manage own mock exams",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('mock_exams_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "correct_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "incorrect_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "skipped_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "admin_users": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((role = ANY (ARRAY['superadmin'::text, 'editor'::text, 'moderator'::text])))",
                  "n": "admin_users_role_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "admin_users_email_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "admin_users_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Only superadmin can delete admin users",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "((role = 'superadmin'::text) AND is_active)"
                  },
                  {
                    "n": "Only superadmin can edit admin users",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "((role = 'superadmin'::text) AND is_active)"
                  },
                  {
                    "n": "Superadmin can create admin users",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users admin_users_1\n  WHERE ((admin_users_1.id = auth.uid()) AND (admin_users_1.role = 'superadmin'::text) AND admin_users_1.is_active)))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Superadmins can insert admin users",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users admin_users_1\n  WHERE ((admin_users_1.id = auth.uid()) AND (admin_users_1.role = 'superadmin'::text) AND (admin_users_1.is_active = true))))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": null
                  },
                  {
                    "n": "Users can view their own admin record",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "password_hash",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "full_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "daily_stats": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "date"
                  ],
                  "n": "daily_stats_date_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "daily_stats_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "date"
                  ],
                  "n": "idx_daily_stats_date",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "0",
                  "n": "total_signups",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_conversions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "active_users",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_sessions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "avg_session_duration",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "0",
                  "n": "total_revenue",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "mfa_factors": {
              "fk": [
                {
                  "n": "mfa_factors_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "user_id",
                    "created_at"
                  ],
                  "n": "factor_id_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "last_challenged_at"
                  ],
                  "n": "mfa_factors_last_challenged_at_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mfa_factors_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "friendly_name",
                    "user_id"
                  ],
                  "n": "mfa_factors_user_friendly_name_unique",
                  "pr": "(TRIM(BOTH FROM friendly_name) <> ''::text)",
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "mfa_factors_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "phone"
                  ],
                  "n": "unique_phone_factor_per_user",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "friendly_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "factor_type",
                  "id": false,
                  "nl": false,
                  "ty": "factor_type"
                },
                {
                  "d": null,
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "factor_status"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "secret",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "last_challenged_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "web_authn_credential",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "web_authn_aaguid",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "sso_domains": {
              "fk": [
                {
                  "n": "sso_domains_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(domain) > 0))",
                  "n": "domain not empty"
                }
              ],
              "idx": [
                {
                  "c": null,
                  "n": "sso_domains_domain_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "sso_domains_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "sso_domains_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "domain",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "app_settings": {
              "fk": [],
              "pk": [
                [
                  "key"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "key"
                  ],
                  "n": "app_settings_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Active admin can update app settings",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  },
                  {
                    "n": "Active admin can view app settings",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "value",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_results": {
              "fk": [
                {
                  "n": "mock_results_mock_exam_id_fkey",
                  "map": [
                    {
                      "c": "mock_exam_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "mock_exams"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_results_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert result for own mock exam",
                    "chk": "(mock_exam_id IN ( SELECT mock_exams.id\n   FROM mock_exams\n  WHERE (mock_exams.user_id = auth.uid())))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can view results of own mock exam",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(mock_exam_id IN ( SELECT mock_exams.id\n   FROM mock_exams\n  WHERE (mock_exams.user_id = auth.uid())))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('mock_results_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "mock_exam_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "selected_option_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "is_correct",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "time_taken_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "subscription": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "entity"
                  ],
                  "n": "ix_realtime_subscription_entity",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "pk_subscription",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "subscription_id",
                    "entity",
                    "filters"
                  ],
                  "n": "subscription_subscription_id_entity_filters_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": true,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "subscription_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "entity",
                  "id": false,
                  "nl": false,
                  "ty": "regclass"
                },
                {
                  "d": "'{}'::realtime.user_defined_filter[]",
                  "n": "filters",
                  "id": false,
                  "nl": false,
                  "ty": "_user_defined_filter"
                },
                {
                  "d": null,
                  "n": "claims",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "claims_role",
                  "id": false,
                  "nl": false,
                  "ty": "regrole"
                },
                {
                  "d": "timezone('utc'::text, now())",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                }
              ]
            },
            "chat_messages": {
              "fk": [
                {
                  "n": "chat_messages_conversation_id_fkey",
                  "map": [
                    {
                      "c": "conversation_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "chat_conversations"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((role = ANY (ARRAY['user'::text, 'assistant'::text])))",
                  "n": "chat_messages_role_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "chat_messages_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "conversation_id",
                    "created_at"
                  ],
                  "n": "idx_chat_messages_conversation",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "role",
                    "created_at"
                  ],
                  "n": "idx_chat_messages_role",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "chat_messages_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "chat_messages_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM chat_conversations\n  WHERE ((chat_conversations.id = chat_messages.conversation_id) AND (chat_conversations.user_id = auth.uid()))))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "conversation_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'{}'::jsonb",
                  "n": "metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_sessions": {
              "fk": [
                {
                  "n": "mock_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "user_profiles"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((exam_part = ANY (ARRAY['part_a'::text, 'part_b'::text])))",
                  "n": "mock_sessions_exam_part_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "exam_part"
                  ],
                  "n": "idx_mock_sessions_exam_part",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_mock_sessions_user_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_sessions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Users can insert own mock sessions",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update own mock sessions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  },
                  {
                    "n": "Users can view own mock sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "exam_part",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "correct_answers",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "score_percentage",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "time_taken_minutes",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "passed",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "oauth_clients": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(client_name) <= 1024))",
                  "n": "oauth_clients_client_name_length"
                },
                {
                  "e": "CHECK ((char_length(client_uri) <= 2048))",
                  "n": "oauth_clients_client_uri_length"
                },
                {
                  "e": "CHECK ((char_length(logo_uri) <= 2048))",
                  "n": "oauth_clients_logo_uri_length"
                }
              ],
              "idx": [
                {
                  "c": [
                    "deleted_at"
                  ],
                  "n": "oauth_clients_deleted_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_clients_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "client_secret_hash",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "registration_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_registration_type"
                },
                {
                  "d": null,
                  "n": "redirect_uris",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "grant_types",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_uri",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "logo_uri",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "deleted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "'confidential'::auth.oauth_client_type",
                  "n": "client_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_client_type"
                }
              ]
            },
            "sso_providers": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((resource_id = NULL::text) OR (char_length(resource_id) > 0)))",
                  "n": "resource_id not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "sso_providers_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": null,
                  "n": "sso_providers_resource_id_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "resource_id"
                  ],
                  "n": "sso_providers_resource_id_pattern_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "disabled",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                }
              ]
            },
            "subscriptions": {
              "fk": [
                {
                  "n": "fk_subscriptions_coupon_code",
                  "map": [
                    {
                      "c": "coupon_code",
                      "rc": "code"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "discount_coupons"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "fk_subscriptions_plan_id",
                  "map": [
                    {
                      "c": "plan_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subscription_plans"
                  },
                  "on_d": "RESTRICT",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "subscriptions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((plan_type = ANY (ARRAY['trial'::text, '1_month'::text, '3_month'::text, '6_month'::text])))",
                  "n": "subscriptions_plan_type_check"
                },
                {
                  "e": "CHECK ((payment_gateway = ANY (ARRAY['stripe'::text, 'razorpay'::text, NULL::text])))",
                  "n": "valid_payment_gateway"
                },
                {
                  "e": "CHECK ((status = ANY (ARRAY['trial'::text, 'active'::text, 'expired'::text, 'cancelled'::text])))",
                  "n": "valid_subscription_status"
                }
              ],
              "idx": [
                {
                  "c": [
                    "coupon_code"
                  ],
                  "n": "idx_subscriptions_coupon_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "plan_id"
                  ],
                  "n": "idx_subscriptions_plan_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "status"
                  ],
                  "n": "idx_subscriptions_status",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "subscriptions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Superadmins can view all subscriptions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "User can view own subscription",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "plan_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "start_date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": null,
                  "n": "end_date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "false",
                  "n": "auto_renew",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "'active'::text",
                  "n": "status",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "plan_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "payment_gateway",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "payment_method",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "amount_paid_usd",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "coupon_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "discount_amount",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "transaction_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                }
              ]
            },
            "user_profiles": {
              "fk": [
                {
                  "n": "user_profiles_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((gender = ANY (ARRAY['male'::text, 'female'::text, 'other'::text])))",
                  "n": "user_profiles_gender_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "idx_user_profiles_email",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "oauth_provider"
                  ],
                  "n": "idx_user_profiles_oauth_provider",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_profiles_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own profile",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own profile",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own profile",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own profile",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "Users can insert their own profile",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update their own profile",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  },
                  {
                    "n": "Users can view their own profile",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "full_name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone_number",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "country_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "date_of_birth",
                  "id": false,
                  "nl": true,
                  "ty": "date"
                },
                {
                  "d": null,
                  "n": "gender",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "current_country",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "nmc_attempts",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "uses_coaching",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "nursing_id_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "profile_completed",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'email'::character varying",
                  "n": "oauth_provider",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                }
              ]
            },
            "user_sessions": {
              "fk": [
                {
                  "n": "user_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_token"
                  ],
                  "n": "user_sessions_session_token_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can update own sessions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "device_info",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "session_token",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "ip_address",
                  "id": false,
                  "nl": true,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "user_agent",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "last_active_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "ai_usage_stats": {
              "fk": [
                {
                  "n": "ai_usage_stats_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "ai_usage_stats_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "date"
                  ],
                  "n": "idx_ai_usage_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "date"
                  ],
                  "n": "idx_ai_usage_user_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "date"
                  ],
                  "n": "unique_user_date",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "ai_usage_stats_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "ai_usage_stats_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "CURRENT_DATE",
                  "n": "date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "0",
                  "n": "message_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_tokens",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0.0000",
                  "n": "total_cost",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "dashboard_hero": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "dashboard_hero_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "display_order"
                  ],
                  "n": "idx_dashboard_hero_display_order",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can insert/update/delete dashboard hero",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  },
                  {
                    "n": "Any user can view dashboard hero",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('dashboard_hero_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "headline",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "subheadline",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "button_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "button_link",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                }
              ]
            },
            "learning_paths": {
              "fk": [
                {
                  "n": "learning_paths_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((path_type = ANY (ARRAY['sequential'::text, 'adaptive'::text, 'custom'::text])))",
                  "n": "learning_paths_path_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "learning_paths_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own learning path",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own learning path",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own learning path",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own learning path",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('learning_paths_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "path_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "details",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": "0",
                  "n": "current_index",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "lesson_quizzes": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "lesson_quizzes_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('lesson_quizzes_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "position",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "mfa_amr_claims": {
              "fk": [
                {
                  "n": "mfa_amr_claims_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "amr_id_pk",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_id",
                    "authentication_method"
                  ],
                  "n": "mfa_amr_claims_session_id_authentication_method_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "authentication_method",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "mfa_challenges": {
              "fk": [
                {
                  "n": "mfa_challenges_auth_factor_id_fkey",
                  "map": [
                    {
                      "c": "factor_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "mfa_factors"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "mfa_challenge_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mfa_challenges_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "factor_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "verified_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "ip_address",
                  "id": false,
                  "nl": false,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "otp_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "web_authn_session_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                }
              ]
            },
            "oauth_consents": {
              "fk": [
                {
                  "n": "oauth_consents_client_id_fkey",
                  "map": [
                    {
                      "c": "client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "oauth_consents_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((revoked_at IS NULL) OR (revoked_at >= granted_at)))",
                  "n": "oauth_consents_revoked_after_granted"
                },
                {
                  "e": "CHECK ((char_length(scopes) <= 2048))",
                  "n": "oauth_consents_scopes_length"
                },
                {
                  "e": "CHECK ((char_length(TRIM(BOTH FROM scopes)) > 0))",
                  "n": "oauth_consents_scopes_not_empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "client_id"
                  ],
                  "n": "oauth_consents_active_client_idx",
                  "pr": "(revoked_at IS NULL)",
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "client_id"
                  ],
                  "n": "oauth_consents_active_user_client_idx",
                  "pr": "(revoked_at IS NULL)",
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_consents_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "client_id"
                  ],
                  "n": "oauth_consents_user_client_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "granted_at"
                  ],
                  "n": "oauth_consents_user_order_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "client_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "scopes",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "granted_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "revoked_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "question_media": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((media_type = ANY (ARRAY['image'::text, 'audio'::text, 'video'::text, 'other'::text])))",
                  "n": "question_media_media_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "question_media_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Anyone can view question media",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('question_media_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "media_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "media_url",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "refresh_tokens": {
              "fk": [
                {
                  "n": "refresh_tokens_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "refresh_tokens_instance_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "instance_id",
                    "user_id"
                  ],
                  "n": "refresh_tokens_instance_id_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "parent"
                  ],
                  "n": "refresh_tokens_parent_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "refresh_tokens_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_id",
                    "revoked"
                  ],
                  "n": "refresh_tokens_session_id_revoked_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "token"
                  ],
                  "n": "refresh_tokens_token_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "updated_at"
                  ],
                  "n": "refresh_tokens_updated_at_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "nextval('auth.refresh_tokens_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "revoked",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "parent",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "saml_providers": {
              "fk": [
                {
                  "n": "saml_providers_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(entity_id) > 0))",
                  "n": "entity_id not empty"
                },
                {
                  "e": "CHECK (((metadata_url = NULL::text) OR (char_length(metadata_url) > 0)))",
                  "n": "metadata_url not empty"
                },
                {
                  "e": "CHECK ((char_length(metadata_xml) > 0))",
                  "n": "metadata_xml not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "entity_id"
                  ],
                  "n": "saml_providers_entity_id_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "saml_providers_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "saml_providers_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "entity_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "metadata_xml",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "metadata_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "attribute_mapping",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "name_id_format",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                }
              ]
            },
            "user_analytics": {
              "fk": [
                {
                  "n": "user_analytics_subtopic_id_fkey",
                  "map": [
                    {
                      "c": "subtopic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subtopics"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "user_analytics_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_analytics_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "topic_id",
                    "subtopic_id"
                  ],
                  "n": "user_analytics_user_id_topic_id_subtopic_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own analytics",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own analytics",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own analytics",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('user_analytics_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "subtopic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "practice_attempts",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "correct_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "incorrect_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "average_time_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "float8"
                },
                {
                  "d": "now()",
                  "n": "last_updated",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "email_templates": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "email_templates_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "template_name"
                  ],
                  "n": "email_templates_template_name_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "template_name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "subject",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "html_content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "variables",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "one_time_tokens": {
              "fk": [
                {
                  "n": "one_time_tokens_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(token_hash) > 0))",
                  "n": "one_time_tokens_token_hash_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "one_time_tokens_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "relates_to"
                  ],
                  "n": "one_time_tokens_relates_to_hash_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "token_hash"
                  ],
                  "n": "one_time_tokens_token_hash_hash_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "token_type"
                  ],
                  "n": "one_time_tokens_user_id_token_type_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "token_type",
                  "id": false,
                  "nl": false,
                  "ty": "one_time_token_type"
                },
                {
                  "d": null,
                  "n": "token_hash",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "relates_to",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                }
              ]
            },
            "discount_coupons": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((discount_type = ANY (ARRAY['percentage'::text, 'fixed_amount'::text])))",
                  "n": "valid_discount_type"
                },
                {
                  "e": "CHECK ((((discount_type = 'percentage'::text) AND ((discount_value >= (1)::numeric) AND (discount_value <= (100)::numeric))) OR (discount_type = 'fixed_amount'::text)))",
                  "n": "valid_percentage"
                }
              ],
              "idx": [
                {
                  "c": [
                    "code"
                  ],
                  "n": "discount_coupons_code_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "discount_coupons_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "code"
                  ],
                  "n": "idx_discount_coupons_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "is_active"
                  ],
                  "n": "idx_discount_coupons_is_active",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "valid_from",
                    "valid_until"
                  ],
                  "n": "idx_discount_coupons_valid_dates",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "code",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "discount_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "discount_value",
                  "id": false,
                  "nl": false,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "applicable_plans",
                  "id": false,
                  "nl": true,
                  "ty": "_uuid"
                },
                {
                  "d": null,
                  "n": "usage_limit",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "usage_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "valid_from",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "valid_until",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_exam_config": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_exam_config_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can manage mock exam config",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Students can view mock exam config",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "15",
                  "n": "part_a_question_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "30",
                  "n": "part_a_duration_minutes",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "120",
                  "n": "part_b_question_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "150",
                  "n": "part_b_duration_minutes",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "allow_calculator",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "practice_results": {
              "fk": [
                {
                  "n": "practice_results_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "practice_sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "practice_results_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert result for own practice session",
                    "chk": "(session_id IN ( SELECT practice_sessions.id\n   FROM practice_sessions\n  WHERE (practice_sessions.user_id = auth.uid())))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can view results of own practice session",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(session_id IN ( SELECT practice_sessions.id\n   FROM practice_sessions\n  WHERE (practice_sessions.user_id = auth.uid())))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('practice_results_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "selected_option_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "is_correct",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "time_taken_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "question_options": {
              "fk": [
                {
                  "n": "question_options_question_id_fkey",
                  "map": [
                    {
                      "c": "question_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "questions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "question_id"
                  ],
                  "n": "idx_question_options_question_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "question_options_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "option_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "is_correct",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "audit_log_entries": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "audit_log_entries_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "audit_logs_instance_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "payload",
                  "id": false,
                  "nl": true,
                  "ty": "json"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "ip_address",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                }
              ]
            },
            "buckets_analytics": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "buckets_analytics_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'ANALYTICS'::storage.buckettype",
                  "n": "type",
                  "id": false,
                  "nl": false,
                  "ty": "buckettype"
                },
                {
                  "d": "'ICEBERG'::text",
                  "n": "format",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "content_approvals": {
              "fk": [
                {
                  "n": "content_approvals_reviewed_by_fkey",
                  "map": [
                    {
                      "c": "reviewed_by",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "admin_users"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "content_approvals_submitted_by_fkey",
                  "map": [
                    {
                      "c": "submitted_by",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "admin_users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((resource_type = ANY (ARRAY['module'::text, 'topic'::text, 'lesson'::text, 'question'::text, 'flashcard'::text])))",
                  "n": "content_approvals_resource_type_check"
                },
                {
                  "e": "CHECK ((status = ANY (ARRAY['pending'::text, 'approved'::text, 'rejected'::text])))",
                  "n": "content_approvals_status_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "content_approvals_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "idx_content_approvals_created_at",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "resource_type"
                  ],
                  "n": "idx_content_approvals_resource_type",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "reviewed_by"
                  ],
                  "n": "idx_content_approvals_reviewed_by",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "status"
                  ],
                  "n": "idx_content_approvals_status",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "submitted_by"
                  ],
                  "n": "idx_content_approvals_submitted_by",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Editor can create",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'superadmin'::text])) AND (admin_users.is_active = true))))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": null
                  },
                  {
                    "n": "Editor can read all",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'moderator'::text, 'superadmin'::text])) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Editor can update own pending",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "((submitted_by = auth.uid()) AND (status = 'pending'::text) AND (EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'superadmin'::text])) AND (admin_users.is_active = true)))))"
                  },
                  {
                    "n": "Superadmin full access",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "resource_title",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'pending'::text",
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "submitted_by",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "reviewed_by",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "review_comments",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "reviewed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "practice_sessions": {
              "fk": [
                {
                  "n": "practice_sessions_module_id_fkey",
                  "map": [
                    {
                      "c": "module_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "modules"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "practice_sessions_subtopic_id_fkey",
                  "map": [
                    {
                      "c": "subtopic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subtopics"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "practice_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "subdivision"
                  ],
                  "n": "idx_practice_sessions_subdivision",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "practice_sessions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own practice session",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can manage own practice sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can update own practice session",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('practice_sessions_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "subtopic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "correct_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "incorrect_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "skipped_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "subdivision",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "module_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "saml_relay_states": {
              "fk": [
                {
                  "n": "saml_relay_states_flow_state_id_fkey",
                  "map": [
                    {
                      "c": "flow_state_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "flow_state"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "saml_relay_states_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(request_id) > 0))",
                  "n": "request_id not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "saml_relay_states_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "for_email"
                  ],
                  "n": "saml_relay_states_for_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "saml_relay_states_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "saml_relay_states_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "request_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "for_email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "redirect_to",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "flow_state_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "schema_migrations": {
              "fk": [],
              "pk": [
                [
                  "version"
                ],
                [
                  "version"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "version"
                  ],
                  "n": "schema_migrations_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "version"
                  ],
                  "n": "schema_migrations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "inserted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "ai_recommendations": {
              "fk": [
                {
                  "n": "ai_recommendations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((recommendation_type = ANY (ARRAY['lesson'::text, 'topic'::text, 'subtopic'::text, 'quiz'::text])))",
                  "n": "ai_recommendations_recommendation_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "ai_recommendations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own AI recommendations",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own AI recommendations",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own AI recommendations",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own AI recommendations",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('ai_recommendations_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "recommendation_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "reference_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "score",
                  "id": false,
                  "nl": true,
                  "ty": "float8"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "expires_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "analytics_sessions": {
              "fk": [
                {
                  "n": "analytics_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "analytics_sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_start"
                  ],
                  "n": "idx_analytics_sessions_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "session_start"
                  ],
                  "n": "idx_analytics_sessions_user_date",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "session_start",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "session_end",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "duration_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "chat_conversations": {
              "fk": [
                {
                  "n": "chat_conversations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "chat_conversations_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "is_active"
                  ],
                  "n": "idx_chat_conversations_active",
                  "pr": "(is_active = true)",
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_chat_conversations_user",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "chat_conversations_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "chat_conversations_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "'New Conversation'::text",
                  "n": "title",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'{}'::jsonb",
                  "n": "context_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "subscription_plans": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "is_active"
                  ],
                  "n": "idx_subscription_plans_is_active",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "subscription_plans_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "price_usd",
                  "id": false,
                  "nl": false,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "duration_days",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "features",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "lesson_quiz_results": {
              "fk": [
                {
                  "n": "lesson_quiz_results_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_lesson_quiz_results_lesson",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_lesson_quiz_results_user",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "lesson_quiz_results_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "lesson_id"
                  ],
                  "n": "lesson_quiz_results_user_id_lesson_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can view all quiz results",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Users can insert own quiz results",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can view own quiz results",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "score_percentage",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "passed",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "learning_completions": {
              "fk": [
                {
                  "n": "learning_completions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "is_completed"
                  ],
                  "n": "idx_learning_completions_completed",
                  "pr": "(is_completed = true)",
                  "uq": false
                },
                {
                  "c": [
                    "completed_at"
                  ],
                  "n": "idx_learning_completions_completed_at",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_learning_completions_lesson_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_learning_completions_user_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "learning_completions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "lesson_id"
                  ],
                  "n": "learning_completions_user_id_lesson_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Editors can view learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'editor'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Moderators can view learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'moderator'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Superadmins can view all learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Users can insert their own completions",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update their own completions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "Users can view their own completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "false",
                  "n": "is_completed",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "time_spent_minutes",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "oauth_authorizations": {
              "fk": [
                {
                  "n": "oauth_authorizations_client_id_fkey",
                  "map": [
                    {
                      "c": "client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "oauth_authorizations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(authorization_code) <= 255))",
                  "n": "oauth_authorizations_authorization_code_length"
                },
                {
                  "e": "CHECK ((char_length(code_challenge) <= 128))",
                  "n": "oauth_authorizations_code_challenge_length"
                },
                {
                  "e": "CHECK ((expires_at > created_at))",
                  "n": "oauth_authorizations_expires_at_future"
                },
                {
                  "e": "CHECK ((char_length(redirect_uri) <= 2048))",
                  "n": "oauth_authorizations_redirect_uri_length"
                },
                {
                  "e": "CHECK ((char_length(resource) <= 2048))",
                  "n": "oauth_authorizations_resource_length"
                },
                {
                  "e": "CHECK ((char_length(scope) <= 4096))",
                  "n": "oauth_authorizations_scope_length"
                },
                {
                  "e": "CHECK ((char_length(state) <= 4096))",
                  "n": "oauth_authorizations_state_length"
                }
              ],
              "idx": [
                {
                  "c": [
                    "expires_at"
                  ],
                  "n": "oauth_auth_pending_exp_idx",
                  "pr": "(status = 'pending'::auth.oauth_authorization_status)",
                  "uq": false
                },
                {
                  "c": [
                    "authorization_code"
                  ],
                  "n": "oauth_authorizations_authorization_code_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "authorization_id"
                  ],
                  "n": "oauth_authorizations_authorization_id_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_authorizations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "authorization_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "redirect_uri",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "scope",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "state",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "resource",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge_method",
                  "id": false,
                  "nl": true,
                  "ty": "code_challenge_method"
                },
                {
                  "d": "'code'::auth.oauth_response_type",
                  "n": "response_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_response_type"
                },
                {
                  "d": "'pending'::auth.oauth_authorization_status",
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_authorization_status"
                },
                {
                  "d": null,
                  "n": "authorization_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "(now() + '00:03:00'::interval)",
                  "n": "expires_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "approved_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "s3_multipart_uploads": {
              "fk": [
                {
                  "n": "s3_multipart_uploads_bucket_id_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "key",
                    "created_at"
                  ],
                  "n": "idx_multipart_uploads_list",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "s3_multipart_uploads_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "in_progress_size",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "upload_signature",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "user_metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                }
              ]
            },
            "s3_multipart_uploads_parts": {
              "fk": [
                {
                  "n": "s3_multipart_uploads_parts_bucket_id_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "s3_multipart_uploads_parts_upload_id_fkey",
                  "map": [
                    {
                      "c": "upload_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "s3_multipart_uploads"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "s3_multipart_uploads_parts_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "upload_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "size",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "part_number",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "etag",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            }
          }
        },
        "vault": {
          "enums": {
            "action": [
              "INSERT",
              "UPDATE",
              "DELETE",
              "TRUNCATE",
              "ERROR"
            ],
            "aal_level": [
              "aal1",
              "aal2",
              "aal3"
            ],
            "buckettype": [
              "STANDARD",
              "ANALYTICS"
            ],
            "equality_op": [
              "eq",
              "neq",
              "lt",
              "lte",
              "gt",
              "gte",
              "in"
            ],
            "factor_type": [
              "totp",
              "webauthn",
              "phone"
            ],
            "factor_status": [
              "unverified",
              "verified"
            ],
            "oauth_client_type": [
              "public",
              "confidential"
            ],
            "oauth_response_type": [
              "code"
            ],
            "one_time_token_type": [
              "confirmation_token",
              "reauthentication_token",
              "recovery_token",
              "email_change_token_new",
              "email_change_token_current",
              "phone_change_token"
            ],
            "code_challenge_method": [
              "s256",
              "plain"
            ],
            "oauth_registration_type": [
              "dynamic",
              "manual"
            ],
            "oauth_authorization_status": [
              "pending",
              "approved",
              "denied",
              "expired"
            ]
          },
          "tables": {
            "users": {
              "fk": [],
              "pk": [
                [
                  "id"
                ],
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((email_change_confirm_status >= 0) AND (email_change_confirm_status <= 2)))",
                  "n": "users_email_change_confirm_status_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "confirmation_token"
                  ],
                  "n": "confirmation_token_idx",
                  "pr": "((confirmation_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email_change_token_current"
                  ],
                  "n": "email_change_token_current_idx",
                  "pr": "((email_change_token_current)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email_change_token_new"
                  ],
                  "n": "email_change_token_new_idx",
                  "pr": "((email_change_token_new)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "reauthentication_token"
                  ],
                  "n": "reauthentication_token_idx",
                  "pr": "((reauthentication_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "recovery_token"
                  ],
                  "n": "recovery_token_idx",
                  "pr": "((recovery_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email"
                  ],
                  "n": "users_email_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "email"
                  ],
                  "n": "users_email_partial_key",
                  "pr": "(is_sso_user = false)",
                  "uq": true
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "users_instance_id_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "users_instance_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "is_anonymous"
                  ],
                  "n": "users_is_anonymous_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "phone"
                  ],
                  "n": "users_phone_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "users_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "users_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Superadmins can view all users",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "User can edit own account",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(id = auth.uid())"
                  },
                  {
                    "n": "User can view own account",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(id = auth.uid())"
                  },
                  {
                    "n": "Users can update their own user record",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = id)"
                  },
                  {
                    "n": "Users can view their own user record",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "password_hash",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "aud",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "'email'::text",
                  "n": "auth_provider",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "is_email_verified",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "encrypted_password",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email_confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "invited_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "confirmation_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "confirmation_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "recovery_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "recovery_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email_change_token_new",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "email_change",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "email_change_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "last_sign_in_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "raw_app_meta_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "raw_user_meta_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "is_super_admin",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "NULL::character varying",
                  "n": "phone",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone_confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "phone_change",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "''::character varying",
                  "n": "phone_change_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "phone_change_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "email_change_token_current",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "0",
                  "n": "email_change_confirm_status",
                  "id": false,
                  "nl": true,
                  "ty": "int2"
                },
                {
                  "d": null,
                  "n": "banned_until",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "reauthentication_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "reauthentication_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "is_sso_user",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "deleted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "is_anonymous",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                }
              ]
            },
            "topics": {
              "fk": [
                {
                  "n": "topics_module_id_fkey",
                  "map": [
                    {
                      "c": "module_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "modules"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "module_id"
                  ],
                  "n": "idx_topics_module_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "topics_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "module_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "buckets": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "bname",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "buckets_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "public",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "false",
                  "n": "avif_autodetection",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "file_size_limit",
                  "id": false,
                  "nl": true,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "allowed_mime_types",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'STANDARD'::storage.buckettype",
                  "n": "type",
                  "id": false,
                  "nl": false,
                  "ty": "buckettype"
                }
              ]
            },
            "lessons": {
              "fk": [
                {
                  "n": "lessons_topic_id_fkey",
                  "map": [
                    {
                      "c": "topic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "topics"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "category"
                  ],
                  "n": "idx_lessons_category",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "topic_id"
                  ],
                  "n": "idx_lessons_topic_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "lessons_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "video_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "audio_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'text'::character varying",
                  "n": "lesson_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "80",
                  "n": "passing_score_percentage",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "0",
                  "n": "duration",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "modules": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "modules_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "thumbnail_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "objects": {
              "fk": [
                {
                  "n": "objects_bucketId_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "name"
                  ],
                  "n": "bucketid_objname",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "name",
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_name_bucket_level_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "bucket_id",
                    "name"
                  ],
                  "n": "idx_objects_bucket_id_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_objects_lower_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "name"
                  ],
                  "n": "name_prefix_search",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level",
                    "name"
                  ],
                  "n": "objects_bucket_id_level_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "objects_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "last_accessed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "path_tokens",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "user_metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "level",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                }
              ]
            },
            "secrets": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "secrets_name_idx",
                  "pr": "(name IS NOT NULL)",
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "secrets_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "''::text",
                  "n": "description",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "secret",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "vault._crypto_aead_det_noncegen()",
                  "n": "nonce",
                  "id": false,
                  "nl": true,
                  "ty": "bytea"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "prefixes": {
              "fk": [
                {
                  "n": "prefixes_bucketId_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "bucket_id",
                  "level",
                  "name"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_prefixes_lower_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level",
                    "name"
                  ],
                  "n": "prefixes_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "level",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "sessions": {
              "fk": [
                {
                  "n": "sessions_oauth_client_id_fkey",
                  "map": [
                    {
                      "c": "oauth_client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "not_after"
                  ],
                  "n": "sessions_not_after_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "oauth_client_id"
                  ],
                  "n": "sessions_oauth_client_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "sessions_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "created_at"
                  ],
                  "n": "user_id_created_at_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "factor_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "aal",
                  "id": false,
                  "nl": true,
                  "ty": "aal_level"
                },
                {
                  "d": null,
                  "n": "not_after",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "refreshed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "user_agent",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "ip",
                  "id": false,
                  "nl": true,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "tag",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "oauth_client_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "instances": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "instances_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "uuid",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "raw_base_config",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "questions": {
              "fk": [
                {
                  "n": "questions_lesson_id_fkey",
                  "map": [
                    {
                      "c": "lesson_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "lessons"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "module_type",
                    "category",
                    "subdivision"
                  ],
                  "n": "idx_questions_filters",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_questions_lesson_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "questions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "question_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'multiple_choice'::character varying",
                  "n": "question_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "difficulty",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "1",
                  "n": "points",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "explanation",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "module_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "subdivision",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "exam_part",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "subtopics": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "subtopics_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "topic_id",
                    "name"
                  ],
                  "n": "subtopics_topic_id_name_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Anyone can view subtopics",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('subtopics_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "position",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "flashcards": {
              "fk": [
                {
                  "n": "flashcards_topic_id_fkey",
                  "map": [
                    {
                      "c": "topic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "topics"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "flashcards_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "category"
                  ],
                  "n": "idx_flashcards_category",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "topic_id"
                  ],
                  "n": "idx_flashcards_topic_id",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "front_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "back_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "flow_state": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "flow_state_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "flow_state_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "auth_code"
                  ],
                  "n": "idx_auth_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "authentication_method"
                  ],
                  "n": "idx_user_id_auth_method",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "auth_code",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge_method",
                  "id": false,
                  "nl": false,
                  "ty": "code_challenge_method"
                },
                {
                  "d": null,
                  "n": "code_challenge",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_access_token",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_refresh_token",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "authentication_method",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "auth_code_issued_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "identities": {
              "fk": [
                {
                  "n": "identities_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "identities_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "identities_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "provider_id",
                    "provider"
                  ],
                  "n": "identities_provider_id_provider_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "identities_user_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "identity_data",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "provider",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "last_sign_in_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "migrations": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "migrations_name_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "migrations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "hash",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "executed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "mock_exams": {
              "fk": [
                {
                  "n": "mock_exams_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_exams_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own mock exam",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can manage own mock exams",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('mock_exams_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "correct_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "incorrect_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "skipped_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "admin_users": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((role = ANY (ARRAY['superadmin'::text, 'editor'::text, 'moderator'::text])))",
                  "n": "admin_users_role_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "admin_users_email_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "admin_users_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Only superadmin can delete admin users",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "((role = 'superadmin'::text) AND is_active)"
                  },
                  {
                    "n": "Only superadmin can edit admin users",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "((role = 'superadmin'::text) AND is_active)"
                  },
                  {
                    "n": "Superadmin can create admin users",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users admin_users_1\n  WHERE ((admin_users_1.id = auth.uid()) AND (admin_users_1.role = 'superadmin'::text) AND admin_users_1.is_active)))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Superadmins can insert admin users",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users admin_users_1\n  WHERE ((admin_users_1.id = auth.uid()) AND (admin_users_1.role = 'superadmin'::text) AND (admin_users_1.is_active = true))))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": null
                  },
                  {
                    "n": "Users can view their own admin record",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "password_hash",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "full_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "daily_stats": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "date"
                  ],
                  "n": "daily_stats_date_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "daily_stats_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "date"
                  ],
                  "n": "idx_daily_stats_date",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "0",
                  "n": "total_signups",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_conversions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "active_users",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_sessions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "avg_session_duration",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "0",
                  "n": "total_revenue",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "mfa_factors": {
              "fk": [
                {
                  "n": "mfa_factors_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "user_id",
                    "created_at"
                  ],
                  "n": "factor_id_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "last_challenged_at"
                  ],
                  "n": "mfa_factors_last_challenged_at_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mfa_factors_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "friendly_name",
                    "user_id"
                  ],
                  "n": "mfa_factors_user_friendly_name_unique",
                  "pr": "(TRIM(BOTH FROM friendly_name) <> ''::text)",
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "mfa_factors_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "phone"
                  ],
                  "n": "unique_phone_factor_per_user",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "friendly_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "factor_type",
                  "id": false,
                  "nl": false,
                  "ty": "factor_type"
                },
                {
                  "d": null,
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "factor_status"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "secret",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "last_challenged_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "web_authn_credential",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "web_authn_aaguid",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "sso_domains": {
              "fk": [
                {
                  "n": "sso_domains_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(domain) > 0))",
                  "n": "domain not empty"
                }
              ],
              "idx": [
                {
                  "c": null,
                  "n": "sso_domains_domain_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "sso_domains_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "sso_domains_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "domain",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "app_settings": {
              "fk": [],
              "pk": [
                [
                  "key"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "key"
                  ],
                  "n": "app_settings_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Active admin can update app settings",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  },
                  {
                    "n": "Active admin can view app settings",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "value",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_results": {
              "fk": [
                {
                  "n": "mock_results_mock_exam_id_fkey",
                  "map": [
                    {
                      "c": "mock_exam_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "mock_exams"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_results_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert result for own mock exam",
                    "chk": "(mock_exam_id IN ( SELECT mock_exams.id\n   FROM mock_exams\n  WHERE (mock_exams.user_id = auth.uid())))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can view results of own mock exam",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(mock_exam_id IN ( SELECT mock_exams.id\n   FROM mock_exams\n  WHERE (mock_exams.user_id = auth.uid())))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('mock_results_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "mock_exam_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "selected_option_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "is_correct",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "time_taken_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "subscription": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "entity"
                  ],
                  "n": "ix_realtime_subscription_entity",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "pk_subscription",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "subscription_id",
                    "entity",
                    "filters"
                  ],
                  "n": "subscription_subscription_id_entity_filters_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": true,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "subscription_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "entity",
                  "id": false,
                  "nl": false,
                  "ty": "regclass"
                },
                {
                  "d": "'{}'::realtime.user_defined_filter[]",
                  "n": "filters",
                  "id": false,
                  "nl": false,
                  "ty": "_user_defined_filter"
                },
                {
                  "d": null,
                  "n": "claims",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "claims_role",
                  "id": false,
                  "nl": false,
                  "ty": "regrole"
                },
                {
                  "d": "timezone('utc'::text, now())",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                }
              ]
            },
            "chat_messages": {
              "fk": [
                {
                  "n": "chat_messages_conversation_id_fkey",
                  "map": [
                    {
                      "c": "conversation_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "chat_conversations"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((role = ANY (ARRAY['user'::text, 'assistant'::text])))",
                  "n": "chat_messages_role_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "chat_messages_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "conversation_id",
                    "created_at"
                  ],
                  "n": "idx_chat_messages_conversation",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "role",
                    "created_at"
                  ],
                  "n": "idx_chat_messages_role",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "chat_messages_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "chat_messages_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM chat_conversations\n  WHERE ((chat_conversations.id = chat_messages.conversation_id) AND (chat_conversations.user_id = auth.uid()))))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "conversation_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'{}'::jsonb",
                  "n": "metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_sessions": {
              "fk": [
                {
                  "n": "mock_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "user_profiles"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((exam_part = ANY (ARRAY['part_a'::text, 'part_b'::text])))",
                  "n": "mock_sessions_exam_part_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "exam_part"
                  ],
                  "n": "idx_mock_sessions_exam_part",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_mock_sessions_user_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_sessions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Users can insert own mock sessions",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update own mock sessions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  },
                  {
                    "n": "Users can view own mock sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "exam_part",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "correct_answers",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "score_percentage",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "time_taken_minutes",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "passed",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "oauth_clients": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(client_name) <= 1024))",
                  "n": "oauth_clients_client_name_length"
                },
                {
                  "e": "CHECK ((char_length(client_uri) <= 2048))",
                  "n": "oauth_clients_client_uri_length"
                },
                {
                  "e": "CHECK ((char_length(logo_uri) <= 2048))",
                  "n": "oauth_clients_logo_uri_length"
                }
              ],
              "idx": [
                {
                  "c": [
                    "deleted_at"
                  ],
                  "n": "oauth_clients_deleted_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_clients_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "client_secret_hash",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "registration_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_registration_type"
                },
                {
                  "d": null,
                  "n": "redirect_uris",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "grant_types",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_uri",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "logo_uri",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "deleted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "'confidential'::auth.oauth_client_type",
                  "n": "client_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_client_type"
                }
              ]
            },
            "sso_providers": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((resource_id = NULL::text) OR (char_length(resource_id) > 0)))",
                  "n": "resource_id not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "sso_providers_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": null,
                  "n": "sso_providers_resource_id_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "resource_id"
                  ],
                  "n": "sso_providers_resource_id_pattern_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "disabled",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                }
              ]
            },
            "subscriptions": {
              "fk": [
                {
                  "n": "fk_subscriptions_coupon_code",
                  "map": [
                    {
                      "c": "coupon_code",
                      "rc": "code"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "discount_coupons"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "fk_subscriptions_plan_id",
                  "map": [
                    {
                      "c": "plan_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subscription_plans"
                  },
                  "on_d": "RESTRICT",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "subscriptions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((plan_type = ANY (ARRAY['trial'::text, '1_month'::text, '3_month'::text, '6_month'::text])))",
                  "n": "subscriptions_plan_type_check"
                },
                {
                  "e": "CHECK ((payment_gateway = ANY (ARRAY['stripe'::text, 'razorpay'::text, NULL::text])))",
                  "n": "valid_payment_gateway"
                },
                {
                  "e": "CHECK ((status = ANY (ARRAY['trial'::text, 'active'::text, 'expired'::text, 'cancelled'::text])))",
                  "n": "valid_subscription_status"
                }
              ],
              "idx": [
                {
                  "c": [
                    "coupon_code"
                  ],
                  "n": "idx_subscriptions_coupon_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "plan_id"
                  ],
                  "n": "idx_subscriptions_plan_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "status"
                  ],
                  "n": "idx_subscriptions_status",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "subscriptions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Superadmins can view all subscriptions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "User can view own subscription",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "plan_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "start_date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": null,
                  "n": "end_date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "false",
                  "n": "auto_renew",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "'active'::text",
                  "n": "status",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "plan_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "payment_gateway",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "payment_method",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "amount_paid_usd",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "coupon_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "discount_amount",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "transaction_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                }
              ]
            },
            "user_profiles": {
              "fk": [
                {
                  "n": "user_profiles_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((gender = ANY (ARRAY['male'::text, 'female'::text, 'other'::text])))",
                  "n": "user_profiles_gender_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "idx_user_profiles_email",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "oauth_provider"
                  ],
                  "n": "idx_user_profiles_oauth_provider",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_profiles_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own profile",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own profile",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own profile",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own profile",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "Users can insert their own profile",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update their own profile",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  },
                  {
                    "n": "Users can view their own profile",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "full_name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone_number",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "country_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "date_of_birth",
                  "id": false,
                  "nl": true,
                  "ty": "date"
                },
                {
                  "d": null,
                  "n": "gender",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "current_country",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "nmc_attempts",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "uses_coaching",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "nursing_id_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "profile_completed",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'email'::character varying",
                  "n": "oauth_provider",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                }
              ]
            },
            "user_sessions": {
              "fk": [
                {
                  "n": "user_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_token"
                  ],
                  "n": "user_sessions_session_token_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can update own sessions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "device_info",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "session_token",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "ip_address",
                  "id": false,
                  "nl": true,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "user_agent",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "last_active_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "ai_usage_stats": {
              "fk": [
                {
                  "n": "ai_usage_stats_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "ai_usage_stats_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "date"
                  ],
                  "n": "idx_ai_usage_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "date"
                  ],
                  "n": "idx_ai_usage_user_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "date"
                  ],
                  "n": "unique_user_date",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "ai_usage_stats_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "ai_usage_stats_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "CURRENT_DATE",
                  "n": "date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "0",
                  "n": "message_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_tokens",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0.0000",
                  "n": "total_cost",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "dashboard_hero": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "dashboard_hero_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "display_order"
                  ],
                  "n": "idx_dashboard_hero_display_order",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can insert/update/delete dashboard hero",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  },
                  {
                    "n": "Any user can view dashboard hero",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('dashboard_hero_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "headline",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "subheadline",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "button_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "button_link",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                }
              ]
            },
            "learning_paths": {
              "fk": [
                {
                  "n": "learning_paths_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((path_type = ANY (ARRAY['sequential'::text, 'adaptive'::text, 'custom'::text])))",
                  "n": "learning_paths_path_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "learning_paths_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own learning path",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own learning path",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own learning path",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own learning path",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('learning_paths_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "path_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "details",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": "0",
                  "n": "current_index",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "lesson_quizzes": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "lesson_quizzes_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('lesson_quizzes_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "position",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "mfa_amr_claims": {
              "fk": [
                {
                  "n": "mfa_amr_claims_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "amr_id_pk",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_id",
                    "authentication_method"
                  ],
                  "n": "mfa_amr_claims_session_id_authentication_method_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "authentication_method",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "mfa_challenges": {
              "fk": [
                {
                  "n": "mfa_challenges_auth_factor_id_fkey",
                  "map": [
                    {
                      "c": "factor_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "mfa_factors"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "mfa_challenge_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mfa_challenges_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "factor_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "verified_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "ip_address",
                  "id": false,
                  "nl": false,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "otp_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "web_authn_session_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                }
              ]
            },
            "oauth_consents": {
              "fk": [
                {
                  "n": "oauth_consents_client_id_fkey",
                  "map": [
                    {
                      "c": "client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "oauth_consents_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((revoked_at IS NULL) OR (revoked_at >= granted_at)))",
                  "n": "oauth_consents_revoked_after_granted"
                },
                {
                  "e": "CHECK ((char_length(scopes) <= 2048))",
                  "n": "oauth_consents_scopes_length"
                },
                {
                  "e": "CHECK ((char_length(TRIM(BOTH FROM scopes)) > 0))",
                  "n": "oauth_consents_scopes_not_empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "client_id"
                  ],
                  "n": "oauth_consents_active_client_idx",
                  "pr": "(revoked_at IS NULL)",
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "client_id"
                  ],
                  "n": "oauth_consents_active_user_client_idx",
                  "pr": "(revoked_at IS NULL)",
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_consents_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "client_id"
                  ],
                  "n": "oauth_consents_user_client_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "granted_at"
                  ],
                  "n": "oauth_consents_user_order_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "client_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "scopes",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "granted_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "revoked_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "question_media": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((media_type = ANY (ARRAY['image'::text, 'audio'::text, 'video'::text, 'other'::text])))",
                  "n": "question_media_media_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "question_media_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Anyone can view question media",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('question_media_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "media_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "media_url",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "refresh_tokens": {
              "fk": [
                {
                  "n": "refresh_tokens_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "refresh_tokens_instance_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "instance_id",
                    "user_id"
                  ],
                  "n": "refresh_tokens_instance_id_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "parent"
                  ],
                  "n": "refresh_tokens_parent_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "refresh_tokens_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_id",
                    "revoked"
                  ],
                  "n": "refresh_tokens_session_id_revoked_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "token"
                  ],
                  "n": "refresh_tokens_token_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "updated_at"
                  ],
                  "n": "refresh_tokens_updated_at_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "nextval('auth.refresh_tokens_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "revoked",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "parent",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "saml_providers": {
              "fk": [
                {
                  "n": "saml_providers_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(entity_id) > 0))",
                  "n": "entity_id not empty"
                },
                {
                  "e": "CHECK (((metadata_url = NULL::text) OR (char_length(metadata_url) > 0)))",
                  "n": "metadata_url not empty"
                },
                {
                  "e": "CHECK ((char_length(metadata_xml) > 0))",
                  "n": "metadata_xml not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "entity_id"
                  ],
                  "n": "saml_providers_entity_id_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "saml_providers_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "saml_providers_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "entity_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "metadata_xml",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "metadata_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "attribute_mapping",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "name_id_format",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                }
              ]
            },
            "user_analytics": {
              "fk": [
                {
                  "n": "user_analytics_subtopic_id_fkey",
                  "map": [
                    {
                      "c": "subtopic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subtopics"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "user_analytics_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_analytics_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "topic_id",
                    "subtopic_id"
                  ],
                  "n": "user_analytics_user_id_topic_id_subtopic_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own analytics",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own analytics",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own analytics",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('user_analytics_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "subtopic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "practice_attempts",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "correct_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "incorrect_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "average_time_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "float8"
                },
                {
                  "d": "now()",
                  "n": "last_updated",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "email_templates": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "email_templates_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "template_name"
                  ],
                  "n": "email_templates_template_name_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "template_name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "subject",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "html_content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "variables",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "one_time_tokens": {
              "fk": [
                {
                  "n": "one_time_tokens_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(token_hash) > 0))",
                  "n": "one_time_tokens_token_hash_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "one_time_tokens_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "relates_to"
                  ],
                  "n": "one_time_tokens_relates_to_hash_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "token_hash"
                  ],
                  "n": "one_time_tokens_token_hash_hash_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "token_type"
                  ],
                  "n": "one_time_tokens_user_id_token_type_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "token_type",
                  "id": false,
                  "nl": false,
                  "ty": "one_time_token_type"
                },
                {
                  "d": null,
                  "n": "token_hash",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "relates_to",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                }
              ]
            },
            "discount_coupons": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((discount_type = ANY (ARRAY['percentage'::text, 'fixed_amount'::text])))",
                  "n": "valid_discount_type"
                },
                {
                  "e": "CHECK ((((discount_type = 'percentage'::text) AND ((discount_value >= (1)::numeric) AND (discount_value <= (100)::numeric))) OR (discount_type = 'fixed_amount'::text)))",
                  "n": "valid_percentage"
                }
              ],
              "idx": [
                {
                  "c": [
                    "code"
                  ],
                  "n": "discount_coupons_code_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "discount_coupons_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "code"
                  ],
                  "n": "idx_discount_coupons_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "is_active"
                  ],
                  "n": "idx_discount_coupons_is_active",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "valid_from",
                    "valid_until"
                  ],
                  "n": "idx_discount_coupons_valid_dates",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "code",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "discount_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "discount_value",
                  "id": false,
                  "nl": false,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "applicable_plans",
                  "id": false,
                  "nl": true,
                  "ty": "_uuid"
                },
                {
                  "d": null,
                  "n": "usage_limit",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "usage_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "valid_from",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "valid_until",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_exam_config": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_exam_config_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can manage mock exam config",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Students can view mock exam config",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "15",
                  "n": "part_a_question_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "30",
                  "n": "part_a_duration_minutes",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "120",
                  "n": "part_b_question_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "150",
                  "n": "part_b_duration_minutes",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "allow_calculator",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "practice_results": {
              "fk": [
                {
                  "n": "practice_results_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "practice_sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "practice_results_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert result for own practice session",
                    "chk": "(session_id IN ( SELECT practice_sessions.id\n   FROM practice_sessions\n  WHERE (practice_sessions.user_id = auth.uid())))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can view results of own practice session",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(session_id IN ( SELECT practice_sessions.id\n   FROM practice_sessions\n  WHERE (practice_sessions.user_id = auth.uid())))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('practice_results_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "selected_option_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "is_correct",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "time_taken_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "question_options": {
              "fk": [
                {
                  "n": "question_options_question_id_fkey",
                  "map": [
                    {
                      "c": "question_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "questions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "question_id"
                  ],
                  "n": "idx_question_options_question_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "question_options_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "option_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "is_correct",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "audit_log_entries": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "audit_log_entries_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "audit_logs_instance_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "payload",
                  "id": false,
                  "nl": true,
                  "ty": "json"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "ip_address",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                }
              ]
            },
            "buckets_analytics": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "buckets_analytics_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'ANALYTICS'::storage.buckettype",
                  "n": "type",
                  "id": false,
                  "nl": false,
                  "ty": "buckettype"
                },
                {
                  "d": "'ICEBERG'::text",
                  "n": "format",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "content_approvals": {
              "fk": [
                {
                  "n": "content_approvals_reviewed_by_fkey",
                  "map": [
                    {
                      "c": "reviewed_by",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "admin_users"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "content_approvals_submitted_by_fkey",
                  "map": [
                    {
                      "c": "submitted_by",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "admin_users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((resource_type = ANY (ARRAY['module'::text, 'topic'::text, 'lesson'::text, 'question'::text, 'flashcard'::text])))",
                  "n": "content_approvals_resource_type_check"
                },
                {
                  "e": "CHECK ((status = ANY (ARRAY['pending'::text, 'approved'::text, 'rejected'::text])))",
                  "n": "content_approvals_status_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "content_approvals_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "idx_content_approvals_created_at",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "resource_type"
                  ],
                  "n": "idx_content_approvals_resource_type",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "reviewed_by"
                  ],
                  "n": "idx_content_approvals_reviewed_by",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "status"
                  ],
                  "n": "idx_content_approvals_status",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "submitted_by"
                  ],
                  "n": "idx_content_approvals_submitted_by",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Editor can create",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'superadmin'::text])) AND (admin_users.is_active = true))))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": null
                  },
                  {
                    "n": "Editor can read all",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'moderator'::text, 'superadmin'::text])) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Editor can update own pending",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "((submitted_by = auth.uid()) AND (status = 'pending'::text) AND (EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'superadmin'::text])) AND (admin_users.is_active = true)))))"
                  },
                  {
                    "n": "Superadmin full access",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "resource_title",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'pending'::text",
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "submitted_by",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "reviewed_by",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "review_comments",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "reviewed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "practice_sessions": {
              "fk": [
                {
                  "n": "practice_sessions_module_id_fkey",
                  "map": [
                    {
                      "c": "module_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "modules"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "practice_sessions_subtopic_id_fkey",
                  "map": [
                    {
                      "c": "subtopic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subtopics"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "practice_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "subdivision"
                  ],
                  "n": "idx_practice_sessions_subdivision",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "practice_sessions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own practice session",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can manage own practice sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can update own practice session",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('practice_sessions_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "subtopic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "correct_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "incorrect_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "skipped_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "subdivision",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "module_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "saml_relay_states": {
              "fk": [
                {
                  "n": "saml_relay_states_flow_state_id_fkey",
                  "map": [
                    {
                      "c": "flow_state_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "flow_state"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "saml_relay_states_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(request_id) > 0))",
                  "n": "request_id not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "saml_relay_states_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "for_email"
                  ],
                  "n": "saml_relay_states_for_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "saml_relay_states_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "saml_relay_states_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "request_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "for_email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "redirect_to",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "flow_state_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "schema_migrations": {
              "fk": [],
              "pk": [
                [
                  "version"
                ],
                [
                  "version"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "version"
                  ],
                  "n": "schema_migrations_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "version"
                  ],
                  "n": "schema_migrations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "inserted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "ai_recommendations": {
              "fk": [
                {
                  "n": "ai_recommendations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((recommendation_type = ANY (ARRAY['lesson'::text, 'topic'::text, 'subtopic'::text, 'quiz'::text])))",
                  "n": "ai_recommendations_recommendation_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "ai_recommendations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own AI recommendations",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own AI recommendations",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own AI recommendations",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own AI recommendations",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('ai_recommendations_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "recommendation_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "reference_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "score",
                  "id": false,
                  "nl": true,
                  "ty": "float8"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "expires_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "analytics_sessions": {
              "fk": [
                {
                  "n": "analytics_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "analytics_sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_start"
                  ],
                  "n": "idx_analytics_sessions_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "session_start"
                  ],
                  "n": "idx_analytics_sessions_user_date",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "session_start",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "session_end",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "duration_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "chat_conversations": {
              "fk": [
                {
                  "n": "chat_conversations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "chat_conversations_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "is_active"
                  ],
                  "n": "idx_chat_conversations_active",
                  "pr": "(is_active = true)",
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_chat_conversations_user",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "chat_conversations_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "chat_conversations_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "'New Conversation'::text",
                  "n": "title",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'{}'::jsonb",
                  "n": "context_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "subscription_plans": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "is_active"
                  ],
                  "n": "idx_subscription_plans_is_active",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "subscription_plans_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "price_usd",
                  "id": false,
                  "nl": false,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "duration_days",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "features",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "lesson_quiz_results": {
              "fk": [
                {
                  "n": "lesson_quiz_results_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_lesson_quiz_results_lesson",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_lesson_quiz_results_user",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "lesson_quiz_results_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "lesson_id"
                  ],
                  "n": "lesson_quiz_results_user_id_lesson_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can view all quiz results",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Users can insert own quiz results",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can view own quiz results",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "score_percentage",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "passed",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "learning_completions": {
              "fk": [
                {
                  "n": "learning_completions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "is_completed"
                  ],
                  "n": "idx_learning_completions_completed",
                  "pr": "(is_completed = true)",
                  "uq": false
                },
                {
                  "c": [
                    "completed_at"
                  ],
                  "n": "idx_learning_completions_completed_at",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_learning_completions_lesson_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_learning_completions_user_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "learning_completions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "lesson_id"
                  ],
                  "n": "learning_completions_user_id_lesson_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Editors can view learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'editor'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Moderators can view learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'moderator'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Superadmins can view all learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Users can insert their own completions",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update their own completions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "Users can view their own completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "false",
                  "n": "is_completed",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "time_spent_minutes",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "oauth_authorizations": {
              "fk": [
                {
                  "n": "oauth_authorizations_client_id_fkey",
                  "map": [
                    {
                      "c": "client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "oauth_authorizations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(authorization_code) <= 255))",
                  "n": "oauth_authorizations_authorization_code_length"
                },
                {
                  "e": "CHECK ((char_length(code_challenge) <= 128))",
                  "n": "oauth_authorizations_code_challenge_length"
                },
                {
                  "e": "CHECK ((expires_at > created_at))",
                  "n": "oauth_authorizations_expires_at_future"
                },
                {
                  "e": "CHECK ((char_length(redirect_uri) <= 2048))",
                  "n": "oauth_authorizations_redirect_uri_length"
                },
                {
                  "e": "CHECK ((char_length(resource) <= 2048))",
                  "n": "oauth_authorizations_resource_length"
                },
                {
                  "e": "CHECK ((char_length(scope) <= 4096))",
                  "n": "oauth_authorizations_scope_length"
                },
                {
                  "e": "CHECK ((char_length(state) <= 4096))",
                  "n": "oauth_authorizations_state_length"
                }
              ],
              "idx": [
                {
                  "c": [
                    "expires_at"
                  ],
                  "n": "oauth_auth_pending_exp_idx",
                  "pr": "(status = 'pending'::auth.oauth_authorization_status)",
                  "uq": false
                },
                {
                  "c": [
                    "authorization_code"
                  ],
                  "n": "oauth_authorizations_authorization_code_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "authorization_id"
                  ],
                  "n": "oauth_authorizations_authorization_id_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_authorizations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "authorization_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "redirect_uri",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "scope",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "state",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "resource",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge_method",
                  "id": false,
                  "nl": true,
                  "ty": "code_challenge_method"
                },
                {
                  "d": "'code'::auth.oauth_response_type",
                  "n": "response_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_response_type"
                },
                {
                  "d": "'pending'::auth.oauth_authorization_status",
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_authorization_status"
                },
                {
                  "d": null,
                  "n": "authorization_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "(now() + '00:03:00'::interval)",
                  "n": "expires_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "approved_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "s3_multipart_uploads": {
              "fk": [
                {
                  "n": "s3_multipart_uploads_bucket_id_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "key",
                    "created_at"
                  ],
                  "n": "idx_multipart_uploads_list",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "s3_multipart_uploads_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "in_progress_size",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "upload_signature",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "user_metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                }
              ]
            },
            "s3_multipart_uploads_parts": {
              "fk": [
                {
                  "n": "s3_multipart_uploads_parts_bucket_id_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "s3_multipart_uploads_parts_upload_id_fkey",
                  "map": [
                    {
                      "c": "upload_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "s3_multipart_uploads"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "s3_multipart_uploads_parts_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "upload_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "size",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "part_number",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "etag",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            }
          }
        },
        "public": {
          "enums": {
            "action": [
              "INSERT",
              "UPDATE",
              "DELETE",
              "TRUNCATE",
              "ERROR"
            ],
            "aal_level": [
              "aal1",
              "aal2",
              "aal3"
            ],
            "buckettype": [
              "STANDARD",
              "ANALYTICS"
            ],
            "equality_op": [
              "eq",
              "neq",
              "lt",
              "lte",
              "gt",
              "gte",
              "in"
            ],
            "factor_type": [
              "totp",
              "webauthn",
              "phone"
            ],
            "factor_status": [
              "unverified",
              "verified"
            ],
            "oauth_client_type": [
              "public",
              "confidential"
            ],
            "oauth_response_type": [
              "code"
            ],
            "one_time_token_type": [
              "confirmation_token",
              "reauthentication_token",
              "recovery_token",
              "email_change_token_new",
              "email_change_token_current",
              "phone_change_token"
            ],
            "code_challenge_method": [
              "s256",
              "plain"
            ],
            "oauth_registration_type": [
              "dynamic",
              "manual"
            ],
            "oauth_authorization_status": [
              "pending",
              "approved",
              "denied",
              "expired"
            ]
          },
          "tables": {
            "users": {
              "fk": [],
              "pk": [
                [
                  "id"
                ],
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((email_change_confirm_status >= 0) AND (email_change_confirm_status <= 2)))",
                  "n": "users_email_change_confirm_status_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "confirmation_token"
                  ],
                  "n": "confirmation_token_idx",
                  "pr": "((confirmation_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email_change_token_current"
                  ],
                  "n": "email_change_token_current_idx",
                  "pr": "((email_change_token_current)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email_change_token_new"
                  ],
                  "n": "email_change_token_new_idx",
                  "pr": "((email_change_token_new)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "reauthentication_token"
                  ],
                  "n": "reauthentication_token_idx",
                  "pr": "((reauthentication_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "recovery_token"
                  ],
                  "n": "recovery_token_idx",
                  "pr": "((recovery_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email"
                  ],
                  "n": "users_email_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "email"
                  ],
                  "n": "users_email_partial_key",
                  "pr": "(is_sso_user = false)",
                  "uq": true
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "users_instance_id_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "users_instance_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "is_anonymous"
                  ],
                  "n": "users_is_anonymous_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "phone"
                  ],
                  "n": "users_phone_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "users_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "users_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Superadmins can view all users",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "User can edit own account",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(id = auth.uid())"
                  },
                  {
                    "n": "User can view own account",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(id = auth.uid())"
                  },
                  {
                    "n": "Users can update their own user record",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = id)"
                  },
                  {
                    "n": "Users can view their own user record",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "password_hash",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "aud",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "'email'::text",
                  "n": "auth_provider",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "is_email_verified",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "encrypted_password",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email_confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "invited_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "confirmation_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "confirmation_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "recovery_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "recovery_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email_change_token_new",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "email_change",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "email_change_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "last_sign_in_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "raw_app_meta_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "raw_user_meta_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "is_super_admin",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "NULL::character varying",
                  "n": "phone",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone_confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "phone_change",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "''::character varying",
                  "n": "phone_change_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "phone_change_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "email_change_token_current",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "0",
                  "n": "email_change_confirm_status",
                  "id": false,
                  "nl": true,
                  "ty": "int2"
                },
                {
                  "d": null,
                  "n": "banned_until",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "reauthentication_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "reauthentication_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "is_sso_user",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "deleted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "is_anonymous",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                }
              ]
            },
            "topics": {
              "fk": [
                {
                  "n": "topics_module_id_fkey",
                  "map": [
                    {
                      "c": "module_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "modules"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "module_id"
                  ],
                  "n": "idx_topics_module_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "topics_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "module_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "buckets": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "bname",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "buckets_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "public",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "false",
                  "n": "avif_autodetection",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "file_size_limit",
                  "id": false,
                  "nl": true,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "allowed_mime_types",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'STANDARD'::storage.buckettype",
                  "n": "type",
                  "id": false,
                  "nl": false,
                  "ty": "buckettype"
                }
              ]
            },
            "lessons": {
              "fk": [
                {
                  "n": "lessons_topic_id_fkey",
                  "map": [
                    {
                      "c": "topic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "topics"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "category"
                  ],
                  "n": "idx_lessons_category",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "topic_id"
                  ],
                  "n": "idx_lessons_topic_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "lessons_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "video_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "audio_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'text'::character varying",
                  "n": "lesson_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "80",
                  "n": "passing_score_percentage",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "0",
                  "n": "duration",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "modules": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "modules_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "thumbnail_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "objects": {
              "fk": [
                {
                  "n": "objects_bucketId_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "name"
                  ],
                  "n": "bucketid_objname",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "name",
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_name_bucket_level_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "bucket_id",
                    "name"
                  ],
                  "n": "idx_objects_bucket_id_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_objects_lower_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "name"
                  ],
                  "n": "name_prefix_search",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level",
                    "name"
                  ],
                  "n": "objects_bucket_id_level_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "objects_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "last_accessed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "path_tokens",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "user_metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "level",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                }
              ]
            },
            "secrets": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "secrets_name_idx",
                  "pr": "(name IS NOT NULL)",
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "secrets_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "''::text",
                  "n": "description",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "secret",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "vault._crypto_aead_det_noncegen()",
                  "n": "nonce",
                  "id": false,
                  "nl": true,
                  "ty": "bytea"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "prefixes": {
              "fk": [
                {
                  "n": "prefixes_bucketId_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "bucket_id",
                  "level",
                  "name"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_prefixes_lower_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level",
                    "name"
                  ],
                  "n": "prefixes_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "level",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "sessions": {
              "fk": [
                {
                  "n": "sessions_oauth_client_id_fkey",
                  "map": [
                    {
                      "c": "oauth_client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "not_after"
                  ],
                  "n": "sessions_not_after_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "oauth_client_id"
                  ],
                  "n": "sessions_oauth_client_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "sessions_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "created_at"
                  ],
                  "n": "user_id_created_at_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "factor_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "aal",
                  "id": false,
                  "nl": true,
                  "ty": "aal_level"
                },
                {
                  "d": null,
                  "n": "not_after",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "refreshed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "user_agent",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "ip",
                  "id": false,
                  "nl": true,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "tag",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "oauth_client_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "instances": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "instances_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "uuid",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "raw_base_config",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "questions": {
              "fk": [
                {
                  "n": "questions_lesson_id_fkey",
                  "map": [
                    {
                      "c": "lesson_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "lessons"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "module_type",
                    "category",
                    "subdivision"
                  ],
                  "n": "idx_questions_filters",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_questions_lesson_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "questions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "question_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'multiple_choice'::character varying",
                  "n": "question_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "difficulty",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "1",
                  "n": "points",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "explanation",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "module_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "subdivision",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "exam_part",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "subtopics": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "subtopics_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "topic_id",
                    "name"
                  ],
                  "n": "subtopics_topic_id_name_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Anyone can view subtopics",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('subtopics_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "position",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "flashcards": {
              "fk": [
                {
                  "n": "flashcards_topic_id_fkey",
                  "map": [
                    {
                      "c": "topic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "topics"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "flashcards_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "category"
                  ],
                  "n": "idx_flashcards_category",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "topic_id"
                  ],
                  "n": "idx_flashcards_topic_id",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "front_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "back_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "flow_state": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "flow_state_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "flow_state_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "auth_code"
                  ],
                  "n": "idx_auth_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "authentication_method"
                  ],
                  "n": "idx_user_id_auth_method",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "auth_code",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge_method",
                  "id": false,
                  "nl": false,
                  "ty": "code_challenge_method"
                },
                {
                  "d": null,
                  "n": "code_challenge",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_access_token",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_refresh_token",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "authentication_method",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "auth_code_issued_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "identities": {
              "fk": [
                {
                  "n": "identities_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "identities_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "identities_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "provider_id",
                    "provider"
                  ],
                  "n": "identities_provider_id_provider_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "identities_user_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "identity_data",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "provider",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "last_sign_in_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "migrations": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "migrations_name_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "migrations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "hash",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "executed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "mock_exams": {
              "fk": [
                {
                  "n": "mock_exams_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_exams_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own mock exam",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can manage own mock exams",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('mock_exams_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "correct_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "incorrect_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "skipped_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "admin_users": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((role = ANY (ARRAY['superadmin'::text, 'editor'::text, 'moderator'::text])))",
                  "n": "admin_users_role_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "admin_users_email_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "admin_users_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Only superadmin can delete admin users",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "((role = 'superadmin'::text) AND is_active)"
                  },
                  {
                    "n": "Only superadmin can edit admin users",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "((role = 'superadmin'::text) AND is_active)"
                  },
                  {
                    "n": "Superadmin can create admin users",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users admin_users_1\n  WHERE ((admin_users_1.id = auth.uid()) AND (admin_users_1.role = 'superadmin'::text) AND admin_users_1.is_active)))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Superadmins can insert admin users",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users admin_users_1\n  WHERE ((admin_users_1.id = auth.uid()) AND (admin_users_1.role = 'superadmin'::text) AND (admin_users_1.is_active = true))))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": null
                  },
                  {
                    "n": "Users can view their own admin record",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "password_hash",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "full_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "daily_stats": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "date"
                  ],
                  "n": "daily_stats_date_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "daily_stats_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "date"
                  ],
                  "n": "idx_daily_stats_date",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "0",
                  "n": "total_signups",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_conversions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "active_users",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_sessions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "avg_session_duration",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "0",
                  "n": "total_revenue",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "mfa_factors": {
              "fk": [
                {
                  "n": "mfa_factors_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "user_id",
                    "created_at"
                  ],
                  "n": "factor_id_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "last_challenged_at"
                  ],
                  "n": "mfa_factors_last_challenged_at_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mfa_factors_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "friendly_name",
                    "user_id"
                  ],
                  "n": "mfa_factors_user_friendly_name_unique",
                  "pr": "(TRIM(BOTH FROM friendly_name) <> ''::text)",
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "mfa_factors_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "phone"
                  ],
                  "n": "unique_phone_factor_per_user",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "friendly_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "factor_type",
                  "id": false,
                  "nl": false,
                  "ty": "factor_type"
                },
                {
                  "d": null,
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "factor_status"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "secret",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "last_challenged_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "web_authn_credential",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "web_authn_aaguid",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "sso_domains": {
              "fk": [
                {
                  "n": "sso_domains_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(domain) > 0))",
                  "n": "domain not empty"
                }
              ],
              "idx": [
                {
                  "c": null,
                  "n": "sso_domains_domain_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "sso_domains_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "sso_domains_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "domain",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "app_settings": {
              "fk": [],
              "pk": [
                [
                  "key"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "key"
                  ],
                  "n": "app_settings_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Active admin can update app settings",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  },
                  {
                    "n": "Active admin can view app settings",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "value",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_results": {
              "fk": [
                {
                  "n": "mock_results_mock_exam_id_fkey",
                  "map": [
                    {
                      "c": "mock_exam_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "mock_exams"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_results_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert result for own mock exam",
                    "chk": "(mock_exam_id IN ( SELECT mock_exams.id\n   FROM mock_exams\n  WHERE (mock_exams.user_id = auth.uid())))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can view results of own mock exam",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(mock_exam_id IN ( SELECT mock_exams.id\n   FROM mock_exams\n  WHERE (mock_exams.user_id = auth.uid())))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('mock_results_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "mock_exam_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "selected_option_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "is_correct",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "time_taken_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "subscription": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "entity"
                  ],
                  "n": "ix_realtime_subscription_entity",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "pk_subscription",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "subscription_id",
                    "entity",
                    "filters"
                  ],
                  "n": "subscription_subscription_id_entity_filters_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": true,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "subscription_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "entity",
                  "id": false,
                  "nl": false,
                  "ty": "regclass"
                },
                {
                  "d": "'{}'::realtime.user_defined_filter[]",
                  "n": "filters",
                  "id": false,
                  "nl": false,
                  "ty": "_user_defined_filter"
                },
                {
                  "d": null,
                  "n": "claims",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "claims_role",
                  "id": false,
                  "nl": false,
                  "ty": "regrole"
                },
                {
                  "d": "timezone('utc'::text, now())",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                }
              ]
            },
            "chat_messages": {
              "fk": [
                {
                  "n": "chat_messages_conversation_id_fkey",
                  "map": [
                    {
                      "c": "conversation_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "chat_conversations"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((role = ANY (ARRAY['user'::text, 'assistant'::text])))",
                  "n": "chat_messages_role_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "chat_messages_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "conversation_id",
                    "created_at"
                  ],
                  "n": "idx_chat_messages_conversation",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "role",
                    "created_at"
                  ],
                  "n": "idx_chat_messages_role",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "chat_messages_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "chat_messages_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM chat_conversations\n  WHERE ((chat_conversations.id = chat_messages.conversation_id) AND (chat_conversations.user_id = auth.uid()))))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "conversation_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'{}'::jsonb",
                  "n": "metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_sessions": {
              "fk": [
                {
                  "n": "mock_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "user_profiles"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((exam_part = ANY (ARRAY['part_a'::text, 'part_b'::text])))",
                  "n": "mock_sessions_exam_part_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "exam_part"
                  ],
                  "n": "idx_mock_sessions_exam_part",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_mock_sessions_user_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_sessions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Users can insert own mock sessions",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update own mock sessions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  },
                  {
                    "n": "Users can view own mock sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "exam_part",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "correct_answers",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "score_percentage",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "time_taken_minutes",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "passed",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "oauth_clients": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(client_name) <= 1024))",
                  "n": "oauth_clients_client_name_length"
                },
                {
                  "e": "CHECK ((char_length(client_uri) <= 2048))",
                  "n": "oauth_clients_client_uri_length"
                },
                {
                  "e": "CHECK ((char_length(logo_uri) <= 2048))",
                  "n": "oauth_clients_logo_uri_length"
                }
              ],
              "idx": [
                {
                  "c": [
                    "deleted_at"
                  ],
                  "n": "oauth_clients_deleted_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_clients_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "client_secret_hash",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "registration_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_registration_type"
                },
                {
                  "d": null,
                  "n": "redirect_uris",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "grant_types",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_uri",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "logo_uri",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "deleted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "'confidential'::auth.oauth_client_type",
                  "n": "client_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_client_type"
                }
              ]
            },
            "sso_providers": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((resource_id = NULL::text) OR (char_length(resource_id) > 0)))",
                  "n": "resource_id not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "sso_providers_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": null,
                  "n": "sso_providers_resource_id_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "resource_id"
                  ],
                  "n": "sso_providers_resource_id_pattern_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "disabled",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                }
              ]
            },
            "subscriptions": {
              "fk": [
                {
                  "n": "fk_subscriptions_coupon_code",
                  "map": [
                    {
                      "c": "coupon_code",
                      "rc": "code"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "discount_coupons"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "fk_subscriptions_plan_id",
                  "map": [
                    {
                      "c": "plan_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subscription_plans"
                  },
                  "on_d": "RESTRICT",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "subscriptions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((plan_type = ANY (ARRAY['trial'::text, '1_month'::text, '3_month'::text, '6_month'::text])))",
                  "n": "subscriptions_plan_type_check"
                },
                {
                  "e": "CHECK ((payment_gateway = ANY (ARRAY['stripe'::text, 'razorpay'::text, NULL::text])))",
                  "n": "valid_payment_gateway"
                },
                {
                  "e": "CHECK ((status = ANY (ARRAY['trial'::text, 'active'::text, 'expired'::text, 'cancelled'::text])))",
                  "n": "valid_subscription_status"
                }
              ],
              "idx": [
                {
                  "c": [
                    "coupon_code"
                  ],
                  "n": "idx_subscriptions_coupon_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "plan_id"
                  ],
                  "n": "idx_subscriptions_plan_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "status"
                  ],
                  "n": "idx_subscriptions_status",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "subscriptions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Superadmins can view all subscriptions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "User can view own subscription",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "plan_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "start_date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": null,
                  "n": "end_date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "false",
                  "n": "auto_renew",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "'active'::text",
                  "n": "status",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "plan_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "payment_gateway",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "payment_method",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "amount_paid_usd",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "coupon_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "discount_amount",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "transaction_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                }
              ]
            },
            "user_profiles": {
              "fk": [
                {
                  "n": "user_profiles_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((gender = ANY (ARRAY['male'::text, 'female'::text, 'other'::text])))",
                  "n": "user_profiles_gender_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "idx_user_profiles_email",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "oauth_provider"
                  ],
                  "n": "idx_user_profiles_oauth_provider",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_profiles_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own profile",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own profile",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own profile",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own profile",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "Users can insert their own profile",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update their own profile",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  },
                  {
                    "n": "Users can view their own profile",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "full_name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone_number",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "country_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "date_of_birth",
                  "id": false,
                  "nl": true,
                  "ty": "date"
                },
                {
                  "d": null,
                  "n": "gender",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "current_country",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "nmc_attempts",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "uses_coaching",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "nursing_id_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "profile_completed",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'email'::character varying",
                  "n": "oauth_provider",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                }
              ]
            },
            "user_sessions": {
              "fk": [
                {
                  "n": "user_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_token"
                  ],
                  "n": "user_sessions_session_token_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can update own sessions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "device_info",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "session_token",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "ip_address",
                  "id": false,
                  "nl": true,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "user_agent",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "last_active_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "ai_usage_stats": {
              "fk": [
                {
                  "n": "ai_usage_stats_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "ai_usage_stats_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "date"
                  ],
                  "n": "idx_ai_usage_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "date"
                  ],
                  "n": "idx_ai_usage_user_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "date"
                  ],
                  "n": "unique_user_date",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "ai_usage_stats_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "ai_usage_stats_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "CURRENT_DATE",
                  "n": "date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "0",
                  "n": "message_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_tokens",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0.0000",
                  "n": "total_cost",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "dashboard_hero": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "dashboard_hero_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "display_order"
                  ],
                  "n": "idx_dashboard_hero_display_order",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can insert/update/delete dashboard hero",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  },
                  {
                    "n": "Any user can view dashboard hero",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('dashboard_hero_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "headline",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "subheadline",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "button_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "button_link",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                }
              ]
            },
            "learning_paths": {
              "fk": [
                {
                  "n": "learning_paths_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((path_type = ANY (ARRAY['sequential'::text, 'adaptive'::text, 'custom'::text])))",
                  "n": "learning_paths_path_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "learning_paths_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own learning path",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own learning path",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own learning path",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own learning path",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('learning_paths_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "path_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "details",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": "0",
                  "n": "current_index",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "lesson_quizzes": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "lesson_quizzes_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('lesson_quizzes_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "position",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "mfa_amr_claims": {
              "fk": [
                {
                  "n": "mfa_amr_claims_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "amr_id_pk",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_id",
                    "authentication_method"
                  ],
                  "n": "mfa_amr_claims_session_id_authentication_method_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "authentication_method",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "mfa_challenges": {
              "fk": [
                {
                  "n": "mfa_challenges_auth_factor_id_fkey",
                  "map": [
                    {
                      "c": "factor_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "mfa_factors"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "mfa_challenge_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mfa_challenges_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "factor_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "verified_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "ip_address",
                  "id": false,
                  "nl": false,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "otp_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "web_authn_session_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                }
              ]
            },
            "oauth_consents": {
              "fk": [
                {
                  "n": "oauth_consents_client_id_fkey",
                  "map": [
                    {
                      "c": "client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "oauth_consents_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((revoked_at IS NULL) OR (revoked_at >= granted_at)))",
                  "n": "oauth_consents_revoked_after_granted"
                },
                {
                  "e": "CHECK ((char_length(scopes) <= 2048))",
                  "n": "oauth_consents_scopes_length"
                },
                {
                  "e": "CHECK ((char_length(TRIM(BOTH FROM scopes)) > 0))",
                  "n": "oauth_consents_scopes_not_empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "client_id"
                  ],
                  "n": "oauth_consents_active_client_idx",
                  "pr": "(revoked_at IS NULL)",
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "client_id"
                  ],
                  "n": "oauth_consents_active_user_client_idx",
                  "pr": "(revoked_at IS NULL)",
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_consents_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "client_id"
                  ],
                  "n": "oauth_consents_user_client_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "granted_at"
                  ],
                  "n": "oauth_consents_user_order_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "client_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "scopes",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "granted_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "revoked_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "question_media": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((media_type = ANY (ARRAY['image'::text, 'audio'::text, 'video'::text, 'other'::text])))",
                  "n": "question_media_media_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "question_media_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Anyone can view question media",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('question_media_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "media_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "media_url",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "refresh_tokens": {
              "fk": [
                {
                  "n": "refresh_tokens_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "refresh_tokens_instance_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "instance_id",
                    "user_id"
                  ],
                  "n": "refresh_tokens_instance_id_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "parent"
                  ],
                  "n": "refresh_tokens_parent_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "refresh_tokens_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_id",
                    "revoked"
                  ],
                  "n": "refresh_tokens_session_id_revoked_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "token"
                  ],
                  "n": "refresh_tokens_token_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "updated_at"
                  ],
                  "n": "refresh_tokens_updated_at_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "nextval('auth.refresh_tokens_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "revoked",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "parent",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "saml_providers": {
              "fk": [
                {
                  "n": "saml_providers_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(entity_id) > 0))",
                  "n": "entity_id not empty"
                },
                {
                  "e": "CHECK (((metadata_url = NULL::text) OR (char_length(metadata_url) > 0)))",
                  "n": "metadata_url not empty"
                },
                {
                  "e": "CHECK ((char_length(metadata_xml) > 0))",
                  "n": "metadata_xml not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "entity_id"
                  ],
                  "n": "saml_providers_entity_id_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "saml_providers_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "saml_providers_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "entity_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "metadata_xml",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "metadata_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "attribute_mapping",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "name_id_format",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                }
              ]
            },
            "user_analytics": {
              "fk": [
                {
                  "n": "user_analytics_subtopic_id_fkey",
                  "map": [
                    {
                      "c": "subtopic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subtopics"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "user_analytics_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_analytics_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "topic_id",
                    "subtopic_id"
                  ],
                  "n": "user_analytics_user_id_topic_id_subtopic_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own analytics",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own analytics",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own analytics",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('user_analytics_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "subtopic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "practice_attempts",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "correct_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "incorrect_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "average_time_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "float8"
                },
                {
                  "d": "now()",
                  "n": "last_updated",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "email_templates": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "email_templates_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "template_name"
                  ],
                  "n": "email_templates_template_name_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "template_name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "subject",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "html_content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "variables",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "one_time_tokens": {
              "fk": [
                {
                  "n": "one_time_tokens_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(token_hash) > 0))",
                  "n": "one_time_tokens_token_hash_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "one_time_tokens_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "relates_to"
                  ],
                  "n": "one_time_tokens_relates_to_hash_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "token_hash"
                  ],
                  "n": "one_time_tokens_token_hash_hash_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "token_type"
                  ],
                  "n": "one_time_tokens_user_id_token_type_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "token_type",
                  "id": false,
                  "nl": false,
                  "ty": "one_time_token_type"
                },
                {
                  "d": null,
                  "n": "token_hash",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "relates_to",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                }
              ]
            },
            "discount_coupons": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((discount_type = ANY (ARRAY['percentage'::text, 'fixed_amount'::text])))",
                  "n": "valid_discount_type"
                },
                {
                  "e": "CHECK ((((discount_type = 'percentage'::text) AND ((discount_value >= (1)::numeric) AND (discount_value <= (100)::numeric))) OR (discount_type = 'fixed_amount'::text)))",
                  "n": "valid_percentage"
                }
              ],
              "idx": [
                {
                  "c": [
                    "code"
                  ],
                  "n": "discount_coupons_code_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "discount_coupons_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "code"
                  ],
                  "n": "idx_discount_coupons_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "is_active"
                  ],
                  "n": "idx_discount_coupons_is_active",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "valid_from",
                    "valid_until"
                  ],
                  "n": "idx_discount_coupons_valid_dates",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "code",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "discount_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "discount_value",
                  "id": false,
                  "nl": false,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "applicable_plans",
                  "id": false,
                  "nl": true,
                  "ty": "_uuid"
                },
                {
                  "d": null,
                  "n": "usage_limit",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "usage_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "valid_from",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "valid_until",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_exam_config": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_exam_config_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can manage mock exam config",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Students can view mock exam config",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "15",
                  "n": "part_a_question_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "30",
                  "n": "part_a_duration_minutes",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "120",
                  "n": "part_b_question_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "150",
                  "n": "part_b_duration_minutes",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "allow_calculator",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "practice_results": {
              "fk": [
                {
                  "n": "practice_results_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "practice_sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "practice_results_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert result for own practice session",
                    "chk": "(session_id IN ( SELECT practice_sessions.id\n   FROM practice_sessions\n  WHERE (practice_sessions.user_id = auth.uid())))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can view results of own practice session",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(session_id IN ( SELECT practice_sessions.id\n   FROM practice_sessions\n  WHERE (practice_sessions.user_id = auth.uid())))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('practice_results_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "selected_option_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "is_correct",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "time_taken_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "question_options": {
              "fk": [
                {
                  "n": "question_options_question_id_fkey",
                  "map": [
                    {
                      "c": "question_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "questions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "question_id"
                  ],
                  "n": "idx_question_options_question_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "question_options_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "option_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "is_correct",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "audit_log_entries": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "audit_log_entries_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "audit_logs_instance_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "payload",
                  "id": false,
                  "nl": true,
                  "ty": "json"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "ip_address",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                }
              ]
            },
            "buckets_analytics": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "buckets_analytics_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'ANALYTICS'::storage.buckettype",
                  "n": "type",
                  "id": false,
                  "nl": false,
                  "ty": "buckettype"
                },
                {
                  "d": "'ICEBERG'::text",
                  "n": "format",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "content_approvals": {
              "fk": [
                {
                  "n": "content_approvals_reviewed_by_fkey",
                  "map": [
                    {
                      "c": "reviewed_by",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "admin_users"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "content_approvals_submitted_by_fkey",
                  "map": [
                    {
                      "c": "submitted_by",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "admin_users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((resource_type = ANY (ARRAY['module'::text, 'topic'::text, 'lesson'::text, 'question'::text, 'flashcard'::text])))",
                  "n": "content_approvals_resource_type_check"
                },
                {
                  "e": "CHECK ((status = ANY (ARRAY['pending'::text, 'approved'::text, 'rejected'::text])))",
                  "n": "content_approvals_status_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "content_approvals_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "idx_content_approvals_created_at",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "resource_type"
                  ],
                  "n": "idx_content_approvals_resource_type",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "reviewed_by"
                  ],
                  "n": "idx_content_approvals_reviewed_by",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "status"
                  ],
                  "n": "idx_content_approvals_status",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "submitted_by"
                  ],
                  "n": "idx_content_approvals_submitted_by",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Editor can create",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'superadmin'::text])) AND (admin_users.is_active = true))))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": null
                  },
                  {
                    "n": "Editor can read all",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'moderator'::text, 'superadmin'::text])) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Editor can update own pending",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "((submitted_by = auth.uid()) AND (status = 'pending'::text) AND (EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'superadmin'::text])) AND (admin_users.is_active = true)))))"
                  },
                  {
                    "n": "Superadmin full access",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "resource_title",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'pending'::text",
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "submitted_by",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "reviewed_by",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "review_comments",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "reviewed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "practice_sessions": {
              "fk": [
                {
                  "n": "practice_sessions_module_id_fkey",
                  "map": [
                    {
                      "c": "module_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "modules"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "practice_sessions_subtopic_id_fkey",
                  "map": [
                    {
                      "c": "subtopic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subtopics"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "practice_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "subdivision"
                  ],
                  "n": "idx_practice_sessions_subdivision",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "practice_sessions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own practice session",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can manage own practice sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can update own practice session",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('practice_sessions_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "subtopic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "correct_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "incorrect_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "skipped_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "subdivision",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "module_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "saml_relay_states": {
              "fk": [
                {
                  "n": "saml_relay_states_flow_state_id_fkey",
                  "map": [
                    {
                      "c": "flow_state_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "flow_state"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "saml_relay_states_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(request_id) > 0))",
                  "n": "request_id not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "saml_relay_states_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "for_email"
                  ],
                  "n": "saml_relay_states_for_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "saml_relay_states_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "saml_relay_states_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "request_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "for_email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "redirect_to",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "flow_state_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "schema_migrations": {
              "fk": [],
              "pk": [
                [
                  "version"
                ],
                [
                  "version"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "version"
                  ],
                  "n": "schema_migrations_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "version"
                  ],
                  "n": "schema_migrations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "inserted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "ai_recommendations": {
              "fk": [
                {
                  "n": "ai_recommendations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((recommendation_type = ANY (ARRAY['lesson'::text, 'topic'::text, 'subtopic'::text, 'quiz'::text])))",
                  "n": "ai_recommendations_recommendation_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "ai_recommendations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own AI recommendations",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own AI recommendations",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own AI recommendations",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own AI recommendations",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('ai_recommendations_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "recommendation_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "reference_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "score",
                  "id": false,
                  "nl": true,
                  "ty": "float8"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "expires_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "analytics_sessions": {
              "fk": [
                {
                  "n": "analytics_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "analytics_sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_start"
                  ],
                  "n": "idx_analytics_sessions_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "session_start"
                  ],
                  "n": "idx_analytics_sessions_user_date",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "session_start",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "session_end",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "duration_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "chat_conversations": {
              "fk": [
                {
                  "n": "chat_conversations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "chat_conversations_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "is_active"
                  ],
                  "n": "idx_chat_conversations_active",
                  "pr": "(is_active = true)",
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_chat_conversations_user",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "chat_conversations_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "chat_conversations_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "'New Conversation'::text",
                  "n": "title",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'{}'::jsonb",
                  "n": "context_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "subscription_plans": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "is_active"
                  ],
                  "n": "idx_subscription_plans_is_active",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "subscription_plans_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "price_usd",
                  "id": false,
                  "nl": false,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "duration_days",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "features",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "lesson_quiz_results": {
              "fk": [
                {
                  "n": "lesson_quiz_results_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_lesson_quiz_results_lesson",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_lesson_quiz_results_user",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "lesson_quiz_results_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "lesson_id"
                  ],
                  "n": "lesson_quiz_results_user_id_lesson_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can view all quiz results",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Users can insert own quiz results",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can view own quiz results",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "score_percentage",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "passed",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "learning_completions": {
              "fk": [
                {
                  "n": "learning_completions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "is_completed"
                  ],
                  "n": "idx_learning_completions_completed",
                  "pr": "(is_completed = true)",
                  "uq": false
                },
                {
                  "c": [
                    "completed_at"
                  ],
                  "n": "idx_learning_completions_completed_at",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_learning_completions_lesson_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_learning_completions_user_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "learning_completions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "lesson_id"
                  ],
                  "n": "learning_completions_user_id_lesson_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Editors can view learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'editor'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Moderators can view learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'moderator'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Superadmins can view all learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Users can insert their own completions",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update their own completions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "Users can view their own completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "false",
                  "n": "is_completed",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "time_spent_minutes",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "oauth_authorizations": {
              "fk": [
                {
                  "n": "oauth_authorizations_client_id_fkey",
                  "map": [
                    {
                      "c": "client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "oauth_authorizations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(authorization_code) <= 255))",
                  "n": "oauth_authorizations_authorization_code_length"
                },
                {
                  "e": "CHECK ((char_length(code_challenge) <= 128))",
                  "n": "oauth_authorizations_code_challenge_length"
                },
                {
                  "e": "CHECK ((expires_at > created_at))",
                  "n": "oauth_authorizations_expires_at_future"
                },
                {
                  "e": "CHECK ((char_length(redirect_uri) <= 2048))",
                  "n": "oauth_authorizations_redirect_uri_length"
                },
                {
                  "e": "CHECK ((char_length(resource) <= 2048))",
                  "n": "oauth_authorizations_resource_length"
                },
                {
                  "e": "CHECK ((char_length(scope) <= 4096))",
                  "n": "oauth_authorizations_scope_length"
                },
                {
                  "e": "CHECK ((char_length(state) <= 4096))",
                  "n": "oauth_authorizations_state_length"
                }
              ],
              "idx": [
                {
                  "c": [
                    "expires_at"
                  ],
                  "n": "oauth_auth_pending_exp_idx",
                  "pr": "(status = 'pending'::auth.oauth_authorization_status)",
                  "uq": false
                },
                {
                  "c": [
                    "authorization_code"
                  ],
                  "n": "oauth_authorizations_authorization_code_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "authorization_id"
                  ],
                  "n": "oauth_authorizations_authorization_id_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_authorizations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "authorization_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "redirect_uri",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "scope",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "state",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "resource",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge_method",
                  "id": false,
                  "nl": true,
                  "ty": "code_challenge_method"
                },
                {
                  "d": "'code'::auth.oauth_response_type",
                  "n": "response_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_response_type"
                },
                {
                  "d": "'pending'::auth.oauth_authorization_status",
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_authorization_status"
                },
                {
                  "d": null,
                  "n": "authorization_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "(now() + '00:03:00'::interval)",
                  "n": "expires_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "approved_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "s3_multipart_uploads": {
              "fk": [
                {
                  "n": "s3_multipart_uploads_bucket_id_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "key",
                    "created_at"
                  ],
                  "n": "idx_multipart_uploads_list",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "s3_multipart_uploads_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "in_progress_size",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "upload_signature",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "user_metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                }
              ]
            },
            "s3_multipart_uploads_parts": {
              "fk": [
                {
                  "n": "s3_multipart_uploads_parts_bucket_id_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "s3_multipart_uploads_parts_upload_id_fkey",
                  "map": [
                    {
                      "c": "upload_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "s3_multipart_uploads"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "s3_multipart_uploads_parts_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "upload_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "size",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "part_number",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "etag",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            }
          }
        },
        "graphql": {
          "enums": {
            "action": [
              "INSERT",
              "UPDATE",
              "DELETE",
              "TRUNCATE",
              "ERROR"
            ],
            "aal_level": [
              "aal1",
              "aal2",
              "aal3"
            ],
            "buckettype": [
              "STANDARD",
              "ANALYTICS"
            ],
            "equality_op": [
              "eq",
              "neq",
              "lt",
              "lte",
              "gt",
              "gte",
              "in"
            ],
            "factor_type": [
              "totp",
              "webauthn",
              "phone"
            ],
            "factor_status": [
              "unverified",
              "verified"
            ],
            "oauth_client_type": [
              "public",
              "confidential"
            ],
            "oauth_response_type": [
              "code"
            ],
            "one_time_token_type": [
              "confirmation_token",
              "reauthentication_token",
              "recovery_token",
              "email_change_token_new",
              "email_change_token_current",
              "phone_change_token"
            ],
            "code_challenge_method": [
              "s256",
              "plain"
            ],
            "oauth_registration_type": [
              "dynamic",
              "manual"
            ],
            "oauth_authorization_status": [
              "pending",
              "approved",
              "denied",
              "expired"
            ]
          },
          "tables": {
            "users": {
              "fk": [],
              "pk": [
                [
                  "id"
                ],
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((email_change_confirm_status >= 0) AND (email_change_confirm_status <= 2)))",
                  "n": "users_email_change_confirm_status_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "confirmation_token"
                  ],
                  "n": "confirmation_token_idx",
                  "pr": "((confirmation_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email_change_token_current"
                  ],
                  "n": "email_change_token_current_idx",
                  "pr": "((email_change_token_current)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email_change_token_new"
                  ],
                  "n": "email_change_token_new_idx",
                  "pr": "((email_change_token_new)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "reauthentication_token"
                  ],
                  "n": "reauthentication_token_idx",
                  "pr": "((reauthentication_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "recovery_token"
                  ],
                  "n": "recovery_token_idx",
                  "pr": "((recovery_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email"
                  ],
                  "n": "users_email_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "email"
                  ],
                  "n": "users_email_partial_key",
                  "pr": "(is_sso_user = false)",
                  "uq": true
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "users_instance_id_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "users_instance_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "is_anonymous"
                  ],
                  "n": "users_is_anonymous_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "phone"
                  ],
                  "n": "users_phone_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "users_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "users_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Superadmins can view all users",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "User can edit own account",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(id = auth.uid())"
                  },
                  {
                    "n": "User can view own account",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(id = auth.uid())"
                  },
                  {
                    "n": "Users can update their own user record",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = id)"
                  },
                  {
                    "n": "Users can view their own user record",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "password_hash",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "aud",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "'email'::text",
                  "n": "auth_provider",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "is_email_verified",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "encrypted_password",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email_confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "invited_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "confirmation_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "confirmation_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "recovery_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "recovery_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email_change_token_new",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "email_change",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "email_change_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "last_sign_in_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "raw_app_meta_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "raw_user_meta_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "is_super_admin",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "NULL::character varying",
                  "n": "phone",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone_confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "phone_change",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "''::character varying",
                  "n": "phone_change_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "phone_change_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "email_change_token_current",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "0",
                  "n": "email_change_confirm_status",
                  "id": false,
                  "nl": true,
                  "ty": "int2"
                },
                {
                  "d": null,
                  "n": "banned_until",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "reauthentication_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "reauthentication_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "is_sso_user",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "deleted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "is_anonymous",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                }
              ]
            },
            "topics": {
              "fk": [
                {
                  "n": "topics_module_id_fkey",
                  "map": [
                    {
                      "c": "module_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "modules"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "module_id"
                  ],
                  "n": "idx_topics_module_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "topics_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "module_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "buckets": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "bname",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "buckets_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "public",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "false",
                  "n": "avif_autodetection",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "file_size_limit",
                  "id": false,
                  "nl": true,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "allowed_mime_types",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'STANDARD'::storage.buckettype",
                  "n": "type",
                  "id": false,
                  "nl": false,
                  "ty": "buckettype"
                }
              ]
            },
            "lessons": {
              "fk": [
                {
                  "n": "lessons_topic_id_fkey",
                  "map": [
                    {
                      "c": "topic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "topics"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "category"
                  ],
                  "n": "idx_lessons_category",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "topic_id"
                  ],
                  "n": "idx_lessons_topic_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "lessons_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "video_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "audio_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'text'::character varying",
                  "n": "lesson_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "80",
                  "n": "passing_score_percentage",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "0",
                  "n": "duration",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "modules": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "modules_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "thumbnail_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "objects": {
              "fk": [
                {
                  "n": "objects_bucketId_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "name"
                  ],
                  "n": "bucketid_objname",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "name",
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_name_bucket_level_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "bucket_id",
                    "name"
                  ],
                  "n": "idx_objects_bucket_id_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_objects_lower_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "name"
                  ],
                  "n": "name_prefix_search",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level",
                    "name"
                  ],
                  "n": "objects_bucket_id_level_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "objects_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "last_accessed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "path_tokens",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "user_metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "level",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                }
              ]
            },
            "secrets": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "secrets_name_idx",
                  "pr": "(name IS NOT NULL)",
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "secrets_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "''::text",
                  "n": "description",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "secret",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "vault._crypto_aead_det_noncegen()",
                  "n": "nonce",
                  "id": false,
                  "nl": true,
                  "ty": "bytea"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "prefixes": {
              "fk": [
                {
                  "n": "prefixes_bucketId_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "bucket_id",
                  "level",
                  "name"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_prefixes_lower_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level",
                    "name"
                  ],
                  "n": "prefixes_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "level",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "sessions": {
              "fk": [
                {
                  "n": "sessions_oauth_client_id_fkey",
                  "map": [
                    {
                      "c": "oauth_client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "not_after"
                  ],
                  "n": "sessions_not_after_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "oauth_client_id"
                  ],
                  "n": "sessions_oauth_client_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "sessions_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "created_at"
                  ],
                  "n": "user_id_created_at_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "factor_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "aal",
                  "id": false,
                  "nl": true,
                  "ty": "aal_level"
                },
                {
                  "d": null,
                  "n": "not_after",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "refreshed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "user_agent",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "ip",
                  "id": false,
                  "nl": true,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "tag",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "oauth_client_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "instances": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "instances_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "uuid",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "raw_base_config",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "questions": {
              "fk": [
                {
                  "n": "questions_lesson_id_fkey",
                  "map": [
                    {
                      "c": "lesson_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "lessons"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "module_type",
                    "category",
                    "subdivision"
                  ],
                  "n": "idx_questions_filters",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_questions_lesson_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "questions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "question_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'multiple_choice'::character varying",
                  "n": "question_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "difficulty",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "1",
                  "n": "points",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "explanation",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "module_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "subdivision",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "exam_part",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "subtopics": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "subtopics_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "topic_id",
                    "name"
                  ],
                  "n": "subtopics_topic_id_name_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Anyone can view subtopics",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('subtopics_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "position",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "flashcards": {
              "fk": [
                {
                  "n": "flashcards_topic_id_fkey",
                  "map": [
                    {
                      "c": "topic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "topics"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "flashcards_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "category"
                  ],
                  "n": "idx_flashcards_category",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "topic_id"
                  ],
                  "n": "idx_flashcards_topic_id",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "front_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "back_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "flow_state": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "flow_state_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "flow_state_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "auth_code"
                  ],
                  "n": "idx_auth_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "authentication_method"
                  ],
                  "n": "idx_user_id_auth_method",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "auth_code",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge_method",
                  "id": false,
                  "nl": false,
                  "ty": "code_challenge_method"
                },
                {
                  "d": null,
                  "n": "code_challenge",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_access_token",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_refresh_token",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "authentication_method",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "auth_code_issued_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "identities": {
              "fk": [
                {
                  "n": "identities_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "identities_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "identities_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "provider_id",
                    "provider"
                  ],
                  "n": "identities_provider_id_provider_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "identities_user_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "identity_data",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "provider",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "last_sign_in_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "migrations": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "migrations_name_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "migrations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "hash",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "executed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "mock_exams": {
              "fk": [
                {
                  "n": "mock_exams_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_exams_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own mock exam",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can manage own mock exams",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('mock_exams_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "correct_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "incorrect_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "skipped_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "admin_users": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((role = ANY (ARRAY['superadmin'::text, 'editor'::text, 'moderator'::text])))",
                  "n": "admin_users_role_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "admin_users_email_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "admin_users_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Only superadmin can delete admin users",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "((role = 'superadmin'::text) AND is_active)"
                  },
                  {
                    "n": "Only superadmin can edit admin users",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "((role = 'superadmin'::text) AND is_active)"
                  },
                  {
                    "n": "Superadmin can create admin users",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users admin_users_1\n  WHERE ((admin_users_1.id = auth.uid()) AND (admin_users_1.role = 'superadmin'::text) AND admin_users_1.is_active)))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Superadmins can insert admin users",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users admin_users_1\n  WHERE ((admin_users_1.id = auth.uid()) AND (admin_users_1.role = 'superadmin'::text) AND (admin_users_1.is_active = true))))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": null
                  },
                  {
                    "n": "Users can view their own admin record",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "password_hash",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "full_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "daily_stats": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "date"
                  ],
                  "n": "daily_stats_date_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "daily_stats_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "date"
                  ],
                  "n": "idx_daily_stats_date",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "0",
                  "n": "total_signups",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_conversions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "active_users",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_sessions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "avg_session_duration",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "0",
                  "n": "total_revenue",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "mfa_factors": {
              "fk": [
                {
                  "n": "mfa_factors_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "user_id",
                    "created_at"
                  ],
                  "n": "factor_id_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "last_challenged_at"
                  ],
                  "n": "mfa_factors_last_challenged_at_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mfa_factors_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "friendly_name",
                    "user_id"
                  ],
                  "n": "mfa_factors_user_friendly_name_unique",
                  "pr": "(TRIM(BOTH FROM friendly_name) <> ''::text)",
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "mfa_factors_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "phone"
                  ],
                  "n": "unique_phone_factor_per_user",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "friendly_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "factor_type",
                  "id": false,
                  "nl": false,
                  "ty": "factor_type"
                },
                {
                  "d": null,
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "factor_status"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "secret",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "last_challenged_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "web_authn_credential",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "web_authn_aaguid",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "sso_domains": {
              "fk": [
                {
                  "n": "sso_domains_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(domain) > 0))",
                  "n": "domain not empty"
                }
              ],
              "idx": [
                {
                  "c": null,
                  "n": "sso_domains_domain_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "sso_domains_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "sso_domains_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "domain",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "app_settings": {
              "fk": [],
              "pk": [
                [
                  "key"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "key"
                  ],
                  "n": "app_settings_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Active admin can update app settings",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  },
                  {
                    "n": "Active admin can view app settings",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "value",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_results": {
              "fk": [
                {
                  "n": "mock_results_mock_exam_id_fkey",
                  "map": [
                    {
                      "c": "mock_exam_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "mock_exams"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_results_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert result for own mock exam",
                    "chk": "(mock_exam_id IN ( SELECT mock_exams.id\n   FROM mock_exams\n  WHERE (mock_exams.user_id = auth.uid())))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can view results of own mock exam",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(mock_exam_id IN ( SELECT mock_exams.id\n   FROM mock_exams\n  WHERE (mock_exams.user_id = auth.uid())))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('mock_results_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "mock_exam_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "selected_option_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "is_correct",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "time_taken_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "subscription": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "entity"
                  ],
                  "n": "ix_realtime_subscription_entity",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "pk_subscription",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "subscription_id",
                    "entity",
                    "filters"
                  ],
                  "n": "subscription_subscription_id_entity_filters_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": true,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "subscription_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "entity",
                  "id": false,
                  "nl": false,
                  "ty": "regclass"
                },
                {
                  "d": "'{}'::realtime.user_defined_filter[]",
                  "n": "filters",
                  "id": false,
                  "nl": false,
                  "ty": "_user_defined_filter"
                },
                {
                  "d": null,
                  "n": "claims",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "claims_role",
                  "id": false,
                  "nl": false,
                  "ty": "regrole"
                },
                {
                  "d": "timezone('utc'::text, now())",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                }
              ]
            },
            "chat_messages": {
              "fk": [
                {
                  "n": "chat_messages_conversation_id_fkey",
                  "map": [
                    {
                      "c": "conversation_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "chat_conversations"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((role = ANY (ARRAY['user'::text, 'assistant'::text])))",
                  "n": "chat_messages_role_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "chat_messages_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "conversation_id",
                    "created_at"
                  ],
                  "n": "idx_chat_messages_conversation",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "role",
                    "created_at"
                  ],
                  "n": "idx_chat_messages_role",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "chat_messages_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "chat_messages_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM chat_conversations\n  WHERE ((chat_conversations.id = chat_messages.conversation_id) AND (chat_conversations.user_id = auth.uid()))))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "conversation_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'{}'::jsonb",
                  "n": "metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_sessions": {
              "fk": [
                {
                  "n": "mock_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "user_profiles"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((exam_part = ANY (ARRAY['part_a'::text, 'part_b'::text])))",
                  "n": "mock_sessions_exam_part_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "exam_part"
                  ],
                  "n": "idx_mock_sessions_exam_part",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_mock_sessions_user_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_sessions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Users can insert own mock sessions",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update own mock sessions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  },
                  {
                    "n": "Users can view own mock sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "exam_part",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "correct_answers",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "score_percentage",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "time_taken_minutes",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "passed",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "oauth_clients": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(client_name) <= 1024))",
                  "n": "oauth_clients_client_name_length"
                },
                {
                  "e": "CHECK ((char_length(client_uri) <= 2048))",
                  "n": "oauth_clients_client_uri_length"
                },
                {
                  "e": "CHECK ((char_length(logo_uri) <= 2048))",
                  "n": "oauth_clients_logo_uri_length"
                }
              ],
              "idx": [
                {
                  "c": [
                    "deleted_at"
                  ],
                  "n": "oauth_clients_deleted_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_clients_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "client_secret_hash",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "registration_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_registration_type"
                },
                {
                  "d": null,
                  "n": "redirect_uris",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "grant_types",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_uri",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "logo_uri",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "deleted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "'confidential'::auth.oauth_client_type",
                  "n": "client_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_client_type"
                }
              ]
            },
            "sso_providers": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((resource_id = NULL::text) OR (char_length(resource_id) > 0)))",
                  "n": "resource_id not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "sso_providers_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": null,
                  "n": "sso_providers_resource_id_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "resource_id"
                  ],
                  "n": "sso_providers_resource_id_pattern_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "disabled",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                }
              ]
            },
            "subscriptions": {
              "fk": [
                {
                  "n": "fk_subscriptions_coupon_code",
                  "map": [
                    {
                      "c": "coupon_code",
                      "rc": "code"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "discount_coupons"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "fk_subscriptions_plan_id",
                  "map": [
                    {
                      "c": "plan_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subscription_plans"
                  },
                  "on_d": "RESTRICT",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "subscriptions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((plan_type = ANY (ARRAY['trial'::text, '1_month'::text, '3_month'::text, '6_month'::text])))",
                  "n": "subscriptions_plan_type_check"
                },
                {
                  "e": "CHECK ((payment_gateway = ANY (ARRAY['stripe'::text, 'razorpay'::text, NULL::text])))",
                  "n": "valid_payment_gateway"
                },
                {
                  "e": "CHECK ((status = ANY (ARRAY['trial'::text, 'active'::text, 'expired'::text, 'cancelled'::text])))",
                  "n": "valid_subscription_status"
                }
              ],
              "idx": [
                {
                  "c": [
                    "coupon_code"
                  ],
                  "n": "idx_subscriptions_coupon_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "plan_id"
                  ],
                  "n": "idx_subscriptions_plan_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "status"
                  ],
                  "n": "idx_subscriptions_status",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "subscriptions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Superadmins can view all subscriptions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "User can view own subscription",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "plan_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "start_date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": null,
                  "n": "end_date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "false",
                  "n": "auto_renew",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "'active'::text",
                  "n": "status",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "plan_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "payment_gateway",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "payment_method",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "amount_paid_usd",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "coupon_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "discount_amount",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "transaction_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                }
              ]
            },
            "user_profiles": {
              "fk": [
                {
                  "n": "user_profiles_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((gender = ANY (ARRAY['male'::text, 'female'::text, 'other'::text])))",
                  "n": "user_profiles_gender_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "idx_user_profiles_email",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "oauth_provider"
                  ],
                  "n": "idx_user_profiles_oauth_provider",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_profiles_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own profile",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own profile",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own profile",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own profile",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "Users can insert their own profile",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update their own profile",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  },
                  {
                    "n": "Users can view their own profile",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "full_name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone_number",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "country_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "date_of_birth",
                  "id": false,
                  "nl": true,
                  "ty": "date"
                },
                {
                  "d": null,
                  "n": "gender",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "current_country",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "nmc_attempts",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "uses_coaching",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "nursing_id_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "profile_completed",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'email'::character varying",
                  "n": "oauth_provider",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                }
              ]
            },
            "user_sessions": {
              "fk": [
                {
                  "n": "user_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_token"
                  ],
                  "n": "user_sessions_session_token_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can update own sessions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "device_info",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "session_token",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "ip_address",
                  "id": false,
                  "nl": true,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "user_agent",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "last_active_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "ai_usage_stats": {
              "fk": [
                {
                  "n": "ai_usage_stats_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "ai_usage_stats_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "date"
                  ],
                  "n": "idx_ai_usage_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "date"
                  ],
                  "n": "idx_ai_usage_user_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "date"
                  ],
                  "n": "unique_user_date",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "ai_usage_stats_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "ai_usage_stats_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "CURRENT_DATE",
                  "n": "date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "0",
                  "n": "message_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_tokens",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0.0000",
                  "n": "total_cost",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "dashboard_hero": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "dashboard_hero_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "display_order"
                  ],
                  "n": "idx_dashboard_hero_display_order",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can insert/update/delete dashboard hero",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  },
                  {
                    "n": "Any user can view dashboard hero",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('dashboard_hero_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "headline",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "subheadline",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "button_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "button_link",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                }
              ]
            },
            "learning_paths": {
              "fk": [
                {
                  "n": "learning_paths_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((path_type = ANY (ARRAY['sequential'::text, 'adaptive'::text, 'custom'::text])))",
                  "n": "learning_paths_path_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "learning_paths_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own learning path",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own learning path",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own learning path",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own learning path",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('learning_paths_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "path_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "details",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": "0",
                  "n": "current_index",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "lesson_quizzes": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "lesson_quizzes_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('lesson_quizzes_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "position",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "mfa_amr_claims": {
              "fk": [
                {
                  "n": "mfa_amr_claims_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "amr_id_pk",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_id",
                    "authentication_method"
                  ],
                  "n": "mfa_amr_claims_session_id_authentication_method_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "authentication_method",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "mfa_challenges": {
              "fk": [
                {
                  "n": "mfa_challenges_auth_factor_id_fkey",
                  "map": [
                    {
                      "c": "factor_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "mfa_factors"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "mfa_challenge_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mfa_challenges_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "factor_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "verified_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "ip_address",
                  "id": false,
                  "nl": false,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "otp_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "web_authn_session_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                }
              ]
            },
            "oauth_consents": {
              "fk": [
                {
                  "n": "oauth_consents_client_id_fkey",
                  "map": [
                    {
                      "c": "client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "oauth_consents_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((revoked_at IS NULL) OR (revoked_at >= granted_at)))",
                  "n": "oauth_consents_revoked_after_granted"
                },
                {
                  "e": "CHECK ((char_length(scopes) <= 2048))",
                  "n": "oauth_consents_scopes_length"
                },
                {
                  "e": "CHECK ((char_length(TRIM(BOTH FROM scopes)) > 0))",
                  "n": "oauth_consents_scopes_not_empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "client_id"
                  ],
                  "n": "oauth_consents_active_client_idx",
                  "pr": "(revoked_at IS NULL)",
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "client_id"
                  ],
                  "n": "oauth_consents_active_user_client_idx",
                  "pr": "(revoked_at IS NULL)",
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_consents_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "client_id"
                  ],
                  "n": "oauth_consents_user_client_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "granted_at"
                  ],
                  "n": "oauth_consents_user_order_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "client_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "scopes",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "granted_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "revoked_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "question_media": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((media_type = ANY (ARRAY['image'::text, 'audio'::text, 'video'::text, 'other'::text])))",
                  "n": "question_media_media_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "question_media_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Anyone can view question media",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('question_media_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "media_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "media_url",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "refresh_tokens": {
              "fk": [
                {
                  "n": "refresh_tokens_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "refresh_tokens_instance_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "instance_id",
                    "user_id"
                  ],
                  "n": "refresh_tokens_instance_id_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "parent"
                  ],
                  "n": "refresh_tokens_parent_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "refresh_tokens_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_id",
                    "revoked"
                  ],
                  "n": "refresh_tokens_session_id_revoked_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "token"
                  ],
                  "n": "refresh_tokens_token_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "updated_at"
                  ],
                  "n": "refresh_tokens_updated_at_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "nextval('auth.refresh_tokens_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "revoked",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "parent",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "saml_providers": {
              "fk": [
                {
                  "n": "saml_providers_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(entity_id) > 0))",
                  "n": "entity_id not empty"
                },
                {
                  "e": "CHECK (((metadata_url = NULL::text) OR (char_length(metadata_url) > 0)))",
                  "n": "metadata_url not empty"
                },
                {
                  "e": "CHECK ((char_length(metadata_xml) > 0))",
                  "n": "metadata_xml not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "entity_id"
                  ],
                  "n": "saml_providers_entity_id_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "saml_providers_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "saml_providers_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "entity_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "metadata_xml",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "metadata_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "attribute_mapping",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "name_id_format",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                }
              ]
            },
            "user_analytics": {
              "fk": [
                {
                  "n": "user_analytics_subtopic_id_fkey",
                  "map": [
                    {
                      "c": "subtopic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subtopics"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "user_analytics_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_analytics_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "topic_id",
                    "subtopic_id"
                  ],
                  "n": "user_analytics_user_id_topic_id_subtopic_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own analytics",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own analytics",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own analytics",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('user_analytics_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "subtopic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "practice_attempts",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "correct_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "incorrect_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "average_time_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "float8"
                },
                {
                  "d": "now()",
                  "n": "last_updated",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "email_templates": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "email_templates_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "template_name"
                  ],
                  "n": "email_templates_template_name_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "template_name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "subject",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "html_content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "variables",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "one_time_tokens": {
              "fk": [
                {
                  "n": "one_time_tokens_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(token_hash) > 0))",
                  "n": "one_time_tokens_token_hash_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "one_time_tokens_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "relates_to"
                  ],
                  "n": "one_time_tokens_relates_to_hash_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "token_hash"
                  ],
                  "n": "one_time_tokens_token_hash_hash_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "token_type"
                  ],
                  "n": "one_time_tokens_user_id_token_type_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "token_type",
                  "id": false,
                  "nl": false,
                  "ty": "one_time_token_type"
                },
                {
                  "d": null,
                  "n": "token_hash",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "relates_to",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                }
              ]
            },
            "discount_coupons": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((discount_type = ANY (ARRAY['percentage'::text, 'fixed_amount'::text])))",
                  "n": "valid_discount_type"
                },
                {
                  "e": "CHECK ((((discount_type = 'percentage'::text) AND ((discount_value >= (1)::numeric) AND (discount_value <= (100)::numeric))) OR (discount_type = 'fixed_amount'::text)))",
                  "n": "valid_percentage"
                }
              ],
              "idx": [
                {
                  "c": [
                    "code"
                  ],
                  "n": "discount_coupons_code_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "discount_coupons_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "code"
                  ],
                  "n": "idx_discount_coupons_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "is_active"
                  ],
                  "n": "idx_discount_coupons_is_active",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "valid_from",
                    "valid_until"
                  ],
                  "n": "idx_discount_coupons_valid_dates",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "code",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "discount_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "discount_value",
                  "id": false,
                  "nl": false,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "applicable_plans",
                  "id": false,
                  "nl": true,
                  "ty": "_uuid"
                },
                {
                  "d": null,
                  "n": "usage_limit",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "usage_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "valid_from",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "valid_until",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_exam_config": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_exam_config_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can manage mock exam config",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Students can view mock exam config",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "15",
                  "n": "part_a_question_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "30",
                  "n": "part_a_duration_minutes",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "120",
                  "n": "part_b_question_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "150",
                  "n": "part_b_duration_minutes",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "allow_calculator",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "practice_results": {
              "fk": [
                {
                  "n": "practice_results_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "practice_sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "practice_results_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert result for own practice session",
                    "chk": "(session_id IN ( SELECT practice_sessions.id\n   FROM practice_sessions\n  WHERE (practice_sessions.user_id = auth.uid())))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can view results of own practice session",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(session_id IN ( SELECT practice_sessions.id\n   FROM practice_sessions\n  WHERE (practice_sessions.user_id = auth.uid())))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('practice_results_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "selected_option_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "is_correct",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "time_taken_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "question_options": {
              "fk": [
                {
                  "n": "question_options_question_id_fkey",
                  "map": [
                    {
                      "c": "question_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "questions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "question_id"
                  ],
                  "n": "idx_question_options_question_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "question_options_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "option_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "is_correct",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "audit_log_entries": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "audit_log_entries_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "audit_logs_instance_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "payload",
                  "id": false,
                  "nl": true,
                  "ty": "json"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "ip_address",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                }
              ]
            },
            "buckets_analytics": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "buckets_analytics_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'ANALYTICS'::storage.buckettype",
                  "n": "type",
                  "id": false,
                  "nl": false,
                  "ty": "buckettype"
                },
                {
                  "d": "'ICEBERG'::text",
                  "n": "format",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "content_approvals": {
              "fk": [
                {
                  "n": "content_approvals_reviewed_by_fkey",
                  "map": [
                    {
                      "c": "reviewed_by",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "admin_users"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "content_approvals_submitted_by_fkey",
                  "map": [
                    {
                      "c": "submitted_by",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "admin_users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((resource_type = ANY (ARRAY['module'::text, 'topic'::text, 'lesson'::text, 'question'::text, 'flashcard'::text])))",
                  "n": "content_approvals_resource_type_check"
                },
                {
                  "e": "CHECK ((status = ANY (ARRAY['pending'::text, 'approved'::text, 'rejected'::text])))",
                  "n": "content_approvals_status_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "content_approvals_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "idx_content_approvals_created_at",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "resource_type"
                  ],
                  "n": "idx_content_approvals_resource_type",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "reviewed_by"
                  ],
                  "n": "idx_content_approvals_reviewed_by",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "status"
                  ],
                  "n": "idx_content_approvals_status",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "submitted_by"
                  ],
                  "n": "idx_content_approvals_submitted_by",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Editor can create",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'superadmin'::text])) AND (admin_users.is_active = true))))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": null
                  },
                  {
                    "n": "Editor can read all",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'moderator'::text, 'superadmin'::text])) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Editor can update own pending",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "((submitted_by = auth.uid()) AND (status = 'pending'::text) AND (EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'superadmin'::text])) AND (admin_users.is_active = true)))))"
                  },
                  {
                    "n": "Superadmin full access",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "resource_title",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'pending'::text",
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "submitted_by",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "reviewed_by",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "review_comments",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "reviewed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "practice_sessions": {
              "fk": [
                {
                  "n": "practice_sessions_module_id_fkey",
                  "map": [
                    {
                      "c": "module_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "modules"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "practice_sessions_subtopic_id_fkey",
                  "map": [
                    {
                      "c": "subtopic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subtopics"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "practice_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "subdivision"
                  ],
                  "n": "idx_practice_sessions_subdivision",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "practice_sessions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own practice session",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can manage own practice sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can update own practice session",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('practice_sessions_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "subtopic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "correct_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "incorrect_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "skipped_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "subdivision",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "module_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "saml_relay_states": {
              "fk": [
                {
                  "n": "saml_relay_states_flow_state_id_fkey",
                  "map": [
                    {
                      "c": "flow_state_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "flow_state"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "saml_relay_states_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(request_id) > 0))",
                  "n": "request_id not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "saml_relay_states_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "for_email"
                  ],
                  "n": "saml_relay_states_for_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "saml_relay_states_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "saml_relay_states_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "request_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "for_email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "redirect_to",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "flow_state_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "schema_migrations": {
              "fk": [],
              "pk": [
                [
                  "version"
                ],
                [
                  "version"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "version"
                  ],
                  "n": "schema_migrations_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "version"
                  ],
                  "n": "schema_migrations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "inserted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "ai_recommendations": {
              "fk": [
                {
                  "n": "ai_recommendations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((recommendation_type = ANY (ARRAY['lesson'::text, 'topic'::text, 'subtopic'::text, 'quiz'::text])))",
                  "n": "ai_recommendations_recommendation_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "ai_recommendations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own AI recommendations",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own AI recommendations",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own AI recommendations",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own AI recommendations",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('ai_recommendations_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "recommendation_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "reference_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "score",
                  "id": false,
                  "nl": true,
                  "ty": "float8"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "expires_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "analytics_sessions": {
              "fk": [
                {
                  "n": "analytics_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "analytics_sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_start"
                  ],
                  "n": "idx_analytics_sessions_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "session_start"
                  ],
                  "n": "idx_analytics_sessions_user_date",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "session_start",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "session_end",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "duration_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "chat_conversations": {
              "fk": [
                {
                  "n": "chat_conversations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "chat_conversations_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "is_active"
                  ],
                  "n": "idx_chat_conversations_active",
                  "pr": "(is_active = true)",
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_chat_conversations_user",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "chat_conversations_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "chat_conversations_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "'New Conversation'::text",
                  "n": "title",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'{}'::jsonb",
                  "n": "context_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "subscription_plans": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "is_active"
                  ],
                  "n": "idx_subscription_plans_is_active",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "subscription_plans_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "price_usd",
                  "id": false,
                  "nl": false,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "duration_days",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "features",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "lesson_quiz_results": {
              "fk": [
                {
                  "n": "lesson_quiz_results_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_lesson_quiz_results_lesson",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_lesson_quiz_results_user",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "lesson_quiz_results_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "lesson_id"
                  ],
                  "n": "lesson_quiz_results_user_id_lesson_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can view all quiz results",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Users can insert own quiz results",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can view own quiz results",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "score_percentage",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "passed",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "learning_completions": {
              "fk": [
                {
                  "n": "learning_completions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "is_completed"
                  ],
                  "n": "idx_learning_completions_completed",
                  "pr": "(is_completed = true)",
                  "uq": false
                },
                {
                  "c": [
                    "completed_at"
                  ],
                  "n": "idx_learning_completions_completed_at",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_learning_completions_lesson_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_learning_completions_user_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "learning_completions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "lesson_id"
                  ],
                  "n": "learning_completions_user_id_lesson_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Editors can view learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'editor'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Moderators can view learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'moderator'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Superadmins can view all learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Users can insert their own completions",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update their own completions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "Users can view their own completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "false",
                  "n": "is_completed",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "time_spent_minutes",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "oauth_authorizations": {
              "fk": [
                {
                  "n": "oauth_authorizations_client_id_fkey",
                  "map": [
                    {
                      "c": "client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "oauth_authorizations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(authorization_code) <= 255))",
                  "n": "oauth_authorizations_authorization_code_length"
                },
                {
                  "e": "CHECK ((char_length(code_challenge) <= 128))",
                  "n": "oauth_authorizations_code_challenge_length"
                },
                {
                  "e": "CHECK ((expires_at > created_at))",
                  "n": "oauth_authorizations_expires_at_future"
                },
                {
                  "e": "CHECK ((char_length(redirect_uri) <= 2048))",
                  "n": "oauth_authorizations_redirect_uri_length"
                },
                {
                  "e": "CHECK ((char_length(resource) <= 2048))",
                  "n": "oauth_authorizations_resource_length"
                },
                {
                  "e": "CHECK ((char_length(scope) <= 4096))",
                  "n": "oauth_authorizations_scope_length"
                },
                {
                  "e": "CHECK ((char_length(state) <= 4096))",
                  "n": "oauth_authorizations_state_length"
                }
              ],
              "idx": [
                {
                  "c": [
                    "expires_at"
                  ],
                  "n": "oauth_auth_pending_exp_idx",
                  "pr": "(status = 'pending'::auth.oauth_authorization_status)",
                  "uq": false
                },
                {
                  "c": [
                    "authorization_code"
                  ],
                  "n": "oauth_authorizations_authorization_code_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "authorization_id"
                  ],
                  "n": "oauth_authorizations_authorization_id_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_authorizations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "authorization_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "redirect_uri",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "scope",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "state",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "resource",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge_method",
                  "id": false,
                  "nl": true,
                  "ty": "code_challenge_method"
                },
                {
                  "d": "'code'::auth.oauth_response_type",
                  "n": "response_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_response_type"
                },
                {
                  "d": "'pending'::auth.oauth_authorization_status",
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_authorization_status"
                },
                {
                  "d": null,
                  "n": "authorization_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "(now() + '00:03:00'::interval)",
                  "n": "expires_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "approved_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "s3_multipart_uploads": {
              "fk": [
                {
                  "n": "s3_multipart_uploads_bucket_id_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "key",
                    "created_at"
                  ],
                  "n": "idx_multipart_uploads_list",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "s3_multipart_uploads_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "in_progress_size",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "upload_signature",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "user_metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                }
              ]
            },
            "s3_multipart_uploads_parts": {
              "fk": [
                {
                  "n": "s3_multipart_uploads_parts_bucket_id_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "s3_multipart_uploads_parts_upload_id_fkey",
                  "map": [
                    {
                      "c": "upload_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "s3_multipart_uploads"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "s3_multipart_uploads_parts_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "upload_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "size",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "part_number",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "etag",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            }
          }
        },
        "storage": {
          "enums": {
            "action": [
              "INSERT",
              "UPDATE",
              "DELETE",
              "TRUNCATE",
              "ERROR"
            ],
            "aal_level": [
              "aal1",
              "aal2",
              "aal3"
            ],
            "buckettype": [
              "STANDARD",
              "ANALYTICS"
            ],
            "equality_op": [
              "eq",
              "neq",
              "lt",
              "lte",
              "gt",
              "gte",
              "in"
            ],
            "factor_type": [
              "totp",
              "webauthn",
              "phone"
            ],
            "factor_status": [
              "unverified",
              "verified"
            ],
            "oauth_client_type": [
              "public",
              "confidential"
            ],
            "oauth_response_type": [
              "code"
            ],
            "one_time_token_type": [
              "confirmation_token",
              "reauthentication_token",
              "recovery_token",
              "email_change_token_new",
              "email_change_token_current",
              "phone_change_token"
            ],
            "code_challenge_method": [
              "s256",
              "plain"
            ],
            "oauth_registration_type": [
              "dynamic",
              "manual"
            ],
            "oauth_authorization_status": [
              "pending",
              "approved",
              "denied",
              "expired"
            ]
          },
          "tables": {
            "users": {
              "fk": [],
              "pk": [
                [
                  "id"
                ],
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((email_change_confirm_status >= 0) AND (email_change_confirm_status <= 2)))",
                  "n": "users_email_change_confirm_status_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "confirmation_token"
                  ],
                  "n": "confirmation_token_idx",
                  "pr": "((confirmation_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email_change_token_current"
                  ],
                  "n": "email_change_token_current_idx",
                  "pr": "((email_change_token_current)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email_change_token_new"
                  ],
                  "n": "email_change_token_new_idx",
                  "pr": "((email_change_token_new)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "reauthentication_token"
                  ],
                  "n": "reauthentication_token_idx",
                  "pr": "((reauthentication_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "recovery_token"
                  ],
                  "n": "recovery_token_idx",
                  "pr": "((recovery_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email"
                  ],
                  "n": "users_email_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "email"
                  ],
                  "n": "users_email_partial_key",
                  "pr": "(is_sso_user = false)",
                  "uq": true
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "users_instance_id_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "users_instance_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "is_anonymous"
                  ],
                  "n": "users_is_anonymous_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "phone"
                  ],
                  "n": "users_phone_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "users_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "users_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Superadmins can view all users",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "User can edit own account",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(id = auth.uid())"
                  },
                  {
                    "n": "User can view own account",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(id = auth.uid())"
                  },
                  {
                    "n": "Users can update their own user record",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = id)"
                  },
                  {
                    "n": "Users can view their own user record",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "password_hash",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "aud",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "'email'::text",
                  "n": "auth_provider",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "is_email_verified",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "encrypted_password",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email_confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "invited_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "confirmation_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "confirmation_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "recovery_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "recovery_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email_change_token_new",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "email_change",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "email_change_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "last_sign_in_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "raw_app_meta_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "raw_user_meta_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "is_super_admin",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "NULL::character varying",
                  "n": "phone",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone_confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "phone_change",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "''::character varying",
                  "n": "phone_change_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "phone_change_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "email_change_token_current",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "0",
                  "n": "email_change_confirm_status",
                  "id": false,
                  "nl": true,
                  "ty": "int2"
                },
                {
                  "d": null,
                  "n": "banned_until",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "reauthentication_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "reauthentication_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "is_sso_user",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "deleted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "is_anonymous",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                }
              ]
            },
            "topics": {
              "fk": [
                {
                  "n": "topics_module_id_fkey",
                  "map": [
                    {
                      "c": "module_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "modules"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "module_id"
                  ],
                  "n": "idx_topics_module_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "topics_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "module_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "buckets": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "bname",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "buckets_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "public",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "false",
                  "n": "avif_autodetection",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "file_size_limit",
                  "id": false,
                  "nl": true,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "allowed_mime_types",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'STANDARD'::storage.buckettype",
                  "n": "type",
                  "id": false,
                  "nl": false,
                  "ty": "buckettype"
                }
              ]
            },
            "lessons": {
              "fk": [
                {
                  "n": "lessons_topic_id_fkey",
                  "map": [
                    {
                      "c": "topic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "topics"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "category"
                  ],
                  "n": "idx_lessons_category",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "topic_id"
                  ],
                  "n": "idx_lessons_topic_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "lessons_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "video_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "audio_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'text'::character varying",
                  "n": "lesson_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "80",
                  "n": "passing_score_percentage",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "0",
                  "n": "duration",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "modules": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "modules_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "thumbnail_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "objects": {
              "fk": [
                {
                  "n": "objects_bucketId_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "name"
                  ],
                  "n": "bucketid_objname",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "name",
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_name_bucket_level_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "bucket_id",
                    "name"
                  ],
                  "n": "idx_objects_bucket_id_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_objects_lower_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "name"
                  ],
                  "n": "name_prefix_search",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level",
                    "name"
                  ],
                  "n": "objects_bucket_id_level_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "objects_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "last_accessed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "path_tokens",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "user_metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "level",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                }
              ]
            },
            "secrets": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "secrets_name_idx",
                  "pr": "(name IS NOT NULL)",
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "secrets_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "''::text",
                  "n": "description",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "secret",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "vault._crypto_aead_det_noncegen()",
                  "n": "nonce",
                  "id": false,
                  "nl": true,
                  "ty": "bytea"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "prefixes": {
              "fk": [
                {
                  "n": "prefixes_bucketId_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "bucket_id",
                  "level",
                  "name"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_prefixes_lower_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level",
                    "name"
                  ],
                  "n": "prefixes_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "level",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "sessions": {
              "fk": [
                {
                  "n": "sessions_oauth_client_id_fkey",
                  "map": [
                    {
                      "c": "oauth_client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "not_after"
                  ],
                  "n": "sessions_not_after_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "oauth_client_id"
                  ],
                  "n": "sessions_oauth_client_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "sessions_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "created_at"
                  ],
                  "n": "user_id_created_at_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "factor_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "aal",
                  "id": false,
                  "nl": true,
                  "ty": "aal_level"
                },
                {
                  "d": null,
                  "n": "not_after",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "refreshed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "user_agent",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "ip",
                  "id": false,
                  "nl": true,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "tag",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "oauth_client_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "instances": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "instances_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "uuid",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "raw_base_config",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "questions": {
              "fk": [
                {
                  "n": "questions_lesson_id_fkey",
                  "map": [
                    {
                      "c": "lesson_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "lessons"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "module_type",
                    "category",
                    "subdivision"
                  ],
                  "n": "idx_questions_filters",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_questions_lesson_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "questions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "question_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'multiple_choice'::character varying",
                  "n": "question_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "difficulty",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "1",
                  "n": "points",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "explanation",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "module_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "subdivision",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "exam_part",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "subtopics": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "subtopics_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "topic_id",
                    "name"
                  ],
                  "n": "subtopics_topic_id_name_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Anyone can view subtopics",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('subtopics_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "position",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "flashcards": {
              "fk": [
                {
                  "n": "flashcards_topic_id_fkey",
                  "map": [
                    {
                      "c": "topic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "topics"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "flashcards_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "category"
                  ],
                  "n": "idx_flashcards_category",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "topic_id"
                  ],
                  "n": "idx_flashcards_topic_id",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "front_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "back_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "flow_state": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "flow_state_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "flow_state_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "auth_code"
                  ],
                  "n": "idx_auth_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "authentication_method"
                  ],
                  "n": "idx_user_id_auth_method",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "auth_code",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge_method",
                  "id": false,
                  "nl": false,
                  "ty": "code_challenge_method"
                },
                {
                  "d": null,
                  "n": "code_challenge",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_access_token",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_refresh_token",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "authentication_method",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "auth_code_issued_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "identities": {
              "fk": [
                {
                  "n": "identities_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "identities_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "identities_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "provider_id",
                    "provider"
                  ],
                  "n": "identities_provider_id_provider_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "identities_user_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "identity_data",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "provider",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "last_sign_in_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "migrations": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "migrations_name_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "migrations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "hash",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "executed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "mock_exams": {
              "fk": [
                {
                  "n": "mock_exams_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_exams_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own mock exam",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can manage own mock exams",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('mock_exams_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "correct_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "incorrect_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "skipped_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "admin_users": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((role = ANY (ARRAY['superadmin'::text, 'editor'::text, 'moderator'::text])))",
                  "n": "admin_users_role_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "admin_users_email_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "admin_users_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Only superadmin can delete admin users",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "((role = 'superadmin'::text) AND is_active)"
                  },
                  {
                    "n": "Only superadmin can edit admin users",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "((role = 'superadmin'::text) AND is_active)"
                  },
                  {
                    "n": "Superadmin can create admin users",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users admin_users_1\n  WHERE ((admin_users_1.id = auth.uid()) AND (admin_users_1.role = 'superadmin'::text) AND admin_users_1.is_active)))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Superadmins can insert admin users",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users admin_users_1\n  WHERE ((admin_users_1.id = auth.uid()) AND (admin_users_1.role = 'superadmin'::text) AND (admin_users_1.is_active = true))))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": null
                  },
                  {
                    "n": "Users can view their own admin record",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "password_hash",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "full_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "daily_stats": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "date"
                  ],
                  "n": "daily_stats_date_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "daily_stats_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "date"
                  ],
                  "n": "idx_daily_stats_date",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "0",
                  "n": "total_signups",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_conversions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "active_users",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_sessions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "avg_session_duration",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "0",
                  "n": "total_revenue",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "mfa_factors": {
              "fk": [
                {
                  "n": "mfa_factors_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "user_id",
                    "created_at"
                  ],
                  "n": "factor_id_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "last_challenged_at"
                  ],
                  "n": "mfa_factors_last_challenged_at_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mfa_factors_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "friendly_name",
                    "user_id"
                  ],
                  "n": "mfa_factors_user_friendly_name_unique",
                  "pr": "(TRIM(BOTH FROM friendly_name) <> ''::text)",
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "mfa_factors_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "phone"
                  ],
                  "n": "unique_phone_factor_per_user",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "friendly_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "factor_type",
                  "id": false,
                  "nl": false,
                  "ty": "factor_type"
                },
                {
                  "d": null,
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "factor_status"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "secret",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "last_challenged_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "web_authn_credential",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "web_authn_aaguid",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "sso_domains": {
              "fk": [
                {
                  "n": "sso_domains_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(domain) > 0))",
                  "n": "domain not empty"
                }
              ],
              "idx": [
                {
                  "c": null,
                  "n": "sso_domains_domain_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "sso_domains_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "sso_domains_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "domain",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "app_settings": {
              "fk": [],
              "pk": [
                [
                  "key"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "key"
                  ],
                  "n": "app_settings_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Active admin can update app settings",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  },
                  {
                    "n": "Active admin can view app settings",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "value",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_results": {
              "fk": [
                {
                  "n": "mock_results_mock_exam_id_fkey",
                  "map": [
                    {
                      "c": "mock_exam_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "mock_exams"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_results_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert result for own mock exam",
                    "chk": "(mock_exam_id IN ( SELECT mock_exams.id\n   FROM mock_exams\n  WHERE (mock_exams.user_id = auth.uid())))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can view results of own mock exam",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(mock_exam_id IN ( SELECT mock_exams.id\n   FROM mock_exams\n  WHERE (mock_exams.user_id = auth.uid())))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('mock_results_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "mock_exam_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "selected_option_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "is_correct",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "time_taken_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "subscription": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "entity"
                  ],
                  "n": "ix_realtime_subscription_entity",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "pk_subscription",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "subscription_id",
                    "entity",
                    "filters"
                  ],
                  "n": "subscription_subscription_id_entity_filters_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": true,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "subscription_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "entity",
                  "id": false,
                  "nl": false,
                  "ty": "regclass"
                },
                {
                  "d": "'{}'::realtime.user_defined_filter[]",
                  "n": "filters",
                  "id": false,
                  "nl": false,
                  "ty": "_user_defined_filter"
                },
                {
                  "d": null,
                  "n": "claims",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "claims_role",
                  "id": false,
                  "nl": false,
                  "ty": "regrole"
                },
                {
                  "d": "timezone('utc'::text, now())",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                }
              ]
            },
            "chat_messages": {
              "fk": [
                {
                  "n": "chat_messages_conversation_id_fkey",
                  "map": [
                    {
                      "c": "conversation_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "chat_conversations"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((role = ANY (ARRAY['user'::text, 'assistant'::text])))",
                  "n": "chat_messages_role_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "chat_messages_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "conversation_id",
                    "created_at"
                  ],
                  "n": "idx_chat_messages_conversation",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "role",
                    "created_at"
                  ],
                  "n": "idx_chat_messages_role",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "chat_messages_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "chat_messages_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM chat_conversations\n  WHERE ((chat_conversations.id = chat_messages.conversation_id) AND (chat_conversations.user_id = auth.uid()))))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "conversation_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'{}'::jsonb",
                  "n": "metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_sessions": {
              "fk": [
                {
                  "n": "mock_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "user_profiles"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((exam_part = ANY (ARRAY['part_a'::text, 'part_b'::text])))",
                  "n": "mock_sessions_exam_part_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "exam_part"
                  ],
                  "n": "idx_mock_sessions_exam_part",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_mock_sessions_user_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_sessions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Users can insert own mock sessions",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update own mock sessions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  },
                  {
                    "n": "Users can view own mock sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "exam_part",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "correct_answers",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "score_percentage",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "time_taken_minutes",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "passed",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "oauth_clients": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(client_name) <= 1024))",
                  "n": "oauth_clients_client_name_length"
                },
                {
                  "e": "CHECK ((char_length(client_uri) <= 2048))",
                  "n": "oauth_clients_client_uri_length"
                },
                {
                  "e": "CHECK ((char_length(logo_uri) <= 2048))",
                  "n": "oauth_clients_logo_uri_length"
                }
              ],
              "idx": [
                {
                  "c": [
                    "deleted_at"
                  ],
                  "n": "oauth_clients_deleted_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_clients_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "client_secret_hash",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "registration_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_registration_type"
                },
                {
                  "d": null,
                  "n": "redirect_uris",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "grant_types",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_uri",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "logo_uri",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "deleted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "'confidential'::auth.oauth_client_type",
                  "n": "client_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_client_type"
                }
              ]
            },
            "sso_providers": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((resource_id = NULL::text) OR (char_length(resource_id) > 0)))",
                  "n": "resource_id not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "sso_providers_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": null,
                  "n": "sso_providers_resource_id_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "resource_id"
                  ],
                  "n": "sso_providers_resource_id_pattern_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "disabled",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                }
              ]
            },
            "subscriptions": {
              "fk": [
                {
                  "n": "fk_subscriptions_coupon_code",
                  "map": [
                    {
                      "c": "coupon_code",
                      "rc": "code"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "discount_coupons"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "fk_subscriptions_plan_id",
                  "map": [
                    {
                      "c": "plan_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subscription_plans"
                  },
                  "on_d": "RESTRICT",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "subscriptions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((plan_type = ANY (ARRAY['trial'::text, '1_month'::text, '3_month'::text, '6_month'::text])))",
                  "n": "subscriptions_plan_type_check"
                },
                {
                  "e": "CHECK ((payment_gateway = ANY (ARRAY['stripe'::text, 'razorpay'::text, NULL::text])))",
                  "n": "valid_payment_gateway"
                },
                {
                  "e": "CHECK ((status = ANY (ARRAY['trial'::text, 'active'::text, 'expired'::text, 'cancelled'::text])))",
                  "n": "valid_subscription_status"
                }
              ],
              "idx": [
                {
                  "c": [
                    "coupon_code"
                  ],
                  "n": "idx_subscriptions_coupon_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "plan_id"
                  ],
                  "n": "idx_subscriptions_plan_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "status"
                  ],
                  "n": "idx_subscriptions_status",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "subscriptions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Superadmins can view all subscriptions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "User can view own subscription",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "plan_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "start_date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": null,
                  "n": "end_date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "false",
                  "n": "auto_renew",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "'active'::text",
                  "n": "status",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "plan_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "payment_gateway",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "payment_method",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "amount_paid_usd",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "coupon_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "discount_amount",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "transaction_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                }
              ]
            },
            "user_profiles": {
              "fk": [
                {
                  "n": "user_profiles_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((gender = ANY (ARRAY['male'::text, 'female'::text, 'other'::text])))",
                  "n": "user_profiles_gender_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "idx_user_profiles_email",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "oauth_provider"
                  ],
                  "n": "idx_user_profiles_oauth_provider",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_profiles_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own profile",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own profile",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own profile",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own profile",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "Users can insert their own profile",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update their own profile",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  },
                  {
                    "n": "Users can view their own profile",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "full_name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone_number",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "country_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "date_of_birth",
                  "id": false,
                  "nl": true,
                  "ty": "date"
                },
                {
                  "d": null,
                  "n": "gender",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "current_country",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "nmc_attempts",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "uses_coaching",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "nursing_id_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "profile_completed",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'email'::character varying",
                  "n": "oauth_provider",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                }
              ]
            },
            "user_sessions": {
              "fk": [
                {
                  "n": "user_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_token"
                  ],
                  "n": "user_sessions_session_token_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can update own sessions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "device_info",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "session_token",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "ip_address",
                  "id": false,
                  "nl": true,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "user_agent",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "last_active_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "ai_usage_stats": {
              "fk": [
                {
                  "n": "ai_usage_stats_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "ai_usage_stats_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "date"
                  ],
                  "n": "idx_ai_usage_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "date"
                  ],
                  "n": "idx_ai_usage_user_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "date"
                  ],
                  "n": "unique_user_date",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "ai_usage_stats_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "ai_usage_stats_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "CURRENT_DATE",
                  "n": "date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "0",
                  "n": "message_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_tokens",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0.0000",
                  "n": "total_cost",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "dashboard_hero": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "dashboard_hero_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "display_order"
                  ],
                  "n": "idx_dashboard_hero_display_order",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can insert/update/delete dashboard hero",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  },
                  {
                    "n": "Any user can view dashboard hero",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('dashboard_hero_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "headline",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "subheadline",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "button_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "button_link",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                }
              ]
            },
            "learning_paths": {
              "fk": [
                {
                  "n": "learning_paths_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((path_type = ANY (ARRAY['sequential'::text, 'adaptive'::text, 'custom'::text])))",
                  "n": "learning_paths_path_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "learning_paths_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own learning path",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own learning path",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own learning path",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own learning path",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('learning_paths_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "path_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "details",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": "0",
                  "n": "current_index",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "lesson_quizzes": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "lesson_quizzes_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('lesson_quizzes_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "position",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "mfa_amr_claims": {
              "fk": [
                {
                  "n": "mfa_amr_claims_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "amr_id_pk",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_id",
                    "authentication_method"
                  ],
                  "n": "mfa_amr_claims_session_id_authentication_method_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "authentication_method",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "mfa_challenges": {
              "fk": [
                {
                  "n": "mfa_challenges_auth_factor_id_fkey",
                  "map": [
                    {
                      "c": "factor_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "mfa_factors"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "mfa_challenge_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mfa_challenges_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "factor_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "verified_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "ip_address",
                  "id": false,
                  "nl": false,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "otp_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "web_authn_session_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                }
              ]
            },
            "oauth_consents": {
              "fk": [
                {
                  "n": "oauth_consents_client_id_fkey",
                  "map": [
                    {
                      "c": "client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "oauth_consents_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((revoked_at IS NULL) OR (revoked_at >= granted_at)))",
                  "n": "oauth_consents_revoked_after_granted"
                },
                {
                  "e": "CHECK ((char_length(scopes) <= 2048))",
                  "n": "oauth_consents_scopes_length"
                },
                {
                  "e": "CHECK ((char_length(TRIM(BOTH FROM scopes)) > 0))",
                  "n": "oauth_consents_scopes_not_empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "client_id"
                  ],
                  "n": "oauth_consents_active_client_idx",
                  "pr": "(revoked_at IS NULL)",
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "client_id"
                  ],
                  "n": "oauth_consents_active_user_client_idx",
                  "pr": "(revoked_at IS NULL)",
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_consents_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "client_id"
                  ],
                  "n": "oauth_consents_user_client_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "granted_at"
                  ],
                  "n": "oauth_consents_user_order_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "client_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "scopes",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "granted_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "revoked_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "question_media": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((media_type = ANY (ARRAY['image'::text, 'audio'::text, 'video'::text, 'other'::text])))",
                  "n": "question_media_media_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "question_media_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Anyone can view question media",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('question_media_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "media_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "media_url",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "refresh_tokens": {
              "fk": [
                {
                  "n": "refresh_tokens_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "refresh_tokens_instance_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "instance_id",
                    "user_id"
                  ],
                  "n": "refresh_tokens_instance_id_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "parent"
                  ],
                  "n": "refresh_tokens_parent_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "refresh_tokens_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_id",
                    "revoked"
                  ],
                  "n": "refresh_tokens_session_id_revoked_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "token"
                  ],
                  "n": "refresh_tokens_token_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "updated_at"
                  ],
                  "n": "refresh_tokens_updated_at_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "nextval('auth.refresh_tokens_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "revoked",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "parent",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "saml_providers": {
              "fk": [
                {
                  "n": "saml_providers_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(entity_id) > 0))",
                  "n": "entity_id not empty"
                },
                {
                  "e": "CHECK (((metadata_url = NULL::text) OR (char_length(metadata_url) > 0)))",
                  "n": "metadata_url not empty"
                },
                {
                  "e": "CHECK ((char_length(metadata_xml) > 0))",
                  "n": "metadata_xml not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "entity_id"
                  ],
                  "n": "saml_providers_entity_id_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "saml_providers_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "saml_providers_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "entity_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "metadata_xml",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "metadata_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "attribute_mapping",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "name_id_format",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                }
              ]
            },
            "user_analytics": {
              "fk": [
                {
                  "n": "user_analytics_subtopic_id_fkey",
                  "map": [
                    {
                      "c": "subtopic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subtopics"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "user_analytics_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_analytics_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "topic_id",
                    "subtopic_id"
                  ],
                  "n": "user_analytics_user_id_topic_id_subtopic_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own analytics",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own analytics",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own analytics",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('user_analytics_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "subtopic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "practice_attempts",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "correct_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "incorrect_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "average_time_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "float8"
                },
                {
                  "d": "now()",
                  "n": "last_updated",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "email_templates": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "email_templates_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "template_name"
                  ],
                  "n": "email_templates_template_name_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "template_name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "subject",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "html_content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "variables",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "one_time_tokens": {
              "fk": [
                {
                  "n": "one_time_tokens_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(token_hash) > 0))",
                  "n": "one_time_tokens_token_hash_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "one_time_tokens_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "relates_to"
                  ],
                  "n": "one_time_tokens_relates_to_hash_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "token_hash"
                  ],
                  "n": "one_time_tokens_token_hash_hash_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "token_type"
                  ],
                  "n": "one_time_tokens_user_id_token_type_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "token_type",
                  "id": false,
                  "nl": false,
                  "ty": "one_time_token_type"
                },
                {
                  "d": null,
                  "n": "token_hash",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "relates_to",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                }
              ]
            },
            "discount_coupons": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((discount_type = ANY (ARRAY['percentage'::text, 'fixed_amount'::text])))",
                  "n": "valid_discount_type"
                },
                {
                  "e": "CHECK ((((discount_type = 'percentage'::text) AND ((discount_value >= (1)::numeric) AND (discount_value <= (100)::numeric))) OR (discount_type = 'fixed_amount'::text)))",
                  "n": "valid_percentage"
                }
              ],
              "idx": [
                {
                  "c": [
                    "code"
                  ],
                  "n": "discount_coupons_code_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "discount_coupons_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "code"
                  ],
                  "n": "idx_discount_coupons_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "is_active"
                  ],
                  "n": "idx_discount_coupons_is_active",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "valid_from",
                    "valid_until"
                  ],
                  "n": "idx_discount_coupons_valid_dates",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "code",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "discount_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "discount_value",
                  "id": false,
                  "nl": false,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "applicable_plans",
                  "id": false,
                  "nl": true,
                  "ty": "_uuid"
                },
                {
                  "d": null,
                  "n": "usage_limit",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "usage_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "valid_from",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "valid_until",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_exam_config": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_exam_config_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can manage mock exam config",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Students can view mock exam config",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "15",
                  "n": "part_a_question_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "30",
                  "n": "part_a_duration_minutes",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "120",
                  "n": "part_b_question_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "150",
                  "n": "part_b_duration_minutes",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "allow_calculator",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "practice_results": {
              "fk": [
                {
                  "n": "practice_results_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "practice_sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "practice_results_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert result for own practice session",
                    "chk": "(session_id IN ( SELECT practice_sessions.id\n   FROM practice_sessions\n  WHERE (practice_sessions.user_id = auth.uid())))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can view results of own practice session",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(session_id IN ( SELECT practice_sessions.id\n   FROM practice_sessions\n  WHERE (practice_sessions.user_id = auth.uid())))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('practice_results_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "selected_option_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "is_correct",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "time_taken_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "question_options": {
              "fk": [
                {
                  "n": "question_options_question_id_fkey",
                  "map": [
                    {
                      "c": "question_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "questions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "question_id"
                  ],
                  "n": "idx_question_options_question_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "question_options_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "option_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "is_correct",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "audit_log_entries": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "audit_log_entries_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "audit_logs_instance_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "payload",
                  "id": false,
                  "nl": true,
                  "ty": "json"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "ip_address",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                }
              ]
            },
            "buckets_analytics": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "buckets_analytics_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'ANALYTICS'::storage.buckettype",
                  "n": "type",
                  "id": false,
                  "nl": false,
                  "ty": "buckettype"
                },
                {
                  "d": "'ICEBERG'::text",
                  "n": "format",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "content_approvals": {
              "fk": [
                {
                  "n": "content_approvals_reviewed_by_fkey",
                  "map": [
                    {
                      "c": "reviewed_by",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "admin_users"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "content_approvals_submitted_by_fkey",
                  "map": [
                    {
                      "c": "submitted_by",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "admin_users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((resource_type = ANY (ARRAY['module'::text, 'topic'::text, 'lesson'::text, 'question'::text, 'flashcard'::text])))",
                  "n": "content_approvals_resource_type_check"
                },
                {
                  "e": "CHECK ((status = ANY (ARRAY['pending'::text, 'approved'::text, 'rejected'::text])))",
                  "n": "content_approvals_status_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "content_approvals_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "idx_content_approvals_created_at",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "resource_type"
                  ],
                  "n": "idx_content_approvals_resource_type",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "reviewed_by"
                  ],
                  "n": "idx_content_approvals_reviewed_by",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "status"
                  ],
                  "n": "idx_content_approvals_status",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "submitted_by"
                  ],
                  "n": "idx_content_approvals_submitted_by",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Editor can create",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'superadmin'::text])) AND (admin_users.is_active = true))))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": null
                  },
                  {
                    "n": "Editor can read all",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'moderator'::text, 'superadmin'::text])) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Editor can update own pending",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "((submitted_by = auth.uid()) AND (status = 'pending'::text) AND (EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'superadmin'::text])) AND (admin_users.is_active = true)))))"
                  },
                  {
                    "n": "Superadmin full access",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "resource_title",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'pending'::text",
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "submitted_by",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "reviewed_by",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "review_comments",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "reviewed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "practice_sessions": {
              "fk": [
                {
                  "n": "practice_sessions_module_id_fkey",
                  "map": [
                    {
                      "c": "module_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "modules"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "practice_sessions_subtopic_id_fkey",
                  "map": [
                    {
                      "c": "subtopic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subtopics"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "practice_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "subdivision"
                  ],
                  "n": "idx_practice_sessions_subdivision",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "practice_sessions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own practice session",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can manage own practice sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can update own practice session",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('practice_sessions_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "subtopic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "correct_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "incorrect_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "skipped_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "subdivision",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "module_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "saml_relay_states": {
              "fk": [
                {
                  "n": "saml_relay_states_flow_state_id_fkey",
                  "map": [
                    {
                      "c": "flow_state_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "flow_state"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "saml_relay_states_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(request_id) > 0))",
                  "n": "request_id not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "saml_relay_states_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "for_email"
                  ],
                  "n": "saml_relay_states_for_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "saml_relay_states_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "saml_relay_states_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "request_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "for_email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "redirect_to",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "flow_state_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "schema_migrations": {
              "fk": [],
              "pk": [
                [
                  "version"
                ],
                [
                  "version"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "version"
                  ],
                  "n": "schema_migrations_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "version"
                  ],
                  "n": "schema_migrations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "inserted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "ai_recommendations": {
              "fk": [
                {
                  "n": "ai_recommendations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((recommendation_type = ANY (ARRAY['lesson'::text, 'topic'::text, 'subtopic'::text, 'quiz'::text])))",
                  "n": "ai_recommendations_recommendation_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "ai_recommendations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own AI recommendations",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own AI recommendations",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own AI recommendations",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own AI recommendations",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('ai_recommendations_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "recommendation_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "reference_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "score",
                  "id": false,
                  "nl": true,
                  "ty": "float8"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "expires_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "analytics_sessions": {
              "fk": [
                {
                  "n": "analytics_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "analytics_sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_start"
                  ],
                  "n": "idx_analytics_sessions_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "session_start"
                  ],
                  "n": "idx_analytics_sessions_user_date",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "session_start",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "session_end",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "duration_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "chat_conversations": {
              "fk": [
                {
                  "n": "chat_conversations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "chat_conversations_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "is_active"
                  ],
                  "n": "idx_chat_conversations_active",
                  "pr": "(is_active = true)",
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_chat_conversations_user",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "chat_conversations_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "chat_conversations_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "'New Conversation'::text",
                  "n": "title",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'{}'::jsonb",
                  "n": "context_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "subscription_plans": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "is_active"
                  ],
                  "n": "idx_subscription_plans_is_active",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "subscription_plans_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "price_usd",
                  "id": false,
                  "nl": false,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "duration_days",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "features",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "lesson_quiz_results": {
              "fk": [
                {
                  "n": "lesson_quiz_results_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_lesson_quiz_results_lesson",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_lesson_quiz_results_user",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "lesson_quiz_results_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "lesson_id"
                  ],
                  "n": "lesson_quiz_results_user_id_lesson_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can view all quiz results",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Users can insert own quiz results",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can view own quiz results",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "score_percentage",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "passed",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "learning_completions": {
              "fk": [
                {
                  "n": "learning_completions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "is_completed"
                  ],
                  "n": "idx_learning_completions_completed",
                  "pr": "(is_completed = true)",
                  "uq": false
                },
                {
                  "c": [
                    "completed_at"
                  ],
                  "n": "idx_learning_completions_completed_at",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_learning_completions_lesson_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_learning_completions_user_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "learning_completions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "lesson_id"
                  ],
                  "n": "learning_completions_user_id_lesson_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Editors can view learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'editor'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Moderators can view learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'moderator'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Superadmins can view all learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Users can insert their own completions",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update their own completions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "Users can view their own completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "false",
                  "n": "is_completed",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "time_spent_minutes",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "oauth_authorizations": {
              "fk": [
                {
                  "n": "oauth_authorizations_client_id_fkey",
                  "map": [
                    {
                      "c": "client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "oauth_authorizations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(authorization_code) <= 255))",
                  "n": "oauth_authorizations_authorization_code_length"
                },
                {
                  "e": "CHECK ((char_length(code_challenge) <= 128))",
                  "n": "oauth_authorizations_code_challenge_length"
                },
                {
                  "e": "CHECK ((expires_at > created_at))",
                  "n": "oauth_authorizations_expires_at_future"
                },
                {
                  "e": "CHECK ((char_length(redirect_uri) <= 2048))",
                  "n": "oauth_authorizations_redirect_uri_length"
                },
                {
                  "e": "CHECK ((char_length(resource) <= 2048))",
                  "n": "oauth_authorizations_resource_length"
                },
                {
                  "e": "CHECK ((char_length(scope) <= 4096))",
                  "n": "oauth_authorizations_scope_length"
                },
                {
                  "e": "CHECK ((char_length(state) <= 4096))",
                  "n": "oauth_authorizations_state_length"
                }
              ],
              "idx": [
                {
                  "c": [
                    "expires_at"
                  ],
                  "n": "oauth_auth_pending_exp_idx",
                  "pr": "(status = 'pending'::auth.oauth_authorization_status)",
                  "uq": false
                },
                {
                  "c": [
                    "authorization_code"
                  ],
                  "n": "oauth_authorizations_authorization_code_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "authorization_id"
                  ],
                  "n": "oauth_authorizations_authorization_id_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_authorizations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "authorization_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "redirect_uri",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "scope",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "state",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "resource",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge_method",
                  "id": false,
                  "nl": true,
                  "ty": "code_challenge_method"
                },
                {
                  "d": "'code'::auth.oauth_response_type",
                  "n": "response_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_response_type"
                },
                {
                  "d": "'pending'::auth.oauth_authorization_status",
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_authorization_status"
                },
                {
                  "d": null,
                  "n": "authorization_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "(now() + '00:03:00'::interval)",
                  "n": "expires_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "approved_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "s3_multipart_uploads": {
              "fk": [
                {
                  "n": "s3_multipart_uploads_bucket_id_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "key",
                    "created_at"
                  ],
                  "n": "idx_multipart_uploads_list",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "s3_multipart_uploads_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "in_progress_size",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "upload_signature",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "user_metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                }
              ]
            },
            "s3_multipart_uploads_parts": {
              "fk": [
                {
                  "n": "s3_multipart_uploads_parts_bucket_id_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "s3_multipart_uploads_parts_upload_id_fkey",
                  "map": [
                    {
                      "c": "upload_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "s3_multipart_uploads"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "s3_multipart_uploads_parts_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "upload_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "size",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "part_number",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "etag",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            }
          }
        },
        "realtime": {
          "enums": {
            "action": [
              "INSERT",
              "UPDATE",
              "DELETE",
              "TRUNCATE",
              "ERROR"
            ],
            "aal_level": [
              "aal1",
              "aal2",
              "aal3"
            ],
            "buckettype": [
              "STANDARD",
              "ANALYTICS"
            ],
            "equality_op": [
              "eq",
              "neq",
              "lt",
              "lte",
              "gt",
              "gte",
              "in"
            ],
            "factor_type": [
              "totp",
              "webauthn",
              "phone"
            ],
            "factor_status": [
              "unverified",
              "verified"
            ],
            "oauth_client_type": [
              "public",
              "confidential"
            ],
            "oauth_response_type": [
              "code"
            ],
            "one_time_token_type": [
              "confirmation_token",
              "reauthentication_token",
              "recovery_token",
              "email_change_token_new",
              "email_change_token_current",
              "phone_change_token"
            ],
            "code_challenge_method": [
              "s256",
              "plain"
            ],
            "oauth_registration_type": [
              "dynamic",
              "manual"
            ],
            "oauth_authorization_status": [
              "pending",
              "approved",
              "denied",
              "expired"
            ]
          },
          "tables": {
            "users": {
              "fk": [],
              "pk": [
                [
                  "id"
                ],
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((email_change_confirm_status >= 0) AND (email_change_confirm_status <= 2)))",
                  "n": "users_email_change_confirm_status_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "confirmation_token"
                  ],
                  "n": "confirmation_token_idx",
                  "pr": "((confirmation_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email_change_token_current"
                  ],
                  "n": "email_change_token_current_idx",
                  "pr": "((email_change_token_current)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email_change_token_new"
                  ],
                  "n": "email_change_token_new_idx",
                  "pr": "((email_change_token_new)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "reauthentication_token"
                  ],
                  "n": "reauthentication_token_idx",
                  "pr": "((reauthentication_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "recovery_token"
                  ],
                  "n": "recovery_token_idx",
                  "pr": "((recovery_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email"
                  ],
                  "n": "users_email_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "email"
                  ],
                  "n": "users_email_partial_key",
                  "pr": "(is_sso_user = false)",
                  "uq": true
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "users_instance_id_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "users_instance_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "is_anonymous"
                  ],
                  "n": "users_is_anonymous_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "phone"
                  ],
                  "n": "users_phone_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "users_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "users_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Superadmins can view all users",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "User can edit own account",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(id = auth.uid())"
                  },
                  {
                    "n": "User can view own account",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(id = auth.uid())"
                  },
                  {
                    "n": "Users can update their own user record",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = id)"
                  },
                  {
                    "n": "Users can view their own user record",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "password_hash",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "aud",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "'email'::text",
                  "n": "auth_provider",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "is_email_verified",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "encrypted_password",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email_confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "invited_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "confirmation_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "confirmation_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "recovery_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "recovery_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email_change_token_new",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "email_change",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "email_change_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "last_sign_in_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "raw_app_meta_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "raw_user_meta_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "is_super_admin",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "NULL::character varying",
                  "n": "phone",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone_confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "phone_change",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "''::character varying",
                  "n": "phone_change_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "phone_change_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "email_change_token_current",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "0",
                  "n": "email_change_confirm_status",
                  "id": false,
                  "nl": true,
                  "ty": "int2"
                },
                {
                  "d": null,
                  "n": "banned_until",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "reauthentication_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "reauthentication_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "is_sso_user",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "deleted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "is_anonymous",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                }
              ]
            },
            "topics": {
              "fk": [
                {
                  "n": "topics_module_id_fkey",
                  "map": [
                    {
                      "c": "module_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "modules"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "module_id"
                  ],
                  "n": "idx_topics_module_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "topics_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "module_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "buckets": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "bname",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "buckets_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "public",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "false",
                  "n": "avif_autodetection",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "file_size_limit",
                  "id": false,
                  "nl": true,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "allowed_mime_types",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'STANDARD'::storage.buckettype",
                  "n": "type",
                  "id": false,
                  "nl": false,
                  "ty": "buckettype"
                }
              ]
            },
            "lessons": {
              "fk": [
                {
                  "n": "lessons_topic_id_fkey",
                  "map": [
                    {
                      "c": "topic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "topics"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "category"
                  ],
                  "n": "idx_lessons_category",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "topic_id"
                  ],
                  "n": "idx_lessons_topic_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "lessons_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "video_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "audio_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'text'::character varying",
                  "n": "lesson_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "80",
                  "n": "passing_score_percentage",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "0",
                  "n": "duration",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "modules": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "modules_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "thumbnail_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "objects": {
              "fk": [
                {
                  "n": "objects_bucketId_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "name"
                  ],
                  "n": "bucketid_objname",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "name",
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_name_bucket_level_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "bucket_id",
                    "name"
                  ],
                  "n": "idx_objects_bucket_id_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_objects_lower_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "name"
                  ],
                  "n": "name_prefix_search",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level",
                    "name"
                  ],
                  "n": "objects_bucket_id_level_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "objects_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "last_accessed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "path_tokens",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "user_metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "level",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                }
              ]
            },
            "secrets": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "secrets_name_idx",
                  "pr": "(name IS NOT NULL)",
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "secrets_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "''::text",
                  "n": "description",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "secret",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "vault._crypto_aead_det_noncegen()",
                  "n": "nonce",
                  "id": false,
                  "nl": true,
                  "ty": "bytea"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "prefixes": {
              "fk": [
                {
                  "n": "prefixes_bucketId_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "bucket_id",
                  "level",
                  "name"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_prefixes_lower_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level",
                    "name"
                  ],
                  "n": "prefixes_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "level",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "sessions": {
              "fk": [
                {
                  "n": "sessions_oauth_client_id_fkey",
                  "map": [
                    {
                      "c": "oauth_client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "not_after"
                  ],
                  "n": "sessions_not_after_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "oauth_client_id"
                  ],
                  "n": "sessions_oauth_client_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "sessions_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "created_at"
                  ],
                  "n": "user_id_created_at_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "factor_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "aal",
                  "id": false,
                  "nl": true,
                  "ty": "aal_level"
                },
                {
                  "d": null,
                  "n": "not_after",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "refreshed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "user_agent",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "ip",
                  "id": false,
                  "nl": true,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "tag",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "oauth_client_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "instances": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "instances_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "uuid",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "raw_base_config",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "questions": {
              "fk": [
                {
                  "n": "questions_lesson_id_fkey",
                  "map": [
                    {
                      "c": "lesson_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "lessons"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "module_type",
                    "category",
                    "subdivision"
                  ],
                  "n": "idx_questions_filters",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_questions_lesson_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "questions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "question_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'multiple_choice'::character varying",
                  "n": "question_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "difficulty",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "1",
                  "n": "points",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "explanation",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "module_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "subdivision",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "exam_part",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "subtopics": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "subtopics_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "topic_id",
                    "name"
                  ],
                  "n": "subtopics_topic_id_name_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Anyone can view subtopics",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('subtopics_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "position",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "flashcards": {
              "fk": [
                {
                  "n": "flashcards_topic_id_fkey",
                  "map": [
                    {
                      "c": "topic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "topics"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "flashcards_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "category"
                  ],
                  "n": "idx_flashcards_category",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "topic_id"
                  ],
                  "n": "idx_flashcards_topic_id",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "front_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "back_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "flow_state": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "flow_state_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "flow_state_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "auth_code"
                  ],
                  "n": "idx_auth_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "authentication_method"
                  ],
                  "n": "idx_user_id_auth_method",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "auth_code",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge_method",
                  "id": false,
                  "nl": false,
                  "ty": "code_challenge_method"
                },
                {
                  "d": null,
                  "n": "code_challenge",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_access_token",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_refresh_token",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "authentication_method",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "auth_code_issued_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "identities": {
              "fk": [
                {
                  "n": "identities_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "identities_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "identities_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "provider_id",
                    "provider"
                  ],
                  "n": "identities_provider_id_provider_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "identities_user_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "identity_data",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "provider",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "last_sign_in_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "migrations": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "migrations_name_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "migrations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "hash",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "executed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "mock_exams": {
              "fk": [
                {
                  "n": "mock_exams_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_exams_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own mock exam",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can manage own mock exams",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('mock_exams_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "correct_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "incorrect_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "skipped_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "admin_users": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((role = ANY (ARRAY['superadmin'::text, 'editor'::text, 'moderator'::text])))",
                  "n": "admin_users_role_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "admin_users_email_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "admin_users_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Only superadmin can delete admin users",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "((role = 'superadmin'::text) AND is_active)"
                  },
                  {
                    "n": "Only superadmin can edit admin users",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "((role = 'superadmin'::text) AND is_active)"
                  },
                  {
                    "n": "Superadmin can create admin users",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users admin_users_1\n  WHERE ((admin_users_1.id = auth.uid()) AND (admin_users_1.role = 'superadmin'::text) AND admin_users_1.is_active)))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Superadmins can insert admin users",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users admin_users_1\n  WHERE ((admin_users_1.id = auth.uid()) AND (admin_users_1.role = 'superadmin'::text) AND (admin_users_1.is_active = true))))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": null
                  },
                  {
                    "n": "Users can view their own admin record",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "password_hash",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "full_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "daily_stats": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "date"
                  ],
                  "n": "daily_stats_date_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "daily_stats_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "date"
                  ],
                  "n": "idx_daily_stats_date",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "0",
                  "n": "total_signups",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_conversions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "active_users",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_sessions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "avg_session_duration",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "0",
                  "n": "total_revenue",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "mfa_factors": {
              "fk": [
                {
                  "n": "mfa_factors_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "user_id",
                    "created_at"
                  ],
                  "n": "factor_id_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "last_challenged_at"
                  ],
                  "n": "mfa_factors_last_challenged_at_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mfa_factors_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "friendly_name",
                    "user_id"
                  ],
                  "n": "mfa_factors_user_friendly_name_unique",
                  "pr": "(TRIM(BOTH FROM friendly_name) <> ''::text)",
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "mfa_factors_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "phone"
                  ],
                  "n": "unique_phone_factor_per_user",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "friendly_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "factor_type",
                  "id": false,
                  "nl": false,
                  "ty": "factor_type"
                },
                {
                  "d": null,
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "factor_status"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "secret",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "last_challenged_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "web_authn_credential",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "web_authn_aaguid",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "sso_domains": {
              "fk": [
                {
                  "n": "sso_domains_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(domain) > 0))",
                  "n": "domain not empty"
                }
              ],
              "idx": [
                {
                  "c": null,
                  "n": "sso_domains_domain_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "sso_domains_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "sso_domains_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "domain",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "app_settings": {
              "fk": [],
              "pk": [
                [
                  "key"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "key"
                  ],
                  "n": "app_settings_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Active admin can update app settings",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  },
                  {
                    "n": "Active admin can view app settings",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "value",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_results": {
              "fk": [
                {
                  "n": "mock_results_mock_exam_id_fkey",
                  "map": [
                    {
                      "c": "mock_exam_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "mock_exams"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_results_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert result for own mock exam",
                    "chk": "(mock_exam_id IN ( SELECT mock_exams.id\n   FROM mock_exams\n  WHERE (mock_exams.user_id = auth.uid())))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can view results of own mock exam",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(mock_exam_id IN ( SELECT mock_exams.id\n   FROM mock_exams\n  WHERE (mock_exams.user_id = auth.uid())))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('mock_results_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "mock_exam_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "selected_option_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "is_correct",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "time_taken_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "subscription": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "entity"
                  ],
                  "n": "ix_realtime_subscription_entity",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "pk_subscription",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "subscription_id",
                    "entity",
                    "filters"
                  ],
                  "n": "subscription_subscription_id_entity_filters_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": true,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "subscription_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "entity",
                  "id": false,
                  "nl": false,
                  "ty": "regclass"
                },
                {
                  "d": "'{}'::realtime.user_defined_filter[]",
                  "n": "filters",
                  "id": false,
                  "nl": false,
                  "ty": "_user_defined_filter"
                },
                {
                  "d": null,
                  "n": "claims",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "claims_role",
                  "id": false,
                  "nl": false,
                  "ty": "regrole"
                },
                {
                  "d": "timezone('utc'::text, now())",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                }
              ]
            },
            "chat_messages": {
              "fk": [
                {
                  "n": "chat_messages_conversation_id_fkey",
                  "map": [
                    {
                      "c": "conversation_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "chat_conversations"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((role = ANY (ARRAY['user'::text, 'assistant'::text])))",
                  "n": "chat_messages_role_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "chat_messages_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "conversation_id",
                    "created_at"
                  ],
                  "n": "idx_chat_messages_conversation",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "role",
                    "created_at"
                  ],
                  "n": "idx_chat_messages_role",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "chat_messages_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "chat_messages_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM chat_conversations\n  WHERE ((chat_conversations.id = chat_messages.conversation_id) AND (chat_conversations.user_id = auth.uid()))))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "conversation_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'{}'::jsonb",
                  "n": "metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_sessions": {
              "fk": [
                {
                  "n": "mock_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "user_profiles"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((exam_part = ANY (ARRAY['part_a'::text, 'part_b'::text])))",
                  "n": "mock_sessions_exam_part_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "exam_part"
                  ],
                  "n": "idx_mock_sessions_exam_part",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_mock_sessions_user_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_sessions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Users can insert own mock sessions",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update own mock sessions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  },
                  {
                    "n": "Users can view own mock sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "exam_part",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "correct_answers",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "score_percentage",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "time_taken_minutes",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "passed",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "oauth_clients": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(client_name) <= 1024))",
                  "n": "oauth_clients_client_name_length"
                },
                {
                  "e": "CHECK ((char_length(client_uri) <= 2048))",
                  "n": "oauth_clients_client_uri_length"
                },
                {
                  "e": "CHECK ((char_length(logo_uri) <= 2048))",
                  "n": "oauth_clients_logo_uri_length"
                }
              ],
              "idx": [
                {
                  "c": [
                    "deleted_at"
                  ],
                  "n": "oauth_clients_deleted_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_clients_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "client_secret_hash",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "registration_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_registration_type"
                },
                {
                  "d": null,
                  "n": "redirect_uris",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "grant_types",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_uri",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "logo_uri",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "deleted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "'confidential'::auth.oauth_client_type",
                  "n": "client_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_client_type"
                }
              ]
            },
            "sso_providers": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((resource_id = NULL::text) OR (char_length(resource_id) > 0)))",
                  "n": "resource_id not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "sso_providers_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": null,
                  "n": "sso_providers_resource_id_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "resource_id"
                  ],
                  "n": "sso_providers_resource_id_pattern_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "disabled",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                }
              ]
            },
            "subscriptions": {
              "fk": [
                {
                  "n": "fk_subscriptions_coupon_code",
                  "map": [
                    {
                      "c": "coupon_code",
                      "rc": "code"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "discount_coupons"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "fk_subscriptions_plan_id",
                  "map": [
                    {
                      "c": "plan_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subscription_plans"
                  },
                  "on_d": "RESTRICT",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "subscriptions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((plan_type = ANY (ARRAY['trial'::text, '1_month'::text, '3_month'::text, '6_month'::text])))",
                  "n": "subscriptions_plan_type_check"
                },
                {
                  "e": "CHECK ((payment_gateway = ANY (ARRAY['stripe'::text, 'razorpay'::text, NULL::text])))",
                  "n": "valid_payment_gateway"
                },
                {
                  "e": "CHECK ((status = ANY (ARRAY['trial'::text, 'active'::text, 'expired'::text, 'cancelled'::text])))",
                  "n": "valid_subscription_status"
                }
              ],
              "idx": [
                {
                  "c": [
                    "coupon_code"
                  ],
                  "n": "idx_subscriptions_coupon_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "plan_id"
                  ],
                  "n": "idx_subscriptions_plan_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "status"
                  ],
                  "n": "idx_subscriptions_status",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "subscriptions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Superadmins can view all subscriptions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "User can view own subscription",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "plan_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "start_date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": null,
                  "n": "end_date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "false",
                  "n": "auto_renew",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "'active'::text",
                  "n": "status",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "plan_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "payment_gateway",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "payment_method",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "amount_paid_usd",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "coupon_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "discount_amount",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "transaction_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                }
              ]
            },
            "user_profiles": {
              "fk": [
                {
                  "n": "user_profiles_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((gender = ANY (ARRAY['male'::text, 'female'::text, 'other'::text])))",
                  "n": "user_profiles_gender_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "idx_user_profiles_email",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "oauth_provider"
                  ],
                  "n": "idx_user_profiles_oauth_provider",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_profiles_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own profile",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own profile",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own profile",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own profile",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "Users can insert their own profile",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update their own profile",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  },
                  {
                    "n": "Users can view their own profile",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "full_name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone_number",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "country_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "date_of_birth",
                  "id": false,
                  "nl": true,
                  "ty": "date"
                },
                {
                  "d": null,
                  "n": "gender",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "current_country",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "nmc_attempts",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "uses_coaching",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "nursing_id_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "profile_completed",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'email'::character varying",
                  "n": "oauth_provider",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                }
              ]
            },
            "user_sessions": {
              "fk": [
                {
                  "n": "user_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_token"
                  ],
                  "n": "user_sessions_session_token_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can update own sessions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "device_info",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "session_token",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "ip_address",
                  "id": false,
                  "nl": true,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "user_agent",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "last_active_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "ai_usage_stats": {
              "fk": [
                {
                  "n": "ai_usage_stats_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "ai_usage_stats_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "date"
                  ],
                  "n": "idx_ai_usage_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "date"
                  ],
                  "n": "idx_ai_usage_user_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "date"
                  ],
                  "n": "unique_user_date",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "ai_usage_stats_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "ai_usage_stats_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "CURRENT_DATE",
                  "n": "date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "0",
                  "n": "message_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_tokens",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0.0000",
                  "n": "total_cost",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "dashboard_hero": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "dashboard_hero_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "display_order"
                  ],
                  "n": "idx_dashboard_hero_display_order",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can insert/update/delete dashboard hero",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  },
                  {
                    "n": "Any user can view dashboard hero",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('dashboard_hero_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "headline",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "subheadline",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "button_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "button_link",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                }
              ]
            },
            "learning_paths": {
              "fk": [
                {
                  "n": "learning_paths_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((path_type = ANY (ARRAY['sequential'::text, 'adaptive'::text, 'custom'::text])))",
                  "n": "learning_paths_path_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "learning_paths_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own learning path",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own learning path",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own learning path",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own learning path",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('learning_paths_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "path_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "details",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": "0",
                  "n": "current_index",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "lesson_quizzes": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "lesson_quizzes_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('lesson_quizzes_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "position",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "mfa_amr_claims": {
              "fk": [
                {
                  "n": "mfa_amr_claims_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "amr_id_pk",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_id",
                    "authentication_method"
                  ],
                  "n": "mfa_amr_claims_session_id_authentication_method_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "authentication_method",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "mfa_challenges": {
              "fk": [
                {
                  "n": "mfa_challenges_auth_factor_id_fkey",
                  "map": [
                    {
                      "c": "factor_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "mfa_factors"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "mfa_challenge_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mfa_challenges_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "factor_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "verified_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "ip_address",
                  "id": false,
                  "nl": false,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "otp_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "web_authn_session_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                }
              ]
            },
            "oauth_consents": {
              "fk": [
                {
                  "n": "oauth_consents_client_id_fkey",
                  "map": [
                    {
                      "c": "client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "oauth_consents_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((revoked_at IS NULL) OR (revoked_at >= granted_at)))",
                  "n": "oauth_consents_revoked_after_granted"
                },
                {
                  "e": "CHECK ((char_length(scopes) <= 2048))",
                  "n": "oauth_consents_scopes_length"
                },
                {
                  "e": "CHECK ((char_length(TRIM(BOTH FROM scopes)) > 0))",
                  "n": "oauth_consents_scopes_not_empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "client_id"
                  ],
                  "n": "oauth_consents_active_client_idx",
                  "pr": "(revoked_at IS NULL)",
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "client_id"
                  ],
                  "n": "oauth_consents_active_user_client_idx",
                  "pr": "(revoked_at IS NULL)",
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_consents_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "client_id"
                  ],
                  "n": "oauth_consents_user_client_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "granted_at"
                  ],
                  "n": "oauth_consents_user_order_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "client_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "scopes",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "granted_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "revoked_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "question_media": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((media_type = ANY (ARRAY['image'::text, 'audio'::text, 'video'::text, 'other'::text])))",
                  "n": "question_media_media_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "question_media_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Anyone can view question media",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('question_media_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "media_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "media_url",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "refresh_tokens": {
              "fk": [
                {
                  "n": "refresh_tokens_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "refresh_tokens_instance_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "instance_id",
                    "user_id"
                  ],
                  "n": "refresh_tokens_instance_id_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "parent"
                  ],
                  "n": "refresh_tokens_parent_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "refresh_tokens_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_id",
                    "revoked"
                  ],
                  "n": "refresh_tokens_session_id_revoked_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "token"
                  ],
                  "n": "refresh_tokens_token_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "updated_at"
                  ],
                  "n": "refresh_tokens_updated_at_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "nextval('auth.refresh_tokens_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "revoked",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "parent",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "saml_providers": {
              "fk": [
                {
                  "n": "saml_providers_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(entity_id) > 0))",
                  "n": "entity_id not empty"
                },
                {
                  "e": "CHECK (((metadata_url = NULL::text) OR (char_length(metadata_url) > 0)))",
                  "n": "metadata_url not empty"
                },
                {
                  "e": "CHECK ((char_length(metadata_xml) > 0))",
                  "n": "metadata_xml not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "entity_id"
                  ],
                  "n": "saml_providers_entity_id_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "saml_providers_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "saml_providers_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "entity_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "metadata_xml",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "metadata_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "attribute_mapping",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "name_id_format",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                }
              ]
            },
            "user_analytics": {
              "fk": [
                {
                  "n": "user_analytics_subtopic_id_fkey",
                  "map": [
                    {
                      "c": "subtopic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subtopics"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "user_analytics_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_analytics_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "topic_id",
                    "subtopic_id"
                  ],
                  "n": "user_analytics_user_id_topic_id_subtopic_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own analytics",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own analytics",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own analytics",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('user_analytics_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "subtopic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "practice_attempts",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "correct_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "incorrect_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "average_time_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "float8"
                },
                {
                  "d": "now()",
                  "n": "last_updated",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "email_templates": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "email_templates_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "template_name"
                  ],
                  "n": "email_templates_template_name_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "template_name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "subject",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "html_content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "variables",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "one_time_tokens": {
              "fk": [
                {
                  "n": "one_time_tokens_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(token_hash) > 0))",
                  "n": "one_time_tokens_token_hash_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "one_time_tokens_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "relates_to"
                  ],
                  "n": "one_time_tokens_relates_to_hash_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "token_hash"
                  ],
                  "n": "one_time_tokens_token_hash_hash_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "token_type"
                  ],
                  "n": "one_time_tokens_user_id_token_type_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "token_type",
                  "id": false,
                  "nl": false,
                  "ty": "one_time_token_type"
                },
                {
                  "d": null,
                  "n": "token_hash",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "relates_to",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                }
              ]
            },
            "discount_coupons": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((discount_type = ANY (ARRAY['percentage'::text, 'fixed_amount'::text])))",
                  "n": "valid_discount_type"
                },
                {
                  "e": "CHECK ((((discount_type = 'percentage'::text) AND ((discount_value >= (1)::numeric) AND (discount_value <= (100)::numeric))) OR (discount_type = 'fixed_amount'::text)))",
                  "n": "valid_percentage"
                }
              ],
              "idx": [
                {
                  "c": [
                    "code"
                  ],
                  "n": "discount_coupons_code_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "discount_coupons_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "code"
                  ],
                  "n": "idx_discount_coupons_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "is_active"
                  ],
                  "n": "idx_discount_coupons_is_active",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "valid_from",
                    "valid_until"
                  ],
                  "n": "idx_discount_coupons_valid_dates",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "code",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "discount_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "discount_value",
                  "id": false,
                  "nl": false,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "applicable_plans",
                  "id": false,
                  "nl": true,
                  "ty": "_uuid"
                },
                {
                  "d": null,
                  "n": "usage_limit",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "usage_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "valid_from",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "valid_until",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_exam_config": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_exam_config_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can manage mock exam config",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Students can view mock exam config",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "15",
                  "n": "part_a_question_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "30",
                  "n": "part_a_duration_minutes",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "120",
                  "n": "part_b_question_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "150",
                  "n": "part_b_duration_minutes",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "allow_calculator",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "practice_results": {
              "fk": [
                {
                  "n": "practice_results_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "practice_sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "practice_results_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert result for own practice session",
                    "chk": "(session_id IN ( SELECT practice_sessions.id\n   FROM practice_sessions\n  WHERE (practice_sessions.user_id = auth.uid())))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can view results of own practice session",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(session_id IN ( SELECT practice_sessions.id\n   FROM practice_sessions\n  WHERE (practice_sessions.user_id = auth.uid())))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('practice_results_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "selected_option_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "is_correct",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "time_taken_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "question_options": {
              "fk": [
                {
                  "n": "question_options_question_id_fkey",
                  "map": [
                    {
                      "c": "question_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "questions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "question_id"
                  ],
                  "n": "idx_question_options_question_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "question_options_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "option_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "is_correct",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "audit_log_entries": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "audit_log_entries_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "audit_logs_instance_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "payload",
                  "id": false,
                  "nl": true,
                  "ty": "json"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "ip_address",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                }
              ]
            },
            "buckets_analytics": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "buckets_analytics_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'ANALYTICS'::storage.buckettype",
                  "n": "type",
                  "id": false,
                  "nl": false,
                  "ty": "buckettype"
                },
                {
                  "d": "'ICEBERG'::text",
                  "n": "format",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "content_approvals": {
              "fk": [
                {
                  "n": "content_approvals_reviewed_by_fkey",
                  "map": [
                    {
                      "c": "reviewed_by",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "admin_users"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "content_approvals_submitted_by_fkey",
                  "map": [
                    {
                      "c": "submitted_by",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "admin_users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((resource_type = ANY (ARRAY['module'::text, 'topic'::text, 'lesson'::text, 'question'::text, 'flashcard'::text])))",
                  "n": "content_approvals_resource_type_check"
                },
                {
                  "e": "CHECK ((status = ANY (ARRAY['pending'::text, 'approved'::text, 'rejected'::text])))",
                  "n": "content_approvals_status_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "content_approvals_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "idx_content_approvals_created_at",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "resource_type"
                  ],
                  "n": "idx_content_approvals_resource_type",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "reviewed_by"
                  ],
                  "n": "idx_content_approvals_reviewed_by",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "status"
                  ],
                  "n": "idx_content_approvals_status",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "submitted_by"
                  ],
                  "n": "idx_content_approvals_submitted_by",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Editor can create",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'superadmin'::text])) AND (admin_users.is_active = true))))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": null
                  },
                  {
                    "n": "Editor can read all",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'moderator'::text, 'superadmin'::text])) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Editor can update own pending",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "((submitted_by = auth.uid()) AND (status = 'pending'::text) AND (EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'superadmin'::text])) AND (admin_users.is_active = true)))))"
                  },
                  {
                    "n": "Superadmin full access",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "resource_title",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'pending'::text",
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "submitted_by",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "reviewed_by",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "review_comments",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "reviewed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "practice_sessions": {
              "fk": [
                {
                  "n": "practice_sessions_module_id_fkey",
                  "map": [
                    {
                      "c": "module_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "modules"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "practice_sessions_subtopic_id_fkey",
                  "map": [
                    {
                      "c": "subtopic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subtopics"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "practice_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "subdivision"
                  ],
                  "n": "idx_practice_sessions_subdivision",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "practice_sessions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own practice session",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can manage own practice sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can update own practice session",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('practice_sessions_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "subtopic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "correct_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "incorrect_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "skipped_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "subdivision",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "module_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "saml_relay_states": {
              "fk": [
                {
                  "n": "saml_relay_states_flow_state_id_fkey",
                  "map": [
                    {
                      "c": "flow_state_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "flow_state"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "saml_relay_states_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(request_id) > 0))",
                  "n": "request_id not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "saml_relay_states_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "for_email"
                  ],
                  "n": "saml_relay_states_for_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "saml_relay_states_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "saml_relay_states_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "request_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "for_email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "redirect_to",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "flow_state_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "schema_migrations": {
              "fk": [],
              "pk": [
                [
                  "version"
                ],
                [
                  "version"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "version"
                  ],
                  "n": "schema_migrations_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "version"
                  ],
                  "n": "schema_migrations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "inserted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "ai_recommendations": {
              "fk": [
                {
                  "n": "ai_recommendations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((recommendation_type = ANY (ARRAY['lesson'::text, 'topic'::text, 'subtopic'::text, 'quiz'::text])))",
                  "n": "ai_recommendations_recommendation_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "ai_recommendations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own AI recommendations",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own AI recommendations",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own AI recommendations",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own AI recommendations",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('ai_recommendations_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "recommendation_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "reference_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "score",
                  "id": false,
                  "nl": true,
                  "ty": "float8"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "expires_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "analytics_sessions": {
              "fk": [
                {
                  "n": "analytics_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "analytics_sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_start"
                  ],
                  "n": "idx_analytics_sessions_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "session_start"
                  ],
                  "n": "idx_analytics_sessions_user_date",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "session_start",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "session_end",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "duration_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "chat_conversations": {
              "fk": [
                {
                  "n": "chat_conversations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "chat_conversations_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "is_active"
                  ],
                  "n": "idx_chat_conversations_active",
                  "pr": "(is_active = true)",
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_chat_conversations_user",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "chat_conversations_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "chat_conversations_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "'New Conversation'::text",
                  "n": "title",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'{}'::jsonb",
                  "n": "context_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "subscription_plans": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "is_active"
                  ],
                  "n": "idx_subscription_plans_is_active",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "subscription_plans_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "price_usd",
                  "id": false,
                  "nl": false,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "duration_days",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "features",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "lesson_quiz_results": {
              "fk": [
                {
                  "n": "lesson_quiz_results_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_lesson_quiz_results_lesson",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_lesson_quiz_results_user",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "lesson_quiz_results_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "lesson_id"
                  ],
                  "n": "lesson_quiz_results_user_id_lesson_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can view all quiz results",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Users can insert own quiz results",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can view own quiz results",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "score_percentage",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "passed",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "learning_completions": {
              "fk": [
                {
                  "n": "learning_completions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "is_completed"
                  ],
                  "n": "idx_learning_completions_completed",
                  "pr": "(is_completed = true)",
                  "uq": false
                },
                {
                  "c": [
                    "completed_at"
                  ],
                  "n": "idx_learning_completions_completed_at",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_learning_completions_lesson_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_learning_completions_user_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "learning_completions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "lesson_id"
                  ],
                  "n": "learning_completions_user_id_lesson_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Editors can view learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'editor'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Moderators can view learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'moderator'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Superadmins can view all learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Users can insert their own completions",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update their own completions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "Users can view their own completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "false",
                  "n": "is_completed",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "time_spent_minutes",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "oauth_authorizations": {
              "fk": [
                {
                  "n": "oauth_authorizations_client_id_fkey",
                  "map": [
                    {
                      "c": "client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "oauth_authorizations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(authorization_code) <= 255))",
                  "n": "oauth_authorizations_authorization_code_length"
                },
                {
                  "e": "CHECK ((char_length(code_challenge) <= 128))",
                  "n": "oauth_authorizations_code_challenge_length"
                },
                {
                  "e": "CHECK ((expires_at > created_at))",
                  "n": "oauth_authorizations_expires_at_future"
                },
                {
                  "e": "CHECK ((char_length(redirect_uri) <= 2048))",
                  "n": "oauth_authorizations_redirect_uri_length"
                },
                {
                  "e": "CHECK ((char_length(resource) <= 2048))",
                  "n": "oauth_authorizations_resource_length"
                },
                {
                  "e": "CHECK ((char_length(scope) <= 4096))",
                  "n": "oauth_authorizations_scope_length"
                },
                {
                  "e": "CHECK ((char_length(state) <= 4096))",
                  "n": "oauth_authorizations_state_length"
                }
              ],
              "idx": [
                {
                  "c": [
                    "expires_at"
                  ],
                  "n": "oauth_auth_pending_exp_idx",
                  "pr": "(status = 'pending'::auth.oauth_authorization_status)",
                  "uq": false
                },
                {
                  "c": [
                    "authorization_code"
                  ],
                  "n": "oauth_authorizations_authorization_code_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "authorization_id"
                  ],
                  "n": "oauth_authorizations_authorization_id_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_authorizations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "authorization_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "redirect_uri",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "scope",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "state",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "resource",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge_method",
                  "id": false,
                  "nl": true,
                  "ty": "code_challenge_method"
                },
                {
                  "d": "'code'::auth.oauth_response_type",
                  "n": "response_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_response_type"
                },
                {
                  "d": "'pending'::auth.oauth_authorization_status",
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_authorization_status"
                },
                {
                  "d": null,
                  "n": "authorization_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "(now() + '00:03:00'::interval)",
                  "n": "expires_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "approved_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "s3_multipart_uploads": {
              "fk": [
                {
                  "n": "s3_multipart_uploads_bucket_id_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "key",
                    "created_at"
                  ],
                  "n": "idx_multipart_uploads_list",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "s3_multipart_uploads_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "in_progress_size",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "upload_signature",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "user_metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                }
              ]
            },
            "s3_multipart_uploads_parts": {
              "fk": [
                {
                  "n": "s3_multipart_uploads_parts_bucket_id_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "s3_multipart_uploads_parts_upload_id_fkey",
                  "map": [
                    {
                      "c": "upload_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "s3_multipart_uploads"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "s3_multipart_uploads_parts_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "upload_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "size",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "part_number",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "etag",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            }
          }
        },
        "pgbouncer": {
          "enums": {
            "action": [
              "INSERT",
              "UPDATE",
              "DELETE",
              "TRUNCATE",
              "ERROR"
            ],
            "aal_level": [
              "aal1",
              "aal2",
              "aal3"
            ],
            "buckettype": [
              "STANDARD",
              "ANALYTICS"
            ],
            "equality_op": [
              "eq",
              "neq",
              "lt",
              "lte",
              "gt",
              "gte",
              "in"
            ],
            "factor_type": [
              "totp",
              "webauthn",
              "phone"
            ],
            "factor_status": [
              "unverified",
              "verified"
            ],
            "oauth_client_type": [
              "public",
              "confidential"
            ],
            "oauth_response_type": [
              "code"
            ],
            "one_time_token_type": [
              "confirmation_token",
              "reauthentication_token",
              "recovery_token",
              "email_change_token_new",
              "email_change_token_current",
              "phone_change_token"
            ],
            "code_challenge_method": [
              "s256",
              "plain"
            ],
            "oauth_registration_type": [
              "dynamic",
              "manual"
            ],
            "oauth_authorization_status": [
              "pending",
              "approved",
              "denied",
              "expired"
            ]
          },
          "tables": {
            "users": {
              "fk": [],
              "pk": [
                [
                  "id"
                ],
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((email_change_confirm_status >= 0) AND (email_change_confirm_status <= 2)))",
                  "n": "users_email_change_confirm_status_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "confirmation_token"
                  ],
                  "n": "confirmation_token_idx",
                  "pr": "((confirmation_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email_change_token_current"
                  ],
                  "n": "email_change_token_current_idx",
                  "pr": "((email_change_token_current)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email_change_token_new"
                  ],
                  "n": "email_change_token_new_idx",
                  "pr": "((email_change_token_new)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "reauthentication_token"
                  ],
                  "n": "reauthentication_token_idx",
                  "pr": "((reauthentication_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "recovery_token"
                  ],
                  "n": "recovery_token_idx",
                  "pr": "((recovery_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email"
                  ],
                  "n": "users_email_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "email"
                  ],
                  "n": "users_email_partial_key",
                  "pr": "(is_sso_user = false)",
                  "uq": true
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "users_instance_id_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "users_instance_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "is_anonymous"
                  ],
                  "n": "users_is_anonymous_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "phone"
                  ],
                  "n": "users_phone_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "users_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "users_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Superadmins can view all users",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "User can edit own account",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(id = auth.uid())"
                  },
                  {
                    "n": "User can view own account",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(id = auth.uid())"
                  },
                  {
                    "n": "Users can update their own user record",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = id)"
                  },
                  {
                    "n": "Users can view their own user record",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "password_hash",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "aud",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "'email'::text",
                  "n": "auth_provider",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "is_email_verified",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "encrypted_password",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email_confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "invited_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "confirmation_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "confirmation_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "recovery_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "recovery_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email_change_token_new",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "email_change",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "email_change_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "last_sign_in_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "raw_app_meta_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "raw_user_meta_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "is_super_admin",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "NULL::character varying",
                  "n": "phone",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone_confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "phone_change",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "''::character varying",
                  "n": "phone_change_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "phone_change_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "email_change_token_current",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "0",
                  "n": "email_change_confirm_status",
                  "id": false,
                  "nl": true,
                  "ty": "int2"
                },
                {
                  "d": null,
                  "n": "banned_until",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "reauthentication_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "reauthentication_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "is_sso_user",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "deleted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "is_anonymous",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                }
              ]
            },
            "topics": {
              "fk": [
                {
                  "n": "topics_module_id_fkey",
                  "map": [
                    {
                      "c": "module_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "modules"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "module_id"
                  ],
                  "n": "idx_topics_module_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "topics_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "module_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "buckets": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "bname",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "buckets_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "public",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "false",
                  "n": "avif_autodetection",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "file_size_limit",
                  "id": false,
                  "nl": true,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "allowed_mime_types",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'STANDARD'::storage.buckettype",
                  "n": "type",
                  "id": false,
                  "nl": false,
                  "ty": "buckettype"
                }
              ]
            },
            "lessons": {
              "fk": [
                {
                  "n": "lessons_topic_id_fkey",
                  "map": [
                    {
                      "c": "topic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "topics"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "category"
                  ],
                  "n": "idx_lessons_category",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "topic_id"
                  ],
                  "n": "idx_lessons_topic_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "lessons_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "video_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "audio_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'text'::character varying",
                  "n": "lesson_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "80",
                  "n": "passing_score_percentage",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "0",
                  "n": "duration",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "modules": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "modules_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "thumbnail_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "objects": {
              "fk": [
                {
                  "n": "objects_bucketId_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "name"
                  ],
                  "n": "bucketid_objname",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "name",
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_name_bucket_level_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "bucket_id",
                    "name"
                  ],
                  "n": "idx_objects_bucket_id_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_objects_lower_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "name"
                  ],
                  "n": "name_prefix_search",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level",
                    "name"
                  ],
                  "n": "objects_bucket_id_level_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "objects_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "last_accessed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "path_tokens",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "user_metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "level",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                }
              ]
            },
            "secrets": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "secrets_name_idx",
                  "pr": "(name IS NOT NULL)",
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "secrets_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "''::text",
                  "n": "description",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "secret",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "vault._crypto_aead_det_noncegen()",
                  "n": "nonce",
                  "id": false,
                  "nl": true,
                  "ty": "bytea"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "prefixes": {
              "fk": [
                {
                  "n": "prefixes_bucketId_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "bucket_id",
                  "level",
                  "name"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_prefixes_lower_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level",
                    "name"
                  ],
                  "n": "prefixes_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "level",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "sessions": {
              "fk": [
                {
                  "n": "sessions_oauth_client_id_fkey",
                  "map": [
                    {
                      "c": "oauth_client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "not_after"
                  ],
                  "n": "sessions_not_after_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "oauth_client_id"
                  ],
                  "n": "sessions_oauth_client_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "sessions_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "created_at"
                  ],
                  "n": "user_id_created_at_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "factor_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "aal",
                  "id": false,
                  "nl": true,
                  "ty": "aal_level"
                },
                {
                  "d": null,
                  "n": "not_after",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "refreshed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "user_agent",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "ip",
                  "id": false,
                  "nl": true,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "tag",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "oauth_client_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "instances": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "instances_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "uuid",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "raw_base_config",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "questions": {
              "fk": [
                {
                  "n": "questions_lesson_id_fkey",
                  "map": [
                    {
                      "c": "lesson_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "lessons"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "module_type",
                    "category",
                    "subdivision"
                  ],
                  "n": "idx_questions_filters",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_questions_lesson_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "questions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "question_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'multiple_choice'::character varying",
                  "n": "question_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "difficulty",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "1",
                  "n": "points",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "explanation",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "module_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "subdivision",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "exam_part",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "subtopics": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "subtopics_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "topic_id",
                    "name"
                  ],
                  "n": "subtopics_topic_id_name_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Anyone can view subtopics",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('subtopics_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "position",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "flashcards": {
              "fk": [
                {
                  "n": "flashcards_topic_id_fkey",
                  "map": [
                    {
                      "c": "topic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "topics"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "flashcards_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "category"
                  ],
                  "n": "idx_flashcards_category",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "topic_id"
                  ],
                  "n": "idx_flashcards_topic_id",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "front_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "back_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "flow_state": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "flow_state_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "flow_state_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "auth_code"
                  ],
                  "n": "idx_auth_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "authentication_method"
                  ],
                  "n": "idx_user_id_auth_method",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "auth_code",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge_method",
                  "id": false,
                  "nl": false,
                  "ty": "code_challenge_method"
                },
                {
                  "d": null,
                  "n": "code_challenge",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_access_token",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_refresh_token",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "authentication_method",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "auth_code_issued_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "identities": {
              "fk": [
                {
                  "n": "identities_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "identities_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "identities_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "provider_id",
                    "provider"
                  ],
                  "n": "identities_provider_id_provider_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "identities_user_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "identity_data",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "provider",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "last_sign_in_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "migrations": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "migrations_name_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "migrations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "hash",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "executed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "mock_exams": {
              "fk": [
                {
                  "n": "mock_exams_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_exams_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own mock exam",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can manage own mock exams",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('mock_exams_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "correct_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "incorrect_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "skipped_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "admin_users": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((role = ANY (ARRAY['superadmin'::text, 'editor'::text, 'moderator'::text])))",
                  "n": "admin_users_role_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "admin_users_email_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "admin_users_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Only superadmin can delete admin users",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "((role = 'superadmin'::text) AND is_active)"
                  },
                  {
                    "n": "Only superadmin can edit admin users",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "((role = 'superadmin'::text) AND is_active)"
                  },
                  {
                    "n": "Superadmin can create admin users",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users admin_users_1\n  WHERE ((admin_users_1.id = auth.uid()) AND (admin_users_1.role = 'superadmin'::text) AND admin_users_1.is_active)))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Superadmins can insert admin users",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users admin_users_1\n  WHERE ((admin_users_1.id = auth.uid()) AND (admin_users_1.role = 'superadmin'::text) AND (admin_users_1.is_active = true))))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": null
                  },
                  {
                    "n": "Users can view their own admin record",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "password_hash",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "full_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "daily_stats": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "date"
                  ],
                  "n": "daily_stats_date_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "daily_stats_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "date"
                  ],
                  "n": "idx_daily_stats_date",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "0",
                  "n": "total_signups",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_conversions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "active_users",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_sessions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "avg_session_duration",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "0",
                  "n": "total_revenue",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "mfa_factors": {
              "fk": [
                {
                  "n": "mfa_factors_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "user_id",
                    "created_at"
                  ],
                  "n": "factor_id_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "last_challenged_at"
                  ],
                  "n": "mfa_factors_last_challenged_at_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mfa_factors_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "friendly_name",
                    "user_id"
                  ],
                  "n": "mfa_factors_user_friendly_name_unique",
                  "pr": "(TRIM(BOTH FROM friendly_name) <> ''::text)",
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "mfa_factors_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "phone"
                  ],
                  "n": "unique_phone_factor_per_user",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "friendly_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "factor_type",
                  "id": false,
                  "nl": false,
                  "ty": "factor_type"
                },
                {
                  "d": null,
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "factor_status"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "secret",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "last_challenged_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "web_authn_credential",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "web_authn_aaguid",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "sso_domains": {
              "fk": [
                {
                  "n": "sso_domains_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(domain) > 0))",
                  "n": "domain not empty"
                }
              ],
              "idx": [
                {
                  "c": null,
                  "n": "sso_domains_domain_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "sso_domains_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "sso_domains_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "domain",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "app_settings": {
              "fk": [],
              "pk": [
                [
                  "key"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "key"
                  ],
                  "n": "app_settings_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Active admin can update app settings",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  },
                  {
                    "n": "Active admin can view app settings",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "value",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_results": {
              "fk": [
                {
                  "n": "mock_results_mock_exam_id_fkey",
                  "map": [
                    {
                      "c": "mock_exam_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "mock_exams"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_results_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert result for own mock exam",
                    "chk": "(mock_exam_id IN ( SELECT mock_exams.id\n   FROM mock_exams\n  WHERE (mock_exams.user_id = auth.uid())))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can view results of own mock exam",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(mock_exam_id IN ( SELECT mock_exams.id\n   FROM mock_exams\n  WHERE (mock_exams.user_id = auth.uid())))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('mock_results_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "mock_exam_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "selected_option_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "is_correct",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "time_taken_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "subscription": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "entity"
                  ],
                  "n": "ix_realtime_subscription_entity",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "pk_subscription",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "subscription_id",
                    "entity",
                    "filters"
                  ],
                  "n": "subscription_subscription_id_entity_filters_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": true,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "subscription_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "entity",
                  "id": false,
                  "nl": false,
                  "ty": "regclass"
                },
                {
                  "d": "'{}'::realtime.user_defined_filter[]",
                  "n": "filters",
                  "id": false,
                  "nl": false,
                  "ty": "_user_defined_filter"
                },
                {
                  "d": null,
                  "n": "claims",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "claims_role",
                  "id": false,
                  "nl": false,
                  "ty": "regrole"
                },
                {
                  "d": "timezone('utc'::text, now())",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                }
              ]
            },
            "chat_messages": {
              "fk": [
                {
                  "n": "chat_messages_conversation_id_fkey",
                  "map": [
                    {
                      "c": "conversation_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "chat_conversations"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((role = ANY (ARRAY['user'::text, 'assistant'::text])))",
                  "n": "chat_messages_role_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "chat_messages_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "conversation_id",
                    "created_at"
                  ],
                  "n": "idx_chat_messages_conversation",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "role",
                    "created_at"
                  ],
                  "n": "idx_chat_messages_role",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "chat_messages_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "chat_messages_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM chat_conversations\n  WHERE ((chat_conversations.id = chat_messages.conversation_id) AND (chat_conversations.user_id = auth.uid()))))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "conversation_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'{}'::jsonb",
                  "n": "metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_sessions": {
              "fk": [
                {
                  "n": "mock_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "user_profiles"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((exam_part = ANY (ARRAY['part_a'::text, 'part_b'::text])))",
                  "n": "mock_sessions_exam_part_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "exam_part"
                  ],
                  "n": "idx_mock_sessions_exam_part",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_mock_sessions_user_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_sessions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Users can insert own mock sessions",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update own mock sessions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  },
                  {
                    "n": "Users can view own mock sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "exam_part",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "correct_answers",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "score_percentage",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "time_taken_minutes",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "passed",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "oauth_clients": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(client_name) <= 1024))",
                  "n": "oauth_clients_client_name_length"
                },
                {
                  "e": "CHECK ((char_length(client_uri) <= 2048))",
                  "n": "oauth_clients_client_uri_length"
                },
                {
                  "e": "CHECK ((char_length(logo_uri) <= 2048))",
                  "n": "oauth_clients_logo_uri_length"
                }
              ],
              "idx": [
                {
                  "c": [
                    "deleted_at"
                  ],
                  "n": "oauth_clients_deleted_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_clients_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "client_secret_hash",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "registration_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_registration_type"
                },
                {
                  "d": null,
                  "n": "redirect_uris",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "grant_types",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_uri",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "logo_uri",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "deleted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "'confidential'::auth.oauth_client_type",
                  "n": "client_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_client_type"
                }
              ]
            },
            "sso_providers": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((resource_id = NULL::text) OR (char_length(resource_id) > 0)))",
                  "n": "resource_id not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "sso_providers_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": null,
                  "n": "sso_providers_resource_id_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "resource_id"
                  ],
                  "n": "sso_providers_resource_id_pattern_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "disabled",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                }
              ]
            },
            "subscriptions": {
              "fk": [
                {
                  "n": "fk_subscriptions_coupon_code",
                  "map": [
                    {
                      "c": "coupon_code",
                      "rc": "code"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "discount_coupons"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "fk_subscriptions_plan_id",
                  "map": [
                    {
                      "c": "plan_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subscription_plans"
                  },
                  "on_d": "RESTRICT",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "subscriptions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((plan_type = ANY (ARRAY['trial'::text, '1_month'::text, '3_month'::text, '6_month'::text])))",
                  "n": "subscriptions_plan_type_check"
                },
                {
                  "e": "CHECK ((payment_gateway = ANY (ARRAY['stripe'::text, 'razorpay'::text, NULL::text])))",
                  "n": "valid_payment_gateway"
                },
                {
                  "e": "CHECK ((status = ANY (ARRAY['trial'::text, 'active'::text, 'expired'::text, 'cancelled'::text])))",
                  "n": "valid_subscription_status"
                }
              ],
              "idx": [
                {
                  "c": [
                    "coupon_code"
                  ],
                  "n": "idx_subscriptions_coupon_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "plan_id"
                  ],
                  "n": "idx_subscriptions_plan_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "status"
                  ],
                  "n": "idx_subscriptions_status",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "subscriptions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Superadmins can view all subscriptions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "User can view own subscription",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "plan_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "start_date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": null,
                  "n": "end_date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "false",
                  "n": "auto_renew",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "'active'::text",
                  "n": "status",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "plan_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "payment_gateway",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "payment_method",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "amount_paid_usd",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "coupon_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "discount_amount",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "transaction_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                }
              ]
            },
            "user_profiles": {
              "fk": [
                {
                  "n": "user_profiles_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((gender = ANY (ARRAY['male'::text, 'female'::text, 'other'::text])))",
                  "n": "user_profiles_gender_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "idx_user_profiles_email",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "oauth_provider"
                  ],
                  "n": "idx_user_profiles_oauth_provider",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_profiles_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own profile",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own profile",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own profile",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own profile",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "Users can insert their own profile",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update their own profile",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  },
                  {
                    "n": "Users can view their own profile",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "full_name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone_number",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "country_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "date_of_birth",
                  "id": false,
                  "nl": true,
                  "ty": "date"
                },
                {
                  "d": null,
                  "n": "gender",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "current_country",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "nmc_attempts",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "uses_coaching",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "nursing_id_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "profile_completed",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'email'::character varying",
                  "n": "oauth_provider",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                }
              ]
            },
            "user_sessions": {
              "fk": [
                {
                  "n": "user_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_token"
                  ],
                  "n": "user_sessions_session_token_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can update own sessions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "device_info",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "session_token",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "ip_address",
                  "id": false,
                  "nl": true,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "user_agent",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "last_active_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "ai_usage_stats": {
              "fk": [
                {
                  "n": "ai_usage_stats_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "ai_usage_stats_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "date"
                  ],
                  "n": "idx_ai_usage_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "date"
                  ],
                  "n": "idx_ai_usage_user_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "date"
                  ],
                  "n": "unique_user_date",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "ai_usage_stats_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "ai_usage_stats_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "CURRENT_DATE",
                  "n": "date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "0",
                  "n": "message_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_tokens",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0.0000",
                  "n": "total_cost",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "dashboard_hero": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "dashboard_hero_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "display_order"
                  ],
                  "n": "idx_dashboard_hero_display_order",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can insert/update/delete dashboard hero",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  },
                  {
                    "n": "Any user can view dashboard hero",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('dashboard_hero_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "headline",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "subheadline",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "button_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "button_link",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                }
              ]
            },
            "learning_paths": {
              "fk": [
                {
                  "n": "learning_paths_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((path_type = ANY (ARRAY['sequential'::text, 'adaptive'::text, 'custom'::text])))",
                  "n": "learning_paths_path_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "learning_paths_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own learning path",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own learning path",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own learning path",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own learning path",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('learning_paths_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "path_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "details",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": "0",
                  "n": "current_index",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "lesson_quizzes": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "lesson_quizzes_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('lesson_quizzes_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "position",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "mfa_amr_claims": {
              "fk": [
                {
                  "n": "mfa_amr_claims_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "amr_id_pk",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_id",
                    "authentication_method"
                  ],
                  "n": "mfa_amr_claims_session_id_authentication_method_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "authentication_method",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "mfa_challenges": {
              "fk": [
                {
                  "n": "mfa_challenges_auth_factor_id_fkey",
                  "map": [
                    {
                      "c": "factor_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "mfa_factors"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "mfa_challenge_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mfa_challenges_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "factor_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "verified_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "ip_address",
                  "id": false,
                  "nl": false,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "otp_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "web_authn_session_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                }
              ]
            },
            "oauth_consents": {
              "fk": [
                {
                  "n": "oauth_consents_client_id_fkey",
                  "map": [
                    {
                      "c": "client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "oauth_consents_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((revoked_at IS NULL) OR (revoked_at >= granted_at)))",
                  "n": "oauth_consents_revoked_after_granted"
                },
                {
                  "e": "CHECK ((char_length(scopes) <= 2048))",
                  "n": "oauth_consents_scopes_length"
                },
                {
                  "e": "CHECK ((char_length(TRIM(BOTH FROM scopes)) > 0))",
                  "n": "oauth_consents_scopes_not_empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "client_id"
                  ],
                  "n": "oauth_consents_active_client_idx",
                  "pr": "(revoked_at IS NULL)",
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "client_id"
                  ],
                  "n": "oauth_consents_active_user_client_idx",
                  "pr": "(revoked_at IS NULL)",
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_consents_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "client_id"
                  ],
                  "n": "oauth_consents_user_client_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "granted_at"
                  ],
                  "n": "oauth_consents_user_order_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "client_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "scopes",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "granted_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "revoked_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "question_media": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((media_type = ANY (ARRAY['image'::text, 'audio'::text, 'video'::text, 'other'::text])))",
                  "n": "question_media_media_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "question_media_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Anyone can view question media",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('question_media_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "media_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "media_url",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "refresh_tokens": {
              "fk": [
                {
                  "n": "refresh_tokens_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "refresh_tokens_instance_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "instance_id",
                    "user_id"
                  ],
                  "n": "refresh_tokens_instance_id_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "parent"
                  ],
                  "n": "refresh_tokens_parent_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "refresh_tokens_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_id",
                    "revoked"
                  ],
                  "n": "refresh_tokens_session_id_revoked_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "token"
                  ],
                  "n": "refresh_tokens_token_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "updated_at"
                  ],
                  "n": "refresh_tokens_updated_at_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "nextval('auth.refresh_tokens_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "revoked",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "parent",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "saml_providers": {
              "fk": [
                {
                  "n": "saml_providers_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(entity_id) > 0))",
                  "n": "entity_id not empty"
                },
                {
                  "e": "CHECK (((metadata_url = NULL::text) OR (char_length(metadata_url) > 0)))",
                  "n": "metadata_url not empty"
                },
                {
                  "e": "CHECK ((char_length(metadata_xml) > 0))",
                  "n": "metadata_xml not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "entity_id"
                  ],
                  "n": "saml_providers_entity_id_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "saml_providers_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "saml_providers_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "entity_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "metadata_xml",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "metadata_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "attribute_mapping",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "name_id_format",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                }
              ]
            },
            "user_analytics": {
              "fk": [
                {
                  "n": "user_analytics_subtopic_id_fkey",
                  "map": [
                    {
                      "c": "subtopic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subtopics"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "user_analytics_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_analytics_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "topic_id",
                    "subtopic_id"
                  ],
                  "n": "user_analytics_user_id_topic_id_subtopic_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own analytics",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own analytics",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own analytics",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('user_analytics_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "subtopic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "practice_attempts",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "correct_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "incorrect_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "average_time_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "float8"
                },
                {
                  "d": "now()",
                  "n": "last_updated",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "email_templates": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "email_templates_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "template_name"
                  ],
                  "n": "email_templates_template_name_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "template_name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "subject",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "html_content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "variables",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "one_time_tokens": {
              "fk": [
                {
                  "n": "one_time_tokens_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(token_hash) > 0))",
                  "n": "one_time_tokens_token_hash_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "one_time_tokens_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "relates_to"
                  ],
                  "n": "one_time_tokens_relates_to_hash_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "token_hash"
                  ],
                  "n": "one_time_tokens_token_hash_hash_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "token_type"
                  ],
                  "n": "one_time_tokens_user_id_token_type_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "token_type",
                  "id": false,
                  "nl": false,
                  "ty": "one_time_token_type"
                },
                {
                  "d": null,
                  "n": "token_hash",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "relates_to",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                }
              ]
            },
            "discount_coupons": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((discount_type = ANY (ARRAY['percentage'::text, 'fixed_amount'::text])))",
                  "n": "valid_discount_type"
                },
                {
                  "e": "CHECK ((((discount_type = 'percentage'::text) AND ((discount_value >= (1)::numeric) AND (discount_value <= (100)::numeric))) OR (discount_type = 'fixed_amount'::text)))",
                  "n": "valid_percentage"
                }
              ],
              "idx": [
                {
                  "c": [
                    "code"
                  ],
                  "n": "discount_coupons_code_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "discount_coupons_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "code"
                  ],
                  "n": "idx_discount_coupons_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "is_active"
                  ],
                  "n": "idx_discount_coupons_is_active",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "valid_from",
                    "valid_until"
                  ],
                  "n": "idx_discount_coupons_valid_dates",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "code",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "discount_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "discount_value",
                  "id": false,
                  "nl": false,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "applicable_plans",
                  "id": false,
                  "nl": true,
                  "ty": "_uuid"
                },
                {
                  "d": null,
                  "n": "usage_limit",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "usage_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "valid_from",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "valid_until",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_exam_config": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_exam_config_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can manage mock exam config",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Students can view mock exam config",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "15",
                  "n": "part_a_question_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "30",
                  "n": "part_a_duration_minutes",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "120",
                  "n": "part_b_question_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "150",
                  "n": "part_b_duration_minutes",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "allow_calculator",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "practice_results": {
              "fk": [
                {
                  "n": "practice_results_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "practice_sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "practice_results_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert result for own practice session",
                    "chk": "(session_id IN ( SELECT practice_sessions.id\n   FROM practice_sessions\n  WHERE (practice_sessions.user_id = auth.uid())))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can view results of own practice session",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(session_id IN ( SELECT practice_sessions.id\n   FROM practice_sessions\n  WHERE (practice_sessions.user_id = auth.uid())))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('practice_results_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "selected_option_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "is_correct",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "time_taken_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "question_options": {
              "fk": [
                {
                  "n": "question_options_question_id_fkey",
                  "map": [
                    {
                      "c": "question_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "questions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "question_id"
                  ],
                  "n": "idx_question_options_question_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "question_options_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "option_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "is_correct",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "audit_log_entries": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "audit_log_entries_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "audit_logs_instance_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "payload",
                  "id": false,
                  "nl": true,
                  "ty": "json"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "ip_address",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                }
              ]
            },
            "buckets_analytics": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "buckets_analytics_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'ANALYTICS'::storage.buckettype",
                  "n": "type",
                  "id": false,
                  "nl": false,
                  "ty": "buckettype"
                },
                {
                  "d": "'ICEBERG'::text",
                  "n": "format",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "content_approvals": {
              "fk": [
                {
                  "n": "content_approvals_reviewed_by_fkey",
                  "map": [
                    {
                      "c": "reviewed_by",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "admin_users"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "content_approvals_submitted_by_fkey",
                  "map": [
                    {
                      "c": "submitted_by",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "admin_users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((resource_type = ANY (ARRAY['module'::text, 'topic'::text, 'lesson'::text, 'question'::text, 'flashcard'::text])))",
                  "n": "content_approvals_resource_type_check"
                },
                {
                  "e": "CHECK ((status = ANY (ARRAY['pending'::text, 'approved'::text, 'rejected'::text])))",
                  "n": "content_approvals_status_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "content_approvals_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "idx_content_approvals_created_at",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "resource_type"
                  ],
                  "n": "idx_content_approvals_resource_type",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "reviewed_by"
                  ],
                  "n": "idx_content_approvals_reviewed_by",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "status"
                  ],
                  "n": "idx_content_approvals_status",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "submitted_by"
                  ],
                  "n": "idx_content_approvals_submitted_by",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Editor can create",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'superadmin'::text])) AND (admin_users.is_active = true))))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": null
                  },
                  {
                    "n": "Editor can read all",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'moderator'::text, 'superadmin'::text])) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Editor can update own pending",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "((submitted_by = auth.uid()) AND (status = 'pending'::text) AND (EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'superadmin'::text])) AND (admin_users.is_active = true)))))"
                  },
                  {
                    "n": "Superadmin full access",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "resource_title",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'pending'::text",
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "submitted_by",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "reviewed_by",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "review_comments",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "reviewed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "practice_sessions": {
              "fk": [
                {
                  "n": "practice_sessions_module_id_fkey",
                  "map": [
                    {
                      "c": "module_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "modules"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "practice_sessions_subtopic_id_fkey",
                  "map": [
                    {
                      "c": "subtopic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subtopics"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "practice_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "subdivision"
                  ],
                  "n": "idx_practice_sessions_subdivision",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "practice_sessions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own practice session",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can manage own practice sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can update own practice session",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('practice_sessions_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "subtopic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "correct_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "incorrect_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "skipped_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "subdivision",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "module_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "saml_relay_states": {
              "fk": [
                {
                  "n": "saml_relay_states_flow_state_id_fkey",
                  "map": [
                    {
                      "c": "flow_state_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "flow_state"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "saml_relay_states_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(request_id) > 0))",
                  "n": "request_id not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "saml_relay_states_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "for_email"
                  ],
                  "n": "saml_relay_states_for_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "saml_relay_states_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "saml_relay_states_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "request_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "for_email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "redirect_to",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "flow_state_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "schema_migrations": {
              "fk": [],
              "pk": [
                [
                  "version"
                ],
                [
                  "version"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "version"
                  ],
                  "n": "schema_migrations_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "version"
                  ],
                  "n": "schema_migrations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "inserted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "ai_recommendations": {
              "fk": [
                {
                  "n": "ai_recommendations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((recommendation_type = ANY (ARRAY['lesson'::text, 'topic'::text, 'subtopic'::text, 'quiz'::text])))",
                  "n": "ai_recommendations_recommendation_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "ai_recommendations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own AI recommendations",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own AI recommendations",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own AI recommendations",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own AI recommendations",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('ai_recommendations_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "recommendation_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "reference_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "score",
                  "id": false,
                  "nl": true,
                  "ty": "float8"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "expires_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "analytics_sessions": {
              "fk": [
                {
                  "n": "analytics_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "analytics_sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_start"
                  ],
                  "n": "idx_analytics_sessions_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "session_start"
                  ],
                  "n": "idx_analytics_sessions_user_date",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "session_start",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "session_end",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "duration_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "chat_conversations": {
              "fk": [
                {
                  "n": "chat_conversations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "chat_conversations_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "is_active"
                  ],
                  "n": "idx_chat_conversations_active",
                  "pr": "(is_active = true)",
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_chat_conversations_user",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "chat_conversations_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "chat_conversations_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "'New Conversation'::text",
                  "n": "title",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'{}'::jsonb",
                  "n": "context_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "subscription_plans": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "is_active"
                  ],
                  "n": "idx_subscription_plans_is_active",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "subscription_plans_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "price_usd",
                  "id": false,
                  "nl": false,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "duration_days",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "features",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "lesson_quiz_results": {
              "fk": [
                {
                  "n": "lesson_quiz_results_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_lesson_quiz_results_lesson",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_lesson_quiz_results_user",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "lesson_quiz_results_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "lesson_id"
                  ],
                  "n": "lesson_quiz_results_user_id_lesson_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can view all quiz results",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Users can insert own quiz results",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can view own quiz results",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "score_percentage",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "passed",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "learning_completions": {
              "fk": [
                {
                  "n": "learning_completions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "is_completed"
                  ],
                  "n": "idx_learning_completions_completed",
                  "pr": "(is_completed = true)",
                  "uq": false
                },
                {
                  "c": [
                    "completed_at"
                  ],
                  "n": "idx_learning_completions_completed_at",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_learning_completions_lesson_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_learning_completions_user_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "learning_completions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "lesson_id"
                  ],
                  "n": "learning_completions_user_id_lesson_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Editors can view learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'editor'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Moderators can view learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'moderator'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Superadmins can view all learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Users can insert their own completions",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update their own completions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "Users can view their own completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "false",
                  "n": "is_completed",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "time_spent_minutes",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "oauth_authorizations": {
              "fk": [
                {
                  "n": "oauth_authorizations_client_id_fkey",
                  "map": [
                    {
                      "c": "client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "oauth_authorizations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(authorization_code) <= 255))",
                  "n": "oauth_authorizations_authorization_code_length"
                },
                {
                  "e": "CHECK ((char_length(code_challenge) <= 128))",
                  "n": "oauth_authorizations_code_challenge_length"
                },
                {
                  "e": "CHECK ((expires_at > created_at))",
                  "n": "oauth_authorizations_expires_at_future"
                },
                {
                  "e": "CHECK ((char_length(redirect_uri) <= 2048))",
                  "n": "oauth_authorizations_redirect_uri_length"
                },
                {
                  "e": "CHECK ((char_length(resource) <= 2048))",
                  "n": "oauth_authorizations_resource_length"
                },
                {
                  "e": "CHECK ((char_length(scope) <= 4096))",
                  "n": "oauth_authorizations_scope_length"
                },
                {
                  "e": "CHECK ((char_length(state) <= 4096))",
                  "n": "oauth_authorizations_state_length"
                }
              ],
              "idx": [
                {
                  "c": [
                    "expires_at"
                  ],
                  "n": "oauth_auth_pending_exp_idx",
                  "pr": "(status = 'pending'::auth.oauth_authorization_status)",
                  "uq": false
                },
                {
                  "c": [
                    "authorization_code"
                  ],
                  "n": "oauth_authorizations_authorization_code_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "authorization_id"
                  ],
                  "n": "oauth_authorizations_authorization_id_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_authorizations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "authorization_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "redirect_uri",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "scope",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "state",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "resource",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge_method",
                  "id": false,
                  "nl": true,
                  "ty": "code_challenge_method"
                },
                {
                  "d": "'code'::auth.oauth_response_type",
                  "n": "response_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_response_type"
                },
                {
                  "d": "'pending'::auth.oauth_authorization_status",
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_authorization_status"
                },
                {
                  "d": null,
                  "n": "authorization_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "(now() + '00:03:00'::interval)",
                  "n": "expires_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "approved_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "s3_multipart_uploads": {
              "fk": [
                {
                  "n": "s3_multipart_uploads_bucket_id_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "key",
                    "created_at"
                  ],
                  "n": "idx_multipart_uploads_list",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "s3_multipart_uploads_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "in_progress_size",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "upload_signature",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "user_metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                }
              ]
            },
            "s3_multipart_uploads_parts": {
              "fk": [
                {
                  "n": "s3_multipart_uploads_parts_bucket_id_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "s3_multipart_uploads_parts_upload_id_fkey",
                  "map": [
                    {
                      "c": "upload_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "s3_multipart_uploads"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "s3_multipart_uploads_parts_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "upload_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "size",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "part_number",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "etag",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            }
          }
        },
        "extensions": {
          "enums": {
            "action": [
              "INSERT",
              "UPDATE",
              "DELETE",
              "TRUNCATE",
              "ERROR"
            ],
            "aal_level": [
              "aal1",
              "aal2",
              "aal3"
            ],
            "buckettype": [
              "STANDARD",
              "ANALYTICS"
            ],
            "equality_op": [
              "eq",
              "neq",
              "lt",
              "lte",
              "gt",
              "gte",
              "in"
            ],
            "factor_type": [
              "totp",
              "webauthn",
              "phone"
            ],
            "factor_status": [
              "unverified",
              "verified"
            ],
            "oauth_client_type": [
              "public",
              "confidential"
            ],
            "oauth_response_type": [
              "code"
            ],
            "one_time_token_type": [
              "confirmation_token",
              "reauthentication_token",
              "recovery_token",
              "email_change_token_new",
              "email_change_token_current",
              "phone_change_token"
            ],
            "code_challenge_method": [
              "s256",
              "plain"
            ],
            "oauth_registration_type": [
              "dynamic",
              "manual"
            ],
            "oauth_authorization_status": [
              "pending",
              "approved",
              "denied",
              "expired"
            ]
          },
          "tables": {
            "users": {
              "fk": [],
              "pk": [
                [
                  "id"
                ],
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((email_change_confirm_status >= 0) AND (email_change_confirm_status <= 2)))",
                  "n": "users_email_change_confirm_status_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "confirmation_token"
                  ],
                  "n": "confirmation_token_idx",
                  "pr": "((confirmation_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email_change_token_current"
                  ],
                  "n": "email_change_token_current_idx",
                  "pr": "((email_change_token_current)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email_change_token_new"
                  ],
                  "n": "email_change_token_new_idx",
                  "pr": "((email_change_token_new)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "reauthentication_token"
                  ],
                  "n": "reauthentication_token_idx",
                  "pr": "((reauthentication_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "recovery_token"
                  ],
                  "n": "recovery_token_idx",
                  "pr": "((recovery_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email"
                  ],
                  "n": "users_email_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "email"
                  ],
                  "n": "users_email_partial_key",
                  "pr": "(is_sso_user = false)",
                  "uq": true
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "users_instance_id_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "users_instance_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "is_anonymous"
                  ],
                  "n": "users_is_anonymous_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "phone"
                  ],
                  "n": "users_phone_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "users_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "users_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Superadmins can view all users",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "User can edit own account",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(id = auth.uid())"
                  },
                  {
                    "n": "User can view own account",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(id = auth.uid())"
                  },
                  {
                    "n": "Users can update their own user record",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = id)"
                  },
                  {
                    "n": "Users can view their own user record",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "password_hash",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "aud",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "'email'::text",
                  "n": "auth_provider",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "is_email_verified",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "encrypted_password",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email_confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "invited_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "confirmation_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "confirmation_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "recovery_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "recovery_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email_change_token_new",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "email_change",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "email_change_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "last_sign_in_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "raw_app_meta_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "raw_user_meta_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "is_super_admin",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "NULL::character varying",
                  "n": "phone",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone_confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "phone_change",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "''::character varying",
                  "n": "phone_change_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "phone_change_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "email_change_token_current",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "0",
                  "n": "email_change_confirm_status",
                  "id": false,
                  "nl": true,
                  "ty": "int2"
                },
                {
                  "d": null,
                  "n": "banned_until",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "reauthentication_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "reauthentication_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "is_sso_user",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "deleted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "is_anonymous",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                }
              ]
            },
            "topics": {
              "fk": [
                {
                  "n": "topics_module_id_fkey",
                  "map": [
                    {
                      "c": "module_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "modules"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "module_id"
                  ],
                  "n": "idx_topics_module_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "topics_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "module_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "buckets": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "bname",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "buckets_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "public",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "false",
                  "n": "avif_autodetection",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "file_size_limit",
                  "id": false,
                  "nl": true,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "allowed_mime_types",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'STANDARD'::storage.buckettype",
                  "n": "type",
                  "id": false,
                  "nl": false,
                  "ty": "buckettype"
                }
              ]
            },
            "lessons": {
              "fk": [
                {
                  "n": "lessons_topic_id_fkey",
                  "map": [
                    {
                      "c": "topic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "topics"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "category"
                  ],
                  "n": "idx_lessons_category",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "topic_id"
                  ],
                  "n": "idx_lessons_topic_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "lessons_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "video_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "audio_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'text'::character varying",
                  "n": "lesson_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "80",
                  "n": "passing_score_percentage",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "0",
                  "n": "duration",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "modules": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "modules_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "thumbnail_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "objects": {
              "fk": [
                {
                  "n": "objects_bucketId_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "name"
                  ],
                  "n": "bucketid_objname",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "name",
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_name_bucket_level_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "bucket_id",
                    "name"
                  ],
                  "n": "idx_objects_bucket_id_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_objects_lower_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "name"
                  ],
                  "n": "name_prefix_search",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level",
                    "name"
                  ],
                  "n": "objects_bucket_id_level_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "objects_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "last_accessed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "path_tokens",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "user_metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "level",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                }
              ]
            },
            "secrets": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "secrets_name_idx",
                  "pr": "(name IS NOT NULL)",
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "secrets_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "''::text",
                  "n": "description",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "secret",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "vault._crypto_aead_det_noncegen()",
                  "n": "nonce",
                  "id": false,
                  "nl": true,
                  "ty": "bytea"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "prefixes": {
              "fk": [
                {
                  "n": "prefixes_bucketId_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "bucket_id",
                  "level",
                  "name"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_prefixes_lower_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level",
                    "name"
                  ],
                  "n": "prefixes_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "level",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "sessions": {
              "fk": [
                {
                  "n": "sessions_oauth_client_id_fkey",
                  "map": [
                    {
                      "c": "oauth_client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "not_after"
                  ],
                  "n": "sessions_not_after_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "oauth_client_id"
                  ],
                  "n": "sessions_oauth_client_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "sessions_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "created_at"
                  ],
                  "n": "user_id_created_at_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "factor_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "aal",
                  "id": false,
                  "nl": true,
                  "ty": "aal_level"
                },
                {
                  "d": null,
                  "n": "not_after",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "refreshed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "user_agent",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "ip",
                  "id": false,
                  "nl": true,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "tag",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "oauth_client_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "instances": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "instances_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "uuid",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "raw_base_config",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "questions": {
              "fk": [
                {
                  "n": "questions_lesson_id_fkey",
                  "map": [
                    {
                      "c": "lesson_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "lessons"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "module_type",
                    "category",
                    "subdivision"
                  ],
                  "n": "idx_questions_filters",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_questions_lesson_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "questions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "question_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'multiple_choice'::character varying",
                  "n": "question_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "difficulty",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "1",
                  "n": "points",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "explanation",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "module_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "subdivision",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "exam_part",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "subtopics": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "subtopics_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "topic_id",
                    "name"
                  ],
                  "n": "subtopics_topic_id_name_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Anyone can view subtopics",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('subtopics_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "position",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "flashcards": {
              "fk": [
                {
                  "n": "flashcards_topic_id_fkey",
                  "map": [
                    {
                      "c": "topic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "topics"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "flashcards_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "category"
                  ],
                  "n": "idx_flashcards_category",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "topic_id"
                  ],
                  "n": "idx_flashcards_topic_id",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "front_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "back_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "flow_state": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "flow_state_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "flow_state_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "auth_code"
                  ],
                  "n": "idx_auth_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "authentication_method"
                  ],
                  "n": "idx_user_id_auth_method",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "auth_code",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge_method",
                  "id": false,
                  "nl": false,
                  "ty": "code_challenge_method"
                },
                {
                  "d": null,
                  "n": "code_challenge",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_access_token",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_refresh_token",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "authentication_method",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "auth_code_issued_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "identities": {
              "fk": [
                {
                  "n": "identities_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "identities_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "identities_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "provider_id",
                    "provider"
                  ],
                  "n": "identities_provider_id_provider_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "identities_user_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "identity_data",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "provider",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "last_sign_in_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "migrations": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "migrations_name_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "migrations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "hash",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "executed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "mock_exams": {
              "fk": [
                {
                  "n": "mock_exams_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_exams_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own mock exam",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can manage own mock exams",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('mock_exams_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "correct_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "incorrect_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "skipped_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "admin_users": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((role = ANY (ARRAY['superadmin'::text, 'editor'::text, 'moderator'::text])))",
                  "n": "admin_users_role_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "admin_users_email_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "admin_users_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Only superadmin can delete admin users",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "((role = 'superadmin'::text) AND is_active)"
                  },
                  {
                    "n": "Only superadmin can edit admin users",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "((role = 'superadmin'::text) AND is_active)"
                  },
                  {
                    "n": "Superadmin can create admin users",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users admin_users_1\n  WHERE ((admin_users_1.id = auth.uid()) AND (admin_users_1.role = 'superadmin'::text) AND admin_users_1.is_active)))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Superadmins can insert admin users",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users admin_users_1\n  WHERE ((admin_users_1.id = auth.uid()) AND (admin_users_1.role = 'superadmin'::text) AND (admin_users_1.is_active = true))))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": null
                  },
                  {
                    "n": "Users can view their own admin record",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "password_hash",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "full_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "daily_stats": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "date"
                  ],
                  "n": "daily_stats_date_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "daily_stats_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "date"
                  ],
                  "n": "idx_daily_stats_date",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "0",
                  "n": "total_signups",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_conversions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "active_users",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_sessions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "avg_session_duration",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "0",
                  "n": "total_revenue",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "mfa_factors": {
              "fk": [
                {
                  "n": "mfa_factors_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "user_id",
                    "created_at"
                  ],
                  "n": "factor_id_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "last_challenged_at"
                  ],
                  "n": "mfa_factors_last_challenged_at_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mfa_factors_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "friendly_name",
                    "user_id"
                  ],
                  "n": "mfa_factors_user_friendly_name_unique",
                  "pr": "(TRIM(BOTH FROM friendly_name) <> ''::text)",
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "mfa_factors_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "phone"
                  ],
                  "n": "unique_phone_factor_per_user",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "friendly_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "factor_type",
                  "id": false,
                  "nl": false,
                  "ty": "factor_type"
                },
                {
                  "d": null,
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "factor_status"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "secret",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "last_challenged_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "web_authn_credential",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "web_authn_aaguid",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "sso_domains": {
              "fk": [
                {
                  "n": "sso_domains_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(domain) > 0))",
                  "n": "domain not empty"
                }
              ],
              "idx": [
                {
                  "c": null,
                  "n": "sso_domains_domain_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "sso_domains_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "sso_domains_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "domain",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "app_settings": {
              "fk": [],
              "pk": [
                [
                  "key"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "key"
                  ],
                  "n": "app_settings_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Active admin can update app settings",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  },
                  {
                    "n": "Active admin can view app settings",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "value",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_results": {
              "fk": [
                {
                  "n": "mock_results_mock_exam_id_fkey",
                  "map": [
                    {
                      "c": "mock_exam_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "mock_exams"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_results_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert result for own mock exam",
                    "chk": "(mock_exam_id IN ( SELECT mock_exams.id\n   FROM mock_exams\n  WHERE (mock_exams.user_id = auth.uid())))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can view results of own mock exam",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(mock_exam_id IN ( SELECT mock_exams.id\n   FROM mock_exams\n  WHERE (mock_exams.user_id = auth.uid())))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('mock_results_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "mock_exam_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "selected_option_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "is_correct",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "time_taken_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "subscription": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "entity"
                  ],
                  "n": "ix_realtime_subscription_entity",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "pk_subscription",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "subscription_id",
                    "entity",
                    "filters"
                  ],
                  "n": "subscription_subscription_id_entity_filters_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": true,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "subscription_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "entity",
                  "id": false,
                  "nl": false,
                  "ty": "regclass"
                },
                {
                  "d": "'{}'::realtime.user_defined_filter[]",
                  "n": "filters",
                  "id": false,
                  "nl": false,
                  "ty": "_user_defined_filter"
                },
                {
                  "d": null,
                  "n": "claims",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "claims_role",
                  "id": false,
                  "nl": false,
                  "ty": "regrole"
                },
                {
                  "d": "timezone('utc'::text, now())",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                }
              ]
            },
            "chat_messages": {
              "fk": [
                {
                  "n": "chat_messages_conversation_id_fkey",
                  "map": [
                    {
                      "c": "conversation_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "chat_conversations"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((role = ANY (ARRAY['user'::text, 'assistant'::text])))",
                  "n": "chat_messages_role_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "chat_messages_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "conversation_id",
                    "created_at"
                  ],
                  "n": "idx_chat_messages_conversation",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "role",
                    "created_at"
                  ],
                  "n": "idx_chat_messages_role",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "chat_messages_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "chat_messages_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM chat_conversations\n  WHERE ((chat_conversations.id = chat_messages.conversation_id) AND (chat_conversations.user_id = auth.uid()))))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "conversation_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'{}'::jsonb",
                  "n": "metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_sessions": {
              "fk": [
                {
                  "n": "mock_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "user_profiles"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((exam_part = ANY (ARRAY['part_a'::text, 'part_b'::text])))",
                  "n": "mock_sessions_exam_part_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "exam_part"
                  ],
                  "n": "idx_mock_sessions_exam_part",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_mock_sessions_user_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_sessions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Users can insert own mock sessions",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update own mock sessions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  },
                  {
                    "n": "Users can view own mock sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "exam_part",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "correct_answers",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "score_percentage",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "time_taken_minutes",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "passed",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "oauth_clients": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(client_name) <= 1024))",
                  "n": "oauth_clients_client_name_length"
                },
                {
                  "e": "CHECK ((char_length(client_uri) <= 2048))",
                  "n": "oauth_clients_client_uri_length"
                },
                {
                  "e": "CHECK ((char_length(logo_uri) <= 2048))",
                  "n": "oauth_clients_logo_uri_length"
                }
              ],
              "idx": [
                {
                  "c": [
                    "deleted_at"
                  ],
                  "n": "oauth_clients_deleted_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_clients_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "client_secret_hash",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "registration_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_registration_type"
                },
                {
                  "d": null,
                  "n": "redirect_uris",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "grant_types",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_uri",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "logo_uri",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "deleted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "'confidential'::auth.oauth_client_type",
                  "n": "client_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_client_type"
                }
              ]
            },
            "sso_providers": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((resource_id = NULL::text) OR (char_length(resource_id) > 0)))",
                  "n": "resource_id not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "sso_providers_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": null,
                  "n": "sso_providers_resource_id_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "resource_id"
                  ],
                  "n": "sso_providers_resource_id_pattern_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "disabled",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                }
              ]
            },
            "subscriptions": {
              "fk": [
                {
                  "n": "fk_subscriptions_coupon_code",
                  "map": [
                    {
                      "c": "coupon_code",
                      "rc": "code"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "discount_coupons"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "fk_subscriptions_plan_id",
                  "map": [
                    {
                      "c": "plan_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subscription_plans"
                  },
                  "on_d": "RESTRICT",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "subscriptions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((plan_type = ANY (ARRAY['trial'::text, '1_month'::text, '3_month'::text, '6_month'::text])))",
                  "n": "subscriptions_plan_type_check"
                },
                {
                  "e": "CHECK ((payment_gateway = ANY (ARRAY['stripe'::text, 'razorpay'::text, NULL::text])))",
                  "n": "valid_payment_gateway"
                },
                {
                  "e": "CHECK ((status = ANY (ARRAY['trial'::text, 'active'::text, 'expired'::text, 'cancelled'::text])))",
                  "n": "valid_subscription_status"
                }
              ],
              "idx": [
                {
                  "c": [
                    "coupon_code"
                  ],
                  "n": "idx_subscriptions_coupon_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "plan_id"
                  ],
                  "n": "idx_subscriptions_plan_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "status"
                  ],
                  "n": "idx_subscriptions_status",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "subscriptions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Superadmins can view all subscriptions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "User can view own subscription",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "plan_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "start_date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": null,
                  "n": "end_date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "false",
                  "n": "auto_renew",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "'active'::text",
                  "n": "status",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "plan_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "payment_gateway",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "payment_method",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "amount_paid_usd",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "coupon_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "discount_amount",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "transaction_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                }
              ]
            },
            "user_profiles": {
              "fk": [
                {
                  "n": "user_profiles_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((gender = ANY (ARRAY['male'::text, 'female'::text, 'other'::text])))",
                  "n": "user_profiles_gender_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "idx_user_profiles_email",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "oauth_provider"
                  ],
                  "n": "idx_user_profiles_oauth_provider",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_profiles_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own profile",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own profile",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own profile",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own profile",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "Users can insert their own profile",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update their own profile",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  },
                  {
                    "n": "Users can view their own profile",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "full_name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone_number",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "country_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "date_of_birth",
                  "id": false,
                  "nl": true,
                  "ty": "date"
                },
                {
                  "d": null,
                  "n": "gender",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "current_country",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "nmc_attempts",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "uses_coaching",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "nursing_id_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "profile_completed",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'email'::character varying",
                  "n": "oauth_provider",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                }
              ]
            },
            "user_sessions": {
              "fk": [
                {
                  "n": "user_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_token"
                  ],
                  "n": "user_sessions_session_token_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can update own sessions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "device_info",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "session_token",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "ip_address",
                  "id": false,
                  "nl": true,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "user_agent",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "last_active_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "ai_usage_stats": {
              "fk": [
                {
                  "n": "ai_usage_stats_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "ai_usage_stats_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "date"
                  ],
                  "n": "idx_ai_usage_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "date"
                  ],
                  "n": "idx_ai_usage_user_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "date"
                  ],
                  "n": "unique_user_date",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "ai_usage_stats_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "ai_usage_stats_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "CURRENT_DATE",
                  "n": "date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "0",
                  "n": "message_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_tokens",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0.0000",
                  "n": "total_cost",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "dashboard_hero": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "dashboard_hero_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "display_order"
                  ],
                  "n": "idx_dashboard_hero_display_order",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can insert/update/delete dashboard hero",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  },
                  {
                    "n": "Any user can view dashboard hero",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('dashboard_hero_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "headline",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "subheadline",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "button_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "button_link",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                }
              ]
            },
            "learning_paths": {
              "fk": [
                {
                  "n": "learning_paths_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((path_type = ANY (ARRAY['sequential'::text, 'adaptive'::text, 'custom'::text])))",
                  "n": "learning_paths_path_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "learning_paths_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own learning path",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own learning path",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own learning path",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own learning path",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('learning_paths_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "path_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "details",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": "0",
                  "n": "current_index",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "lesson_quizzes": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "lesson_quizzes_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('lesson_quizzes_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "position",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "mfa_amr_claims": {
              "fk": [
                {
                  "n": "mfa_amr_claims_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "amr_id_pk",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_id",
                    "authentication_method"
                  ],
                  "n": "mfa_amr_claims_session_id_authentication_method_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "authentication_method",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "mfa_challenges": {
              "fk": [
                {
                  "n": "mfa_challenges_auth_factor_id_fkey",
                  "map": [
                    {
                      "c": "factor_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "mfa_factors"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "mfa_challenge_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mfa_challenges_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "factor_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "verified_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "ip_address",
                  "id": false,
                  "nl": false,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "otp_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "web_authn_session_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                }
              ]
            },
            "oauth_consents": {
              "fk": [
                {
                  "n": "oauth_consents_client_id_fkey",
                  "map": [
                    {
                      "c": "client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "oauth_consents_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((revoked_at IS NULL) OR (revoked_at >= granted_at)))",
                  "n": "oauth_consents_revoked_after_granted"
                },
                {
                  "e": "CHECK ((char_length(scopes) <= 2048))",
                  "n": "oauth_consents_scopes_length"
                },
                {
                  "e": "CHECK ((char_length(TRIM(BOTH FROM scopes)) > 0))",
                  "n": "oauth_consents_scopes_not_empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "client_id"
                  ],
                  "n": "oauth_consents_active_client_idx",
                  "pr": "(revoked_at IS NULL)",
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "client_id"
                  ],
                  "n": "oauth_consents_active_user_client_idx",
                  "pr": "(revoked_at IS NULL)",
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_consents_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "client_id"
                  ],
                  "n": "oauth_consents_user_client_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "granted_at"
                  ],
                  "n": "oauth_consents_user_order_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "client_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "scopes",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "granted_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "revoked_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "question_media": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((media_type = ANY (ARRAY['image'::text, 'audio'::text, 'video'::text, 'other'::text])))",
                  "n": "question_media_media_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "question_media_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Anyone can view question media",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('question_media_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "media_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "media_url",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "refresh_tokens": {
              "fk": [
                {
                  "n": "refresh_tokens_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "refresh_tokens_instance_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "instance_id",
                    "user_id"
                  ],
                  "n": "refresh_tokens_instance_id_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "parent"
                  ],
                  "n": "refresh_tokens_parent_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "refresh_tokens_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_id",
                    "revoked"
                  ],
                  "n": "refresh_tokens_session_id_revoked_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "token"
                  ],
                  "n": "refresh_tokens_token_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "updated_at"
                  ],
                  "n": "refresh_tokens_updated_at_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "nextval('auth.refresh_tokens_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "revoked",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "parent",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "saml_providers": {
              "fk": [
                {
                  "n": "saml_providers_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(entity_id) > 0))",
                  "n": "entity_id not empty"
                },
                {
                  "e": "CHECK (((metadata_url = NULL::text) OR (char_length(metadata_url) > 0)))",
                  "n": "metadata_url not empty"
                },
                {
                  "e": "CHECK ((char_length(metadata_xml) > 0))",
                  "n": "metadata_xml not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "entity_id"
                  ],
                  "n": "saml_providers_entity_id_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "saml_providers_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "saml_providers_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "entity_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "metadata_xml",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "metadata_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "attribute_mapping",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "name_id_format",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                }
              ]
            },
            "user_analytics": {
              "fk": [
                {
                  "n": "user_analytics_subtopic_id_fkey",
                  "map": [
                    {
                      "c": "subtopic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subtopics"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "user_analytics_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_analytics_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "topic_id",
                    "subtopic_id"
                  ],
                  "n": "user_analytics_user_id_topic_id_subtopic_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own analytics",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own analytics",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own analytics",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('user_analytics_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "subtopic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "practice_attempts",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "correct_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "incorrect_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "average_time_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "float8"
                },
                {
                  "d": "now()",
                  "n": "last_updated",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "email_templates": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "email_templates_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "template_name"
                  ],
                  "n": "email_templates_template_name_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "template_name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "subject",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "html_content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "variables",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "one_time_tokens": {
              "fk": [
                {
                  "n": "one_time_tokens_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(token_hash) > 0))",
                  "n": "one_time_tokens_token_hash_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "one_time_tokens_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "relates_to"
                  ],
                  "n": "one_time_tokens_relates_to_hash_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "token_hash"
                  ],
                  "n": "one_time_tokens_token_hash_hash_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "token_type"
                  ],
                  "n": "one_time_tokens_user_id_token_type_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "token_type",
                  "id": false,
                  "nl": false,
                  "ty": "one_time_token_type"
                },
                {
                  "d": null,
                  "n": "token_hash",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "relates_to",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                }
              ]
            },
            "discount_coupons": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((discount_type = ANY (ARRAY['percentage'::text, 'fixed_amount'::text])))",
                  "n": "valid_discount_type"
                },
                {
                  "e": "CHECK ((((discount_type = 'percentage'::text) AND ((discount_value >= (1)::numeric) AND (discount_value <= (100)::numeric))) OR (discount_type = 'fixed_amount'::text)))",
                  "n": "valid_percentage"
                }
              ],
              "idx": [
                {
                  "c": [
                    "code"
                  ],
                  "n": "discount_coupons_code_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "discount_coupons_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "code"
                  ],
                  "n": "idx_discount_coupons_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "is_active"
                  ],
                  "n": "idx_discount_coupons_is_active",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "valid_from",
                    "valid_until"
                  ],
                  "n": "idx_discount_coupons_valid_dates",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "code",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "discount_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "discount_value",
                  "id": false,
                  "nl": false,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "applicable_plans",
                  "id": false,
                  "nl": true,
                  "ty": "_uuid"
                },
                {
                  "d": null,
                  "n": "usage_limit",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "usage_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "valid_from",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "valid_until",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_exam_config": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_exam_config_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can manage mock exam config",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Students can view mock exam config",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "15",
                  "n": "part_a_question_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "30",
                  "n": "part_a_duration_minutes",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "120",
                  "n": "part_b_question_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "150",
                  "n": "part_b_duration_minutes",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "allow_calculator",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "practice_results": {
              "fk": [
                {
                  "n": "practice_results_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "practice_sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "practice_results_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert result for own practice session",
                    "chk": "(session_id IN ( SELECT practice_sessions.id\n   FROM practice_sessions\n  WHERE (practice_sessions.user_id = auth.uid())))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can view results of own practice session",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(session_id IN ( SELECT practice_sessions.id\n   FROM practice_sessions\n  WHERE (practice_sessions.user_id = auth.uid())))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('practice_results_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "selected_option_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "is_correct",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "time_taken_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "question_options": {
              "fk": [
                {
                  "n": "question_options_question_id_fkey",
                  "map": [
                    {
                      "c": "question_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "questions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "question_id"
                  ],
                  "n": "idx_question_options_question_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "question_options_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "option_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "is_correct",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "audit_log_entries": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "audit_log_entries_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "audit_logs_instance_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "payload",
                  "id": false,
                  "nl": true,
                  "ty": "json"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "ip_address",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                }
              ]
            },
            "buckets_analytics": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "buckets_analytics_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'ANALYTICS'::storage.buckettype",
                  "n": "type",
                  "id": false,
                  "nl": false,
                  "ty": "buckettype"
                },
                {
                  "d": "'ICEBERG'::text",
                  "n": "format",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "content_approvals": {
              "fk": [
                {
                  "n": "content_approvals_reviewed_by_fkey",
                  "map": [
                    {
                      "c": "reviewed_by",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "admin_users"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "content_approvals_submitted_by_fkey",
                  "map": [
                    {
                      "c": "submitted_by",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "admin_users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((resource_type = ANY (ARRAY['module'::text, 'topic'::text, 'lesson'::text, 'question'::text, 'flashcard'::text])))",
                  "n": "content_approvals_resource_type_check"
                },
                {
                  "e": "CHECK ((status = ANY (ARRAY['pending'::text, 'approved'::text, 'rejected'::text])))",
                  "n": "content_approvals_status_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "content_approvals_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "idx_content_approvals_created_at",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "resource_type"
                  ],
                  "n": "idx_content_approvals_resource_type",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "reviewed_by"
                  ],
                  "n": "idx_content_approvals_reviewed_by",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "status"
                  ],
                  "n": "idx_content_approvals_status",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "submitted_by"
                  ],
                  "n": "idx_content_approvals_submitted_by",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Editor can create",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'superadmin'::text])) AND (admin_users.is_active = true))))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": null
                  },
                  {
                    "n": "Editor can read all",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'moderator'::text, 'superadmin'::text])) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Editor can update own pending",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "((submitted_by = auth.uid()) AND (status = 'pending'::text) AND (EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'superadmin'::text])) AND (admin_users.is_active = true)))))"
                  },
                  {
                    "n": "Superadmin full access",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "resource_title",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'pending'::text",
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "submitted_by",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "reviewed_by",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "review_comments",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "reviewed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "practice_sessions": {
              "fk": [
                {
                  "n": "practice_sessions_module_id_fkey",
                  "map": [
                    {
                      "c": "module_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "modules"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "practice_sessions_subtopic_id_fkey",
                  "map": [
                    {
                      "c": "subtopic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subtopics"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "practice_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "subdivision"
                  ],
                  "n": "idx_practice_sessions_subdivision",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "practice_sessions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own practice session",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can manage own practice sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can update own practice session",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('practice_sessions_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "subtopic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "correct_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "incorrect_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "skipped_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "subdivision",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "module_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "saml_relay_states": {
              "fk": [
                {
                  "n": "saml_relay_states_flow_state_id_fkey",
                  "map": [
                    {
                      "c": "flow_state_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "flow_state"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "saml_relay_states_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(request_id) > 0))",
                  "n": "request_id not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "saml_relay_states_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "for_email"
                  ],
                  "n": "saml_relay_states_for_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "saml_relay_states_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "saml_relay_states_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "request_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "for_email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "redirect_to",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "flow_state_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "schema_migrations": {
              "fk": [],
              "pk": [
                [
                  "version"
                ],
                [
                  "version"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "version"
                  ],
                  "n": "schema_migrations_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "version"
                  ],
                  "n": "schema_migrations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "inserted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "ai_recommendations": {
              "fk": [
                {
                  "n": "ai_recommendations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((recommendation_type = ANY (ARRAY['lesson'::text, 'topic'::text, 'subtopic'::text, 'quiz'::text])))",
                  "n": "ai_recommendations_recommendation_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "ai_recommendations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own AI recommendations",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own AI recommendations",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own AI recommendations",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own AI recommendations",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('ai_recommendations_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "recommendation_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "reference_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "score",
                  "id": false,
                  "nl": true,
                  "ty": "float8"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "expires_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "analytics_sessions": {
              "fk": [
                {
                  "n": "analytics_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "analytics_sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_start"
                  ],
                  "n": "idx_analytics_sessions_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "session_start"
                  ],
                  "n": "idx_analytics_sessions_user_date",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "session_start",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "session_end",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "duration_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "chat_conversations": {
              "fk": [
                {
                  "n": "chat_conversations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "chat_conversations_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "is_active"
                  ],
                  "n": "idx_chat_conversations_active",
                  "pr": "(is_active = true)",
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_chat_conversations_user",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "chat_conversations_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "chat_conversations_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "'New Conversation'::text",
                  "n": "title",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'{}'::jsonb",
                  "n": "context_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "subscription_plans": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "is_active"
                  ],
                  "n": "idx_subscription_plans_is_active",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "subscription_plans_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "price_usd",
                  "id": false,
                  "nl": false,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "duration_days",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "features",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "lesson_quiz_results": {
              "fk": [
                {
                  "n": "lesson_quiz_results_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_lesson_quiz_results_lesson",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_lesson_quiz_results_user",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "lesson_quiz_results_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "lesson_id"
                  ],
                  "n": "lesson_quiz_results_user_id_lesson_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can view all quiz results",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Users can insert own quiz results",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can view own quiz results",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "score_percentage",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "passed",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "learning_completions": {
              "fk": [
                {
                  "n": "learning_completions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "is_completed"
                  ],
                  "n": "idx_learning_completions_completed",
                  "pr": "(is_completed = true)",
                  "uq": false
                },
                {
                  "c": [
                    "completed_at"
                  ],
                  "n": "idx_learning_completions_completed_at",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_learning_completions_lesson_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_learning_completions_user_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "learning_completions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "lesson_id"
                  ],
                  "n": "learning_completions_user_id_lesson_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Editors can view learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'editor'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Moderators can view learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'moderator'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Superadmins can view all learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Users can insert their own completions",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update their own completions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "Users can view their own completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "false",
                  "n": "is_completed",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "time_spent_minutes",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "oauth_authorizations": {
              "fk": [
                {
                  "n": "oauth_authorizations_client_id_fkey",
                  "map": [
                    {
                      "c": "client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "oauth_authorizations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(authorization_code) <= 255))",
                  "n": "oauth_authorizations_authorization_code_length"
                },
                {
                  "e": "CHECK ((char_length(code_challenge) <= 128))",
                  "n": "oauth_authorizations_code_challenge_length"
                },
                {
                  "e": "CHECK ((expires_at > created_at))",
                  "n": "oauth_authorizations_expires_at_future"
                },
                {
                  "e": "CHECK ((char_length(redirect_uri) <= 2048))",
                  "n": "oauth_authorizations_redirect_uri_length"
                },
                {
                  "e": "CHECK ((char_length(resource) <= 2048))",
                  "n": "oauth_authorizations_resource_length"
                },
                {
                  "e": "CHECK ((char_length(scope) <= 4096))",
                  "n": "oauth_authorizations_scope_length"
                },
                {
                  "e": "CHECK ((char_length(state) <= 4096))",
                  "n": "oauth_authorizations_state_length"
                }
              ],
              "idx": [
                {
                  "c": [
                    "expires_at"
                  ],
                  "n": "oauth_auth_pending_exp_idx",
                  "pr": "(status = 'pending'::auth.oauth_authorization_status)",
                  "uq": false
                },
                {
                  "c": [
                    "authorization_code"
                  ],
                  "n": "oauth_authorizations_authorization_code_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "authorization_id"
                  ],
                  "n": "oauth_authorizations_authorization_id_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_authorizations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "authorization_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "redirect_uri",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "scope",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "state",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "resource",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge_method",
                  "id": false,
                  "nl": true,
                  "ty": "code_challenge_method"
                },
                {
                  "d": "'code'::auth.oauth_response_type",
                  "n": "response_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_response_type"
                },
                {
                  "d": "'pending'::auth.oauth_authorization_status",
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_authorization_status"
                },
                {
                  "d": null,
                  "n": "authorization_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "(now() + '00:03:00'::interval)",
                  "n": "expires_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "approved_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "s3_multipart_uploads": {
              "fk": [
                {
                  "n": "s3_multipart_uploads_bucket_id_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "key",
                    "created_at"
                  ],
                  "n": "idx_multipart_uploads_list",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "s3_multipart_uploads_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "in_progress_size",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "upload_signature",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "user_metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                }
              ]
            },
            "s3_multipart_uploads_parts": {
              "fk": [
                {
                  "n": "s3_multipart_uploads_parts_bucket_id_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "s3_multipart_uploads_parts_upload_id_fkey",
                  "map": [
                    {
                      "c": "upload_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "s3_multipart_uploads"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "s3_multipart_uploads_parts_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "upload_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "size",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "part_number",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "etag",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            }
          }
        },
        "graphql_public": {
          "enums": {
            "action": [
              "INSERT",
              "UPDATE",
              "DELETE",
              "TRUNCATE",
              "ERROR"
            ],
            "aal_level": [
              "aal1",
              "aal2",
              "aal3"
            ],
            "buckettype": [
              "STANDARD",
              "ANALYTICS"
            ],
            "equality_op": [
              "eq",
              "neq",
              "lt",
              "lte",
              "gt",
              "gte",
              "in"
            ],
            "factor_type": [
              "totp",
              "webauthn",
              "phone"
            ],
            "factor_status": [
              "unverified",
              "verified"
            ],
            "oauth_client_type": [
              "public",
              "confidential"
            ],
            "oauth_response_type": [
              "code"
            ],
            "one_time_token_type": [
              "confirmation_token",
              "reauthentication_token",
              "recovery_token",
              "email_change_token_new",
              "email_change_token_current",
              "phone_change_token"
            ],
            "code_challenge_method": [
              "s256",
              "plain"
            ],
            "oauth_registration_type": [
              "dynamic",
              "manual"
            ],
            "oauth_authorization_status": [
              "pending",
              "approved",
              "denied",
              "expired"
            ]
          },
          "tables": {
            "users": {
              "fk": [],
              "pk": [
                [
                  "id"
                ],
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((email_change_confirm_status >= 0) AND (email_change_confirm_status <= 2)))",
                  "n": "users_email_change_confirm_status_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "confirmation_token"
                  ],
                  "n": "confirmation_token_idx",
                  "pr": "((confirmation_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email_change_token_current"
                  ],
                  "n": "email_change_token_current_idx",
                  "pr": "((email_change_token_current)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email_change_token_new"
                  ],
                  "n": "email_change_token_new_idx",
                  "pr": "((email_change_token_new)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "reauthentication_token"
                  ],
                  "n": "reauthentication_token_idx",
                  "pr": "((reauthentication_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "recovery_token"
                  ],
                  "n": "recovery_token_idx",
                  "pr": "((recovery_token)::text !~ '^[0-9 ]*$'::text)",
                  "uq": true
                },
                {
                  "c": [
                    "email"
                  ],
                  "n": "users_email_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "email"
                  ],
                  "n": "users_email_partial_key",
                  "pr": "(is_sso_user = false)",
                  "uq": true
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "users_instance_id_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "users_instance_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "is_anonymous"
                  ],
                  "n": "users_is_anonymous_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "phone"
                  ],
                  "n": "users_phone_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "users_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "users_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Superadmins can view all users",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "User can edit own account",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(id = auth.uid())"
                  },
                  {
                    "n": "User can view own account",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(id = auth.uid())"
                  },
                  {
                    "n": "Users can update their own user record",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = id)"
                  },
                  {
                    "n": "Users can view their own user record",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "password_hash",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "aud",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "'email'::text",
                  "n": "auth_provider",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "is_email_verified",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "encrypted_password",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email_confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "invited_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "confirmation_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "confirmation_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "recovery_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "recovery_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email_change_token_new",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "email_change",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "email_change_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "last_sign_in_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "raw_app_meta_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "raw_user_meta_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "is_super_admin",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "NULL::character varying",
                  "n": "phone",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone_confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "phone_change",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "''::character varying",
                  "n": "phone_change_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "phone_change_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "confirmed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "email_change_token_current",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "0",
                  "n": "email_change_confirm_status",
                  "id": false,
                  "nl": true,
                  "ty": "int2"
                },
                {
                  "d": null,
                  "n": "banned_until",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "reauthentication_token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "reauthentication_sent_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "is_sso_user",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "deleted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "is_anonymous",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                }
              ]
            },
            "topics": {
              "fk": [
                {
                  "n": "topics_module_id_fkey",
                  "map": [
                    {
                      "c": "module_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "modules"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "module_id"
                  ],
                  "n": "idx_topics_module_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "topics_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "module_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "buckets": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "bname",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "buckets_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "false",
                  "n": "public",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "false",
                  "n": "avif_autodetection",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "file_size_limit",
                  "id": false,
                  "nl": true,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "allowed_mime_types",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'STANDARD'::storage.buckettype",
                  "n": "type",
                  "id": false,
                  "nl": false,
                  "ty": "buckettype"
                }
              ]
            },
            "lessons": {
              "fk": [
                {
                  "n": "lessons_topic_id_fkey",
                  "map": [
                    {
                      "c": "topic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "topics"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "category"
                  ],
                  "n": "idx_lessons_category",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "topic_id"
                  ],
                  "n": "idx_lessons_topic_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "lessons_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "video_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "audio_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'text'::character varying",
                  "n": "lesson_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "80",
                  "n": "passing_score_percentage",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "0",
                  "n": "duration",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "modules": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "modules_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "title",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "thumbnail_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "objects": {
              "fk": [
                {
                  "n": "objects_bucketId_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "name"
                  ],
                  "n": "bucketid_objname",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "name",
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_name_bucket_level_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "bucket_id",
                    "name"
                  ],
                  "n": "idx_objects_bucket_id_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_objects_lower_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "name"
                  ],
                  "n": "name_prefix_search",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level",
                    "name"
                  ],
                  "n": "objects_bucket_id_level_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "objects_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "last_accessed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "path_tokens",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "user_metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "level",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                }
              ]
            },
            "secrets": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "secrets_name_idx",
                  "pr": "(name IS NOT NULL)",
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "secrets_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "''::text",
                  "n": "description",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "secret",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "vault._crypto_aead_det_noncegen()",
                  "n": "nonce",
                  "id": false,
                  "nl": true,
                  "ty": "bytea"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "prefixes": {
              "fk": [
                {
                  "n": "prefixes_bucketId_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "bucket_id",
                  "level",
                  "name"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "level"
                  ],
                  "n": "idx_prefixes_lower_name",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "bucket_id",
                    "level",
                    "name"
                  ],
                  "n": "prefixes_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "level",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "sessions": {
              "fk": [
                {
                  "n": "sessions_oauth_client_id_fkey",
                  "map": [
                    {
                      "c": "oauth_client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "not_after"
                  ],
                  "n": "sessions_not_after_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "oauth_client_id"
                  ],
                  "n": "sessions_oauth_client_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "sessions_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "created_at"
                  ],
                  "n": "user_id_created_at_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "factor_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "aal",
                  "id": false,
                  "nl": true,
                  "ty": "aal_level"
                },
                {
                  "d": null,
                  "n": "not_after",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "refreshed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "user_agent",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "ip",
                  "id": false,
                  "nl": true,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "tag",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "oauth_client_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "instances": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "instances_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "uuid",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "raw_base_config",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "questions": {
              "fk": [
                {
                  "n": "questions_lesson_id_fkey",
                  "map": [
                    {
                      "c": "lesson_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "lessons"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "module_type",
                    "category",
                    "subdivision"
                  ],
                  "n": "idx_questions_filters",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_questions_lesson_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "questions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "question_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'multiple_choice'::character varying",
                  "n": "question_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "difficulty",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "1",
                  "n": "points",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "explanation",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "module_type",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "subdivision",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "exam_part",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "subtopics": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "subtopics_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "topic_id",
                    "name"
                  ],
                  "n": "subtopics_topic_id_name_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Anyone can view subtopics",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('subtopics_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "position",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "flashcards": {
              "fk": [
                {
                  "n": "flashcards_topic_id_fkey",
                  "map": [
                    {
                      "c": "topic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "topics"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "flashcards_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "category"
                  ],
                  "n": "idx_flashcards_category",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "topic_id"
                  ],
                  "n": "idx_flashcards_topic_id",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "front_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "back_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "category",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "flow_state": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "flow_state_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "flow_state_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "auth_code"
                  ],
                  "n": "idx_auth_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "authentication_method"
                  ],
                  "n": "idx_user_id_auth_method",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "auth_code",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge_method",
                  "id": false,
                  "nl": false,
                  "ty": "code_challenge_method"
                },
                {
                  "d": null,
                  "n": "code_challenge",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_access_token",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "provider_refresh_token",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "authentication_method",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "auth_code_issued_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "identities": {
              "fk": [
                {
                  "n": "identities_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "identities_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "identities_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "provider_id",
                    "provider"
                  ],
                  "n": "identities_provider_id_provider_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "identities_user_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "identity_data",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "provider",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "last_sign_in_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "migrations": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "name"
                  ],
                  "n": "migrations_name_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "migrations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "hash",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": "CURRENT_TIMESTAMP",
                  "n": "executed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "mock_exams": {
              "fk": [
                {
                  "n": "mock_exams_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_exams_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own mock exam",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can manage own mock exams",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('mock_exams_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "correct_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "incorrect_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "skipped_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "admin_users": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((role = ANY (ARRAY['superadmin'::text, 'editor'::text, 'moderator'::text])))",
                  "n": "admin_users_role_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "admin_users_email_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "admin_users_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Only superadmin can delete admin users",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "((role = 'superadmin'::text) AND is_active)"
                  },
                  {
                    "n": "Only superadmin can edit admin users",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "((role = 'superadmin'::text) AND is_active)"
                  },
                  {
                    "n": "Superadmin can create admin users",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users admin_users_1\n  WHERE ((admin_users_1.id = auth.uid()) AND (admin_users_1.role = 'superadmin'::text) AND admin_users_1.is_active)))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Superadmins can insert admin users",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users admin_users_1\n  WHERE ((admin_users_1.id = auth.uid()) AND (admin_users_1.role = 'superadmin'::text) AND (admin_users_1.is_active = true))))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": null
                  },
                  {
                    "n": "Users can view their own admin record",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "password_hash",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "full_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "daily_stats": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "date"
                  ],
                  "n": "daily_stats_date_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "daily_stats_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "date"
                  ],
                  "n": "idx_daily_stats_date",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "0",
                  "n": "total_signups",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_conversions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "active_users",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_sessions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "avg_session_duration",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "0",
                  "n": "total_revenue",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "mfa_factors": {
              "fk": [
                {
                  "n": "mfa_factors_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "user_id",
                    "created_at"
                  ],
                  "n": "factor_id_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "last_challenged_at"
                  ],
                  "n": "mfa_factors_last_challenged_at_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mfa_factors_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "friendly_name",
                    "user_id"
                  ],
                  "n": "mfa_factors_user_friendly_name_unique",
                  "pr": "(TRIM(BOTH FROM friendly_name) <> ''::text)",
                  "uq": true
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "mfa_factors_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "phone"
                  ],
                  "n": "unique_phone_factor_per_user",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "friendly_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "factor_type",
                  "id": false,
                  "nl": false,
                  "ty": "factor_type"
                },
                {
                  "d": null,
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "factor_status"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "secret",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "last_challenged_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "web_authn_credential",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "web_authn_aaguid",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "sso_domains": {
              "fk": [
                {
                  "n": "sso_domains_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(domain) > 0))",
                  "n": "domain not empty"
                }
              ],
              "idx": [
                {
                  "c": null,
                  "n": "sso_domains_domain_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "sso_domains_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "sso_domains_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "domain",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "app_settings": {
              "fk": [],
              "pk": [
                [
                  "key"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "key"
                  ],
                  "n": "app_settings_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Active admin can update app settings",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  },
                  {
                    "n": "Active admin can view app settings",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "value",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_results": {
              "fk": [
                {
                  "n": "mock_results_mock_exam_id_fkey",
                  "map": [
                    {
                      "c": "mock_exam_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "mock_exams"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_results_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert result for own mock exam",
                    "chk": "(mock_exam_id IN ( SELECT mock_exams.id\n   FROM mock_exams\n  WHERE (mock_exams.user_id = auth.uid())))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can view results of own mock exam",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(mock_exam_id IN ( SELECT mock_exams.id\n   FROM mock_exams\n  WHERE (mock_exams.user_id = auth.uid())))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('mock_results_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "mock_exam_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "selected_option_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "is_correct",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "time_taken_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "subscription": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "entity"
                  ],
                  "n": "ix_realtime_subscription_entity",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "pk_subscription",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "subscription_id",
                    "entity",
                    "filters"
                  ],
                  "n": "subscription_subscription_id_entity_filters_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": true,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "subscription_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "entity",
                  "id": false,
                  "nl": false,
                  "ty": "regclass"
                },
                {
                  "d": "'{}'::realtime.user_defined_filter[]",
                  "n": "filters",
                  "id": false,
                  "nl": false,
                  "ty": "_user_defined_filter"
                },
                {
                  "d": null,
                  "n": "claims",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "claims_role",
                  "id": false,
                  "nl": false,
                  "ty": "regrole"
                },
                {
                  "d": "timezone('utc'::text, now())",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                }
              ]
            },
            "chat_messages": {
              "fk": [
                {
                  "n": "chat_messages_conversation_id_fkey",
                  "map": [
                    {
                      "c": "conversation_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "chat_conversations"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((role = ANY (ARRAY['user'::text, 'assistant'::text])))",
                  "n": "chat_messages_role_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "chat_messages_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "conversation_id",
                    "created_at"
                  ],
                  "n": "idx_chat_messages_conversation",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "role",
                    "created_at"
                  ],
                  "n": "idx_chat_messages_role",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "chat_messages_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "chat_messages_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM chat_conversations\n  WHERE ((chat_conversations.id = chat_messages.conversation_id) AND (chat_conversations.user_id = auth.uid()))))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "conversation_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "role",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'{}'::jsonb",
                  "n": "metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_sessions": {
              "fk": [
                {
                  "n": "mock_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "user_profiles"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((exam_part = ANY (ARRAY['part_a'::text, 'part_b'::text])))",
                  "n": "mock_sessions_exam_part_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "exam_part"
                  ],
                  "n": "idx_mock_sessions_exam_part",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_mock_sessions_user_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_sessions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Users can insert own mock sessions",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update own mock sessions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  },
                  {
                    "n": "Users can view own mock sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "exam_part",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "correct_answers",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "score_percentage",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "time_taken_minutes",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "passed",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "oauth_clients": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(client_name) <= 1024))",
                  "n": "oauth_clients_client_name_length"
                },
                {
                  "e": "CHECK ((char_length(client_uri) <= 2048))",
                  "n": "oauth_clients_client_uri_length"
                },
                {
                  "e": "CHECK ((char_length(logo_uri) <= 2048))",
                  "n": "oauth_clients_logo_uri_length"
                }
              ],
              "idx": [
                {
                  "c": [
                    "deleted_at"
                  ],
                  "n": "oauth_clients_deleted_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_clients_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "client_secret_hash",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "registration_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_registration_type"
                },
                {
                  "d": null,
                  "n": "redirect_uris",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "grant_types",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_name",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_uri",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "logo_uri",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "deleted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "'confidential'::auth.oauth_client_type",
                  "n": "client_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_client_type"
                }
              ]
            },
            "sso_providers": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((resource_id = NULL::text) OR (char_length(resource_id) > 0)))",
                  "n": "resource_id not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "sso_providers_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": null,
                  "n": "sso_providers_resource_id_idx",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "resource_id"
                  ],
                  "n": "sso_providers_resource_id_pattern_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "disabled",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                }
              ]
            },
            "subscriptions": {
              "fk": [
                {
                  "n": "fk_subscriptions_coupon_code",
                  "map": [
                    {
                      "c": "coupon_code",
                      "rc": "code"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "discount_coupons"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "fk_subscriptions_plan_id",
                  "map": [
                    {
                      "c": "plan_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subscription_plans"
                  },
                  "on_d": "RESTRICT",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "subscriptions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((plan_type = ANY (ARRAY['trial'::text, '1_month'::text, '3_month'::text, '6_month'::text])))",
                  "n": "subscriptions_plan_type_check"
                },
                {
                  "e": "CHECK ((payment_gateway = ANY (ARRAY['stripe'::text, 'razorpay'::text, NULL::text])))",
                  "n": "valid_payment_gateway"
                },
                {
                  "e": "CHECK ((status = ANY (ARRAY['trial'::text, 'active'::text, 'expired'::text, 'cancelled'::text])))",
                  "n": "valid_subscription_status"
                }
              ],
              "idx": [
                {
                  "c": [
                    "coupon_code"
                  ],
                  "n": "idx_subscriptions_coupon_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "plan_id"
                  ],
                  "n": "idx_subscriptions_plan_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "status"
                  ],
                  "n": "idx_subscriptions_status",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "subscriptions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Superadmins can view all subscriptions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "User can view own subscription",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "plan_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "start_date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": null,
                  "n": "end_date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "false",
                  "n": "auto_renew",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "'active'::text",
                  "n": "status",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "plan_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "payment_gateway",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "payment_method",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "amount_paid_usd",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "coupon_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "discount_amount",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "transaction_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                }
              ]
            },
            "user_profiles": {
              "fk": [
                {
                  "n": "user_profiles_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((gender = ANY (ARRAY['male'::text, 'female'::text, 'other'::text])))",
                  "n": "user_profiles_gender_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "email"
                  ],
                  "n": "idx_user_profiles_email",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "oauth_provider"
                  ],
                  "n": "idx_user_profiles_oauth_provider",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_profiles_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own profile",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own profile",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own profile",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own profile",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "Users can insert their own profile",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update their own profile",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  },
                  {
                    "n": "Users can view their own profile",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "full_name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "phone_number",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "country_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "date_of_birth",
                  "id": false,
                  "nl": true,
                  "ty": "date"
                },
                {
                  "d": null,
                  "n": "gender",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "current_country",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "nmc_attempts",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "uses_coaching",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "nursing_id_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "profile_completed",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'email'::character varying",
                  "n": "oauth_provider",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                }
              ]
            },
            "user_sessions": {
              "fk": [
                {
                  "n": "user_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_token"
                  ],
                  "n": "user_sessions_session_token_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can update own sessions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "device_info",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "session_token",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "ip_address",
                  "id": false,
                  "nl": true,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "user_agent",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "last_active_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "ai_usage_stats": {
              "fk": [
                {
                  "n": "ai_usage_stats_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "ai_usage_stats_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "date"
                  ],
                  "n": "idx_ai_usage_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "date"
                  ],
                  "n": "idx_ai_usage_user_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "date"
                  ],
                  "n": "unique_user_date",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "ai_usage_stats_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "ai_usage_stats_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "CURRENT_DATE",
                  "n": "date",
                  "id": false,
                  "nl": false,
                  "ty": "date"
                },
                {
                  "d": "0",
                  "n": "message_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "total_tokens",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0.0000",
                  "n": "total_cost",
                  "id": false,
                  "nl": true,
                  "ty": "numeric"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "dashboard_hero": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "dashboard_hero_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "display_order"
                  ],
                  "n": "idx_dashboard_hero_display_order",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can insert/update/delete dashboard hero",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND admin_users.is_active)))"
                  },
                  {
                    "n": "Any user can view dashboard hero",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('dashboard_hero_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "image_url",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "headline",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "subheadline",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "button_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "button_link",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                }
              ]
            },
            "learning_paths": {
              "fk": [
                {
                  "n": "learning_paths_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((path_type = ANY (ARRAY['sequential'::text, 'adaptive'::text, 'custom'::text])))",
                  "n": "learning_paths_path_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "learning_paths_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own learning path",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own learning path",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own learning path",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own learning path",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('learning_paths_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "path_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "details",
                  "id": false,
                  "nl": false,
                  "ty": "jsonb"
                },
                {
                  "d": "0",
                  "n": "current_index",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "lesson_quizzes": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "lesson_quizzes_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('lesson_quizzes_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "position",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "mfa_amr_claims": {
              "fk": [
                {
                  "n": "mfa_amr_claims_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "amr_id_pk",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_id",
                    "authentication_method"
                  ],
                  "n": "mfa_amr_claims_session_id_authentication_method_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "authentication_method",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "mfa_challenges": {
              "fk": [
                {
                  "n": "mfa_challenges_auth_factor_id_fkey",
                  "map": [
                    {
                      "c": "factor_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "mfa_factors"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "mfa_challenge_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "mfa_challenges_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "factor_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "verified_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "ip_address",
                  "id": false,
                  "nl": false,
                  "ty": "inet"
                },
                {
                  "d": null,
                  "n": "otp_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "web_authn_session_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                }
              ]
            },
            "oauth_consents": {
              "fk": [
                {
                  "n": "oauth_consents_client_id_fkey",
                  "map": [
                    {
                      "c": "client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "oauth_consents_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK (((revoked_at IS NULL) OR (revoked_at >= granted_at)))",
                  "n": "oauth_consents_revoked_after_granted"
                },
                {
                  "e": "CHECK ((char_length(scopes) <= 2048))",
                  "n": "oauth_consents_scopes_length"
                },
                {
                  "e": "CHECK ((char_length(TRIM(BOTH FROM scopes)) > 0))",
                  "n": "oauth_consents_scopes_not_empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "client_id"
                  ],
                  "n": "oauth_consents_active_client_idx",
                  "pr": "(revoked_at IS NULL)",
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "client_id"
                  ],
                  "n": "oauth_consents_active_user_client_idx",
                  "pr": "(revoked_at IS NULL)",
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_consents_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "client_id"
                  ],
                  "n": "oauth_consents_user_client_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "granted_at"
                  ],
                  "n": "oauth_consents_user_order_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "client_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "scopes",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "granted_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "revoked_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "question_media": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((media_type = ANY (ARRAY['image'::text, 'audio'::text, 'video'::text, 'other'::text])))",
                  "n": "question_media_media_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "question_media_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Anyone can view question media",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('question_media_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "media_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "media_url",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "refresh_tokens": {
              "fk": [
                {
                  "n": "refresh_tokens_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "refresh_tokens_instance_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "instance_id",
                    "user_id"
                  ],
                  "n": "refresh_tokens_instance_id_user_id_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "parent"
                  ],
                  "n": "refresh_tokens_parent_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "refresh_tokens_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_id",
                    "revoked"
                  ],
                  "n": "refresh_tokens_session_id_revoked_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "token"
                  ],
                  "n": "refresh_tokens_token_unique",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "updated_at"
                  ],
                  "n": "refresh_tokens_updated_at_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": "nextval('auth.refresh_tokens_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "token",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "revoked",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "parent",
                  "id": false,
                  "nl": true,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "saml_providers": {
              "fk": [
                {
                  "n": "saml_providers_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(entity_id) > 0))",
                  "n": "entity_id not empty"
                },
                {
                  "e": "CHECK (((metadata_url = NULL::text) OR (char_length(metadata_url) > 0)))",
                  "n": "metadata_url not empty"
                },
                {
                  "e": "CHECK ((char_length(metadata_xml) > 0))",
                  "n": "metadata_xml not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "entity_id"
                  ],
                  "n": "saml_providers_entity_id_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "saml_providers_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "saml_providers_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "entity_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "metadata_xml",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "metadata_url",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "attribute_mapping",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "name_id_format",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                }
              ]
            },
            "user_analytics": {
              "fk": [
                {
                  "n": "user_analytics_subtopic_id_fkey",
                  "map": [
                    {
                      "c": "subtopic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subtopics"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "user_analytics_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "user_analytics_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "topic_id",
                    "subtopic_id"
                  ],
                  "n": "user_analytics_user_id_topic_id_subtopic_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own analytics",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own analytics",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own analytics",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('user_analytics_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "subtopic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "practice_attempts",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "correct_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "incorrect_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "average_time_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "float8"
                },
                {
                  "d": "now()",
                  "n": "last_updated",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "email_templates": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "email_templates_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "template_name"
                  ],
                  "n": "email_templates_template_name_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "template_name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "subject",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "html_content",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "variables",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "one_time_tokens": {
              "fk": [
                {
                  "n": "one_time_tokens_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(token_hash) > 0))",
                  "n": "one_time_tokens_token_hash_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "one_time_tokens_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "relates_to"
                  ],
                  "n": "one_time_tokens_relates_to_hash_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "token_hash"
                  ],
                  "n": "one_time_tokens_token_hash_hash_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "token_type"
                  ],
                  "n": "one_time_tokens_user_id_token_type_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "token_type",
                  "id": false,
                  "nl": false,
                  "ty": "one_time_token_type"
                },
                {
                  "d": null,
                  "n": "token_hash",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "relates_to",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                }
              ]
            },
            "discount_coupons": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((discount_type = ANY (ARRAY['percentage'::text, 'fixed_amount'::text])))",
                  "n": "valid_discount_type"
                },
                {
                  "e": "CHECK ((((discount_type = 'percentage'::text) AND ((discount_value >= (1)::numeric) AND (discount_value <= (100)::numeric))) OR (discount_type = 'fixed_amount'::text)))",
                  "n": "valid_percentage"
                }
              ],
              "idx": [
                {
                  "c": [
                    "code"
                  ],
                  "n": "discount_coupons_code_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "discount_coupons_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "code"
                  ],
                  "n": "idx_discount_coupons_code",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "is_active"
                  ],
                  "n": "idx_discount_coupons_is_active",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "valid_from",
                    "valid_until"
                  ],
                  "n": "idx_discount_coupons_valid_dates",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "code",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "discount_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "discount_value",
                  "id": false,
                  "nl": false,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "applicable_plans",
                  "id": false,
                  "nl": true,
                  "ty": "_uuid"
                },
                {
                  "d": null,
                  "n": "usage_limit",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "0",
                  "n": "usage_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "valid_from",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "valid_until",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "mock_exam_config": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "mock_exam_config_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can manage mock exam config",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Students can view mock exam config",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "true"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "15",
                  "n": "part_a_question_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "30",
                  "n": "part_a_duration_minutes",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "120",
                  "n": "part_b_question_count",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "150",
                  "n": "part_b_duration_minutes",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": "false",
                  "n": "allow_calculator",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "practice_results": {
              "fk": [
                {
                  "n": "practice_results_session_id_fkey",
                  "map": [
                    {
                      "c": "session_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "practice_sessions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "practice_results_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert result for own practice session",
                    "chk": "(session_id IN ( SELECT practice_sessions.id\n   FROM practice_sessions\n  WHERE (practice_sessions.user_id = auth.uid())))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can view results of own practice session",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(session_id IN ( SELECT practice_sessions.id\n   FROM practice_sessions\n  WHERE (practice_sessions.user_id = auth.uid())))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('practice_results_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "session_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "selected_option_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "is_correct",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "time_taken_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "question_options": {
              "fk": [
                {
                  "n": "question_options_question_id_fkey",
                  "map": [
                    {
                      "c": "question_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "questions"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "question_id"
                  ],
                  "n": "idx_question_options_question_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "question_options_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "question_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "option_text",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "false",
                  "n": "is_correct",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "audit_log_entries": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "audit_log_entries_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "instance_id"
                  ],
                  "n": "audit_logs_instance_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "instance_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "payload",
                  "id": false,
                  "nl": true,
                  "ty": "json"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "''::character varying",
                  "n": "ip_address",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                }
              ]
            },
            "buckets_analytics": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "buckets_analytics_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'ANALYTICS'::storage.buckettype",
                  "n": "type",
                  "id": false,
                  "nl": false,
                  "ty": "buckettype"
                },
                {
                  "d": "'ICEBERG'::text",
                  "n": "format",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            },
            "content_approvals": {
              "fk": [
                {
                  "n": "content_approvals_reviewed_by_fkey",
                  "map": [
                    {
                      "c": "reviewed_by",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "admin_users"
                  },
                  "on_d": "SET NULL",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "content_approvals_submitted_by_fkey",
                  "map": [
                    {
                      "c": "submitted_by",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "admin_users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((resource_type = ANY (ARRAY['module'::text, 'topic'::text, 'lesson'::text, 'question'::text, 'flashcard'::text])))",
                  "n": "content_approvals_resource_type_check"
                },
                {
                  "e": "CHECK ((status = ANY (ARRAY['pending'::text, 'approved'::text, 'rejected'::text])))",
                  "n": "content_approvals_status_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "content_approvals_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "idx_content_approvals_created_at",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "resource_type"
                  ],
                  "n": "idx_content_approvals_resource_type",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "reviewed_by"
                  ],
                  "n": "idx_content_approvals_reviewed_by",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "status"
                  ],
                  "n": "idx_content_approvals_status",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "submitted_by"
                  ],
                  "n": "idx_content_approvals_submitted_by",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Editor can create",
                    "chk": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'superadmin'::text])) AND (admin_users.is_active = true))))",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": null
                  },
                  {
                    "n": "Editor can read all",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'moderator'::text, 'superadmin'::text])) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Editor can update own pending",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "((submitted_by = auth.uid()) AND (status = 'pending'::text) AND (EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = ANY (ARRAY['editor'::text, 'superadmin'::text])) AND (admin_users.is_active = true)))))"
                  },
                  {
                    "n": "Superadmin full access",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [
                      "authenticated"
                    ],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "resource_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "resource_title",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "'pending'::text",
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "submitted_by",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "reviewed_by",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "review_comments",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "reviewed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "practice_sessions": {
              "fk": [
                {
                  "n": "practice_sessions_module_id_fkey",
                  "map": [
                    {
                      "c": "module_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "modules"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "practice_sessions_subtopic_id_fkey",
                  "map": [
                    {
                      "c": "subtopic_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "subtopics"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "practice_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "subdivision"
                  ],
                  "n": "idx_practice_sessions_subdivision",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "practice_sessions_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can insert own practice session",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can manage own practice sessions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can update own practice session",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('practice_sessions_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "topic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "subtopic_id",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "started_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "total_questions",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "correct_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "incorrect_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "skipped_count",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "subdivision",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "module_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                }
              ]
            },
            "saml_relay_states": {
              "fk": [
                {
                  "n": "saml_relay_states_flow_state_id_fkey",
                  "map": [
                    {
                      "c": "flow_state_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "flow_state"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "saml_relay_states_sso_provider_id_fkey",
                  "map": [
                    {
                      "c": "sso_provider_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "sso_providers"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(request_id) > 0))",
                  "n": "request_id not empty"
                }
              ],
              "idx": [
                {
                  "c": [
                    "created_at"
                  ],
                  "n": "saml_relay_states_created_at_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "for_email"
                  ],
                  "n": "saml_relay_states_for_email_idx",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "saml_relay_states_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "sso_provider_id"
                  ],
                  "n": "saml_relay_states_sso_provider_id_idx",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "sso_provider_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "request_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "for_email",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "redirect_to",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "flow_state_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                }
              ]
            },
            "schema_migrations": {
              "fk": [],
              "pk": [
                [
                  "version"
                ],
                [
                  "version"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "version"
                  ],
                  "n": "schema_migrations_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "version"
                  ],
                  "n": "schema_migrations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "varchar"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "inserted_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "ai_recommendations": {
              "fk": [
                {
                  "n": "ai_recommendations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((recommendation_type = ANY (ARRAY['lesson'::text, 'topic'::text, 'subtopic'::text, 'quiz'::text])))",
                  "n": "ai_recommendations_recommendation_type_check"
                }
              ],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "ai_recommendations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "User can delete own AI recommendations",
                    "chk": null,
                    "cmd": "DELETE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can insert own AI recommendations",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "User can update own AI recommendations",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "User can view own AI recommendations",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "nextval('ai_recommendations_id_seq'::regclass)",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "recommendation_type",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "reference_id",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "score",
                  "id": false,
                  "nl": true,
                  "ty": "float8"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "expires_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "analytics_sessions": {
              "fk": [
                {
                  "n": "analytics_sessions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "analytics_sessions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "session_start"
                  ],
                  "n": "idx_analytics_sessions_date",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id",
                    "session_start"
                  ],
                  "n": "idx_analytics_sessions_user_date",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "now()",
                  "n": "session_start",
                  "id": false,
                  "nl": false,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "session_end",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                },
                {
                  "d": null,
                  "n": "duration_seconds",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamp"
                }
              ]
            },
            "chat_conversations": {
              "fk": [
                {
                  "n": "chat_conversations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "public",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "chat_conversations_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "is_active"
                  ],
                  "n": "idx_chat_conversations_active",
                  "pr": "(is_active = true)",
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_chat_conversations_user",
                  "pr": null,
                  "uq": false
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "chat_conversations_admin_policy",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "chat_conversations_user_policy",
                    "chk": null,
                    "cmd": null,
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "'New Conversation'::text",
                  "n": "title",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "'{}'::jsonb",
                  "n": "context_data",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "subscription_plans": {
              "fk": [],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "is_active"
                  ],
                  "n": "idx_subscription_plans_is_active",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "subscription_plans_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "name",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "description",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "price_usd",
                  "id": false,
                  "nl": false,
                  "ty": "numeric"
                },
                {
                  "d": null,
                  "n": "duration_days",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "features",
                  "id": false,
                  "nl": true,
                  "ty": "_text"
                },
                {
                  "d": "true",
                  "n": "is_active",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": "0",
                  "n": "display_order",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "lesson_quiz_results": {
              "fk": [
                {
                  "n": "lesson_quiz_results_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_lesson_quiz_results_lesson",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_lesson_quiz_results_user",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "lesson_quiz_results_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "lesson_id"
                  ],
                  "n": "lesson_quiz_results_user_id_lesson_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Admins can view all quiz results",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Users can insert own quiz results",
                    "chk": "(auth.uid() = user_id)",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can view own quiz results",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(auth.uid() = user_id)"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "score_percentage",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "passed",
                  "id": false,
                  "nl": false,
                  "ty": "bool"
                },
                {
                  "d": "now()",
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "learning_completions": {
              "fk": [
                {
                  "n": "learning_completions_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "is_completed"
                  ],
                  "n": "idx_learning_completions_completed",
                  "pr": "(is_completed = true)",
                  "uq": false
                },
                {
                  "c": [
                    "completed_at"
                  ],
                  "n": "idx_learning_completions_completed_at",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "lesson_id"
                  ],
                  "n": "idx_learning_completions_lesson_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "user_id"
                  ],
                  "n": "idx_learning_completions_user_id",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "learning_completions_pkey",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "user_id",
                    "lesson_id"
                  ],
                  "n": "learning_completions_user_id_lesson_id_key",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [
                  {
                    "n": "Editors can view learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'editor'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Moderators can view learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'moderator'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Superadmins can view all learning_completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(EXISTS ( SELECT 1\n   FROM admin_users\n  WHERE ((admin_users.id = auth.uid()) AND (admin_users.role = 'superadmin'::text) AND (admin_users.is_active = true))))"
                  },
                  {
                    "n": "Users can insert their own completions",
                    "chk": "(user_id = auth.uid())",
                    "cmd": "INSERT",
                    "perm": true,
                    "roles": [],
                    "using": null
                  },
                  {
                    "n": "Users can update their own completions",
                    "chk": null,
                    "cmd": "UPDATE",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  },
                  {
                    "n": "Users can view their own completions",
                    "chk": null,
                    "cmd": "SELECT",
                    "perm": true,
                    "roles": [],
                    "using": "(user_id = auth.uid())"
                  }
                ],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "lesson_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": "false",
                  "n": "is_completed",
                  "id": false,
                  "nl": true,
                  "ty": "bool"
                },
                {
                  "d": null,
                  "n": "completed_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "0",
                  "n": "time_spent_minutes",
                  "id": false,
                  "nl": true,
                  "ty": "int4"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                },
                {
                  "d": "now()",
                  "n": "updated_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "oauth_authorizations": {
              "fk": [
                {
                  "n": "oauth_authorizations_client_id_fkey",
                  "map": [
                    {
                      "c": "client_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "oauth_clients"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "oauth_authorizations_user_id_fkey",
                  "map": [
                    {
                      "c": "user_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "auth",
                    "t": "users"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [
                {
                  "e": "CHECK ((char_length(authorization_code) <= 255))",
                  "n": "oauth_authorizations_authorization_code_length"
                },
                {
                  "e": "CHECK ((char_length(code_challenge) <= 128))",
                  "n": "oauth_authorizations_code_challenge_length"
                },
                {
                  "e": "CHECK ((expires_at > created_at))",
                  "n": "oauth_authorizations_expires_at_future"
                },
                {
                  "e": "CHECK ((char_length(redirect_uri) <= 2048))",
                  "n": "oauth_authorizations_redirect_uri_length"
                },
                {
                  "e": "CHECK ((char_length(resource) <= 2048))",
                  "n": "oauth_authorizations_resource_length"
                },
                {
                  "e": "CHECK ((char_length(scope) <= 4096))",
                  "n": "oauth_authorizations_scope_length"
                },
                {
                  "e": "CHECK ((char_length(state) <= 4096))",
                  "n": "oauth_authorizations_state_length"
                }
              ],
              "idx": [
                {
                  "c": [
                    "expires_at"
                  ],
                  "n": "oauth_auth_pending_exp_idx",
                  "pr": "(status = 'pending'::auth.oauth_authorization_status)",
                  "uq": false
                },
                {
                  "c": [
                    "authorization_code"
                  ],
                  "n": "oauth_authorizations_authorization_code_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "authorization_id"
                  ],
                  "n": "oauth_authorizations_authorization_id_key",
                  "pr": null,
                  "uq": true
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "oauth_authorizations_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": false,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "authorization_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "client_id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "user_id",
                  "id": false,
                  "nl": true,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "redirect_uri",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "scope",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "state",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "resource",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "code_challenge_method",
                  "id": false,
                  "nl": true,
                  "ty": "code_challenge_method"
                },
                {
                  "d": "'code'::auth.oauth_response_type",
                  "n": "response_type",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_response_type"
                },
                {
                  "d": "'pending'::auth.oauth_authorization_status",
                  "n": "status",
                  "id": false,
                  "nl": false,
                  "ty": "oauth_authorization_status"
                },
                {
                  "d": null,
                  "n": "authorization_code",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": "(now() + '00:03:00'::interval)",
                  "n": "expires_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "approved_at",
                  "id": false,
                  "nl": true,
                  "ty": "timestamptz"
                }
              ]
            },
            "s3_multipart_uploads": {
              "fk": [
                {
                  "n": "s3_multipart_uploads_bucket_id_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "bucket_id",
                    "key",
                    "created_at"
                  ],
                  "n": "idx_multipart_uploads_list",
                  "pr": null,
                  "uq": false
                },
                {
                  "c": [
                    "id"
                  ],
                  "n": "s3_multipart_uploads_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": null,
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "in_progress_size",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "upload_signature",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                },
                {
                  "d": null,
                  "n": "user_metadata",
                  "id": false,
                  "nl": true,
                  "ty": "jsonb"
                }
              ]
            },
            "s3_multipart_uploads_parts": {
              "fk": [
                {
                  "n": "s3_multipart_uploads_parts_bucket_id_fkey",
                  "map": [
                    {
                      "c": "bucket_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "buckets"
                  },
                  "on_d": "NO ACTION",
                  "on_u": "NO ACTION"
                },
                {
                  "n": "s3_multipart_uploads_parts_upload_id_fkey",
                  "map": [
                    {
                      "c": "upload_id",
                      "rc": "id"
                    }
                  ],
                  "ref": {
                    "s": "storage",
                    "t": "s3_multipart_uploads"
                  },
                  "on_d": "CASCADE",
                  "on_u": "NO ACTION"
                }
              ],
              "pk": [
                [
                  "id"
                ]
              ],
              "chk": [],
              "idx": [
                {
                  "c": [
                    "id"
                  ],
                  "n": "s3_multipart_uploads_parts_pkey",
                  "pr": null,
                  "uq": true
                }
              ],
              "rls": {
                "en": true,
                "pol": [],
                "force": false
              },
              "cols": [
                {
                  "d": "gen_random_uuid()",
                  "n": "id",
                  "id": false,
                  "nl": false,
                  "ty": "uuid"
                },
                {
                  "d": null,
                  "n": "upload_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "0",
                  "n": "size",
                  "id": false,
                  "nl": false,
                  "ty": "int8"
                },
                {
                  "d": null,
                  "n": "part_number",
                  "id": false,
                  "nl": false,
                  "ty": "int4"
                },
                {
                  "d": null,
                  "n": "bucket_id",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "key",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "etag",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "owner_id",
                  "id": false,
                  "nl": true,
                  "ty": "text"
                },
                {
                  "d": null,
                  "n": "version",
                  "id": false,
                  "nl": false,
                  "ty": "text"
                },
                {
                  "d": "now()",
                  "n": "created_at",
                  "id": false,
                  "nl": false,
                  "ty": "timestamptz"
                }
              ]
            }
          }
        }
      }
    }
  }
]